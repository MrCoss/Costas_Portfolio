(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function cS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eg={exports:{}},tc={},tg={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function AR(){if(Yw)return Ae;Yw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function b(B,X,ue){this.props=B,this.context=X,this.refs=C,this.updater=ue||T}b.prototype.isReactComponent={},b.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=b.prototype;function j(B,X,ue){this.props=B,this.context=X,this.refs=C,this.updater=ue||T}var U=j.prototype=new A;U.constructor=j,S(U,b.prototype),U.isPureReactComponent=!0;var W=Array.isArray,Q=Object.prototype.hasOwnProperty,Z={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function P(B,X,ue){var Pe,Re={},Le=null,He=null;if(X!=null)for(Pe in X.ref!==void 0&&(He=X.ref),X.key!==void 0&&(Le=""+X.key),X)Q.call(X,Pe)&&!D.hasOwnProperty(Pe)&&(Re[Pe]=X[Pe]);var We=arguments.length-2;if(We===1)Re.children=ue;else if(1<We){for(var Ye=Array(We),Ft=0;Ft<We;Ft++)Ye[Ft]=arguments[Ft+2];Re.children=Ye}if(B&&B.defaultProps)for(Pe in We=B.defaultProps,We)Re[Pe]===void 0&&(Re[Pe]=We[Pe]);return{$$typeof:t,type:B,key:Le,ref:He,props:Re,_owner:Z.current}}function k(B,X){return{$$typeof:t,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function F(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return X[ue]})}var $=/\/+/g;function O(B,X){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):X.toString(36)}function Ue(B,X,ue,Pe,Re){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var He=!1;if(B===null)He=!0;else switch(Le){case"string":case"number":He=!0;break;case"object":switch(B.$$typeof){case t:case e:He=!0}}if(He)return He=B,Re=Re(He),B=Pe===""?"."+O(He,0):Pe,W(Re)?(ue="",B!=null&&(ue=B.replace($,"$&/")+"/"),Ue(Re,X,ue,"",function(Ft){return Ft})):Re!=null&&(N(Re)&&(Re=k(Re,ue+(!Re.key||He&&He.key===Re.key?"":(""+Re.key).replace($,"$&/")+"/")+B)),X.push(Re)),1;if(He=0,Pe=Pe===""?".":Pe+":",W(B))for(var We=0;We<B.length;We++){Le=B[We];var Ye=Pe+O(Le,We);He+=Ue(Le,X,ue,Ye,Re)}else if(Ye=w(B),typeof Ye=="function")for(B=Ye.call(B),We=0;!(Le=B.next()).done;)Le=Le.value,Ye=Pe+O(Le,We++),He+=Ue(Le,X,ue,Ye,Re);else if(Le==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return He}function yt(B,X,ue){if(B==null)return B;var Pe=[],Re=0;return Ue(B,Pe,"","",function(Le){return X.call(ue,Le,Re++)}),Pe}function ft(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var be={current:null},se={transition:null},ge={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:se,ReactCurrentOwner:Z};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:yt,forEach:function(B,X,ue){yt(B,function(){X.apply(this,arguments)},ue)},count:function(B){var X=0;return yt(B,function(){X++}),X},toArray:function(B){return yt(B,function(X){return X})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ae.Component=b,Ae.Fragment=n,Ae.Profiler=r,Ae.PureComponent=j,Ae.StrictMode=i,Ae.Suspense=h,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ae.act=ne,Ae.cloneElement=function(B,X,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Pe=S({},B.props),Re=B.key,Le=B.ref,He=B._owner;if(X!=null){if(X.ref!==void 0&&(Le=X.ref,He=Z.current),X.key!==void 0&&(Re=""+X.key),B.type&&B.type.defaultProps)var We=B.type.defaultProps;for(Ye in X)Q.call(X,Ye)&&!D.hasOwnProperty(Ye)&&(Pe[Ye]=X[Ye]===void 0&&We!==void 0?We[Ye]:X[Ye])}var Ye=arguments.length-2;if(Ye===1)Pe.children=ue;else if(1<Ye){We=Array(Ye);for(var Ft=0;Ft<Ye;Ft++)We[Ft]=arguments[Ft+2];Pe.children=We}return{$$typeof:t,type:B.type,key:Re,ref:Le,props:Pe,_owner:He}},Ae.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},Ae.createElement=P,Ae.createFactory=function(B){var X=P.bind(null,B);return X.type=B,X},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(B){return{$$typeof:u,render:B}},Ae.isValidElement=N,Ae.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:ft}},Ae.memo=function(B,X){return{$$typeof:f,type:B,compare:X===void 0?null:X}},Ae.startTransition=function(B){var X=se.transition;se.transition={};try{B()}finally{se.transition=X}},Ae.unstable_act=ne,Ae.useCallback=function(B,X){return be.current.useCallback(B,X)},Ae.useContext=function(B){return be.current.useContext(B)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(B){return be.current.useDeferredValue(B)},Ae.useEffect=function(B,X){return be.current.useEffect(B,X)},Ae.useId=function(){return be.current.useId()},Ae.useImperativeHandle=function(B,X,ue){return be.current.useImperativeHandle(B,X,ue)},Ae.useInsertionEffect=function(B,X){return be.current.useInsertionEffect(B,X)},Ae.useLayoutEffect=function(B,X){return be.current.useLayoutEffect(B,X)},Ae.useMemo=function(B,X){return be.current.useMemo(B,X)},Ae.useReducer=function(B,X,ue){return be.current.useReducer(B,X,ue)},Ae.useRef=function(B){return be.current.useRef(B)},Ae.useState=function(B){return be.current.useState(B)},Ae.useSyncExternalStore=function(B,X,ue){return be.current.useSyncExternalStore(B,X,ue)},Ae.useTransition=function(){return be.current.useTransition()},Ae.version="18.3.1",Ae}var Xw;function ev(){return Xw||(Xw=1,tg.exports=AR()),tg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function DR(){if(Jw)return tc;Jw=1;var t=ev(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var m,y={},w=null,T=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)i.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:w,ref:T,props:y,_owner:r.current}}return tc.Fragment=n,tc.jsx=l,tc.jsxs=l,tc}var Zw;function MR(){return Zw||(Zw=1,eg.exports=DR()),eg.exports}var R=MR(),V=ev();const et=cS(V);var bd={},ng={exports:{}},An={},ig={exports:{}},rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function OR(){return e1||(e1=1,function(t){function e(se,ge){var ne=se.length;se.push(ge);e:for(;0<ne;){var B=ne-1>>>1,X=se[B];if(0<r(X,ge))se[B]=ge,se[ne]=X,ne=B;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ge=se[0],ne=se.pop();if(ne!==ge){se[0]=ne;e:for(var B=0,X=se.length,ue=X>>>1;B<ue;){var Pe=2*(B+1)-1,Re=se[Pe],Le=Pe+1,He=se[Le];if(0>r(Re,ne))Le<X&&0>r(He,Re)?(se[B]=He,se[Le]=ne,B=Le):(se[B]=Re,se[Pe]=ne,B=Pe);else if(Le<X&&0>r(He,ne))se[B]=He,se[Le]=ne,B=Le;else break e}}return ge}function r(se,ge){var ne=se.sortIndex-ge.sortIndex;return ne!==0?ne:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,y=null,w=3,T=!1,S=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(se){for(var ge=n(f);ge!==null;){if(ge.callback===null)i(f);else if(ge.startTime<=se)i(f),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=n(f)}}function W(se){if(C=!1,U(se),!S)if(n(h)!==null)S=!0,ft(Q);else{var ge=n(f);ge!==null&&be(W,ge.startTime-se)}}function Q(se,ge){S=!1,C&&(C=!1,A(P),P=-1),T=!0;var ne=w;try{for(U(ge),y=n(h);y!==null&&(!(y.expirationTime>ge)||se&&!F());){var B=y.callback;if(typeof B=="function"){y.callback=null,w=y.priorityLevel;var X=B(y.expirationTime<=ge);ge=t.unstable_now(),typeof X=="function"?y.callback=X:y===n(h)&&i(h),U(ge)}else i(h);y=n(h)}if(y!==null)var ue=!0;else{var Pe=n(f);Pe!==null&&be(W,Pe.startTime-ge),ue=!1}return ue}finally{y=null,w=ne,T=!1}}var Z=!1,D=null,P=-1,k=5,N=-1;function F(){return!(t.unstable_now()-N<k)}function $(){if(D!==null){var se=t.unstable_now();N=se;var ge=!0;try{ge=D(!0,se)}finally{ge?O():(Z=!1,D=null)}}else Z=!1}var O;if(typeof j=="function")O=function(){j($)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,yt=Ue.port2;Ue.port1.onmessage=$,O=function(){yt.postMessage(null)}}else O=function(){b($,0)};function ft(se){D=se,Z||(Z=!0,O())}function be(se,ge){P=b(function(){se(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,ft(Q))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var ge=3;break;default:ge=w}var ne=w;w=ge;try{return se()}finally{w=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ne=w;w=se;try{return ge()}finally{w=ne}},t.unstable_scheduleCallback=function(se,ge,ne){var B=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?B+ne:B):ne=B,se){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ne+X,se={id:m++,callback:ge,priorityLevel:se,startTime:ne,expirationTime:X,sortIndex:-1},ne>B?(se.sortIndex=ne,e(f,se),n(h)===null&&se===n(f)&&(C?(A(P),P=-1):C=!0,be(W,ne-B))):(se.sortIndex=X,e(h,se),S||T||(S=!0,ft(Q))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var ge=w;return function(){var ne=w;w=ge;try{return se.apply(this,arguments)}finally{w=ne}}}}(rg)),rg}var t1;function NR(){return t1||(t1=1,ig.exports=OR()),ig.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1;function VR(){if(n1)return An;n1=1;var t=ev(),e=NR();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)i.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(s){return h.call(y,s)?!0:h.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(s,a,c,p,g,_,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new C(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(A,j);b[a]=new C(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(A,j);b[a]=new C(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(A,j);b[a]=new C(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,a,c,p){var g=b.hasOwnProperty(a)?b[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,g,p)&&(c=null),p||g===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var W=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),Z=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,B;function X(s){if(B===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+s}var ue=!1;function Pe(s,a){if(!s||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var p=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){p=K}s.call(a.prototype)}else{try{throw Error()}catch(K){p=K}s()}}catch(K){if(K&&p&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),_=p.stack.split(`
`),x=g.length-1,M=_.length-1;1<=x&&0<=M&&g[x]!==_[M];)M--;for(;1<=x&&0<=M;x--,M--)if(g[x]!==_[M]){if(x!==1||M!==1)do if(x--,M--,0>M||g[x]!==_[M]){var L=`
`+g[x].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=x&&0<=M);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?X(s):""}function Re(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Pe(s.type,!1),s;case 11:return s=Pe(s.type.render,!1),s;case 1:return s=Pe(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Z:return"Portal";case k:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case Ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case yt:return a=s.displayName||null,a!==null?a:Le(s.type)||"Memo";case ft:a=s._payload,s=s._init;try{return Le(s(a))}catch{}}return null}function He(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function We(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ft(s){var a=Ye(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){p=""+x,_.call(this,x)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(x){p=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function wr(s){s._valueTracker||(s._valueTracker=Ft(s))}function ya(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=Ye(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function ts(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ro(s,a){var c=a.checked;return ne({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function va(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=We(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function au(s,a){a=a.checked,a!=null&&U(s,"checked",a,!1)}function lu(s,a){au(s,a);var c=We(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?_a(s,a.type,c):a.hasOwnProperty("defaultValue")&&_a(s,a.type,We(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ch(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function _a(s,a,c){(a!=="number"||ts(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Er=Array.isArray;function Tr(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+We(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function uu(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function wa(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Er(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:We(c)}}function Ea(s,a){var c=We(a.value),p=We(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function cu(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function kt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?kt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xr,hu=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=xr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ns(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oo=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(s){oo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),so[a]=so[s]})});function du(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||so.hasOwnProperty(s)&&so[s]?(""+a).trim():a+"px"}function fu(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=du(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var pu=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mu(s,a){if(a){if(pu[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function gu(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function Ta(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xa=null,Kn=null,Ui=null;function Sa(s){if(s=zu(s)){if(typeof xa!="function")throw Error(n(280));var a=s.stateNode;a&&(a=zh(a),xa(s.stateNode,s.type,a))}}function Bi(s){Kn?Ui?Ui.push(s):Ui=[s]:Kn=s}function yu(){if(Kn){var s=Kn,a=Ui;if(Ui=Kn=null,Sa(s),a)for(s=0;s<a.length;s++)Sa(a[s])}}function lo(s,a){return s(a)}function vu(){}var Sr=!1;function _u(s,a,c){if(Sr)return s(a,c);Sr=!0;try{return lo(s,a,c)}finally{Sr=!1,(Kn!==null||Ui!==null)&&(vu(),yu())}}function vt(s,a){var c=s.stateNode;if(c===null)return null;var p=zh(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var ba=!1;if(u)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){ba=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{ba=!1}function uo(s,a,c,p,g,_,x,M,L){var K=Array.prototype.slice.call(arguments,3);try{a.apply(c,K)}catch(ie){this.onError(ie)}}var co=!1,Ia=null,pi=!1,wu=null,Cp={onError:function(s){co=!0,Ia=s}};function Pa(s,a,c,p,g,_,x,M,L){co=!1,Ia=null,uo.apply(Cp,arguments)}function hh(s,a,c,p,g,_,x,M,L){if(Pa.apply(this,arguments),co){if(co){var K=Ia;co=!1,Ia=null}else throw Error(n(198));pi||(pi=!0,wu=K)}}function mi(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function ho(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function gi(s){if(mi(s)!==s)throw Error(n(188))}function dh(s){var a=s.alternate;if(!a){if(a=mi(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return gi(g),s;if(_===p)return gi(g),a;_=_.sibling}throw Error(n(188))}if(c.return!==p.return)c=g,p=_;else{for(var x=!1,M=g.child;M;){if(M===c){x=!0,c=g,p=_;break}if(M===p){x=!0,p=g,c=_;break}M=M.sibling}if(!x){for(M=_.child;M;){if(M===c){x=!0,c=_,p=g;break}if(M===p){x=!0,p=_,c=g;break}M=M.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function Eu(s){return s=dh(s),s!==null?Ca(s):null}function Ca(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ca(s);if(a!==null)return a;s=s.sibling}return null}var ka=e.unstable_scheduleCallback,Tu=e.unstable_cancelCallback,fh=e.unstable_shouldYield,kp=e.unstable_requestPaint,Xe=e.unstable_now,ph=e.unstable_getCurrentPriorityLevel,fo=e.unstable_ImmediatePriority,is=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,xu=e.unstable_LowPriority,mh=e.unstable_IdlePriority,po=null,On=null;function gh(s){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(po,s,void 0,(s.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:vh,Su=Math.log,yh=Math.LN2;function vh(s){return s>>>=0,s===0?32:31-(Su(s)/yh|0)|0}var Ra=64,Aa=4194304;function rs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function mo(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,_=s.pingedLanes,x=c&268435455;if(x!==0){var M=x&~g;M!==0?p=rs(M):(_&=x,_!==0&&(p=rs(_)))}else x=c&~g,x!==0?p=rs(x):_!==0&&(p=rs(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-yn(a),g=1<<c,p|=s[c],a&=~g;return p}function Rp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var x=31-yn(_),M=1<<x,L=g[x];L===-1?((M&c)===0||(M&p)!==0)&&(g[x]=Rp(M,a)):L<=a&&(s.expiredLanes|=M),_&=~M}}function Nn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function go(){var s=Ra;return Ra<<=1,(Ra&4194240)===0&&(Ra=64),s}function ss(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function os(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-yn(a),s[a]=c}function Qe(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-yn(c),_=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~_}}function as(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-yn(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var Ve=0;function ls(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var _h,Da,wh,Eh,Th,bu=!1,$i=[],Wt=null,yi=null,vi=null,us=new Map,Yn=new Map,Hi=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xh(s,a){switch(s){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":us.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(a.pointerId)}}function Sn(s,a,c,p,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[g]},a!==null&&(a=zu(a),a!==null&&Da(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Dp(s,a,c,p,g){switch(a){case"focusin":return Wt=Sn(Wt,s,a,c,p,g),!0;case"dragenter":return yi=Sn(yi,s,a,c,p,g),!0;case"mouseover":return vi=Sn(vi,s,a,c,p,g),!0;case"pointerover":var _=g.pointerId;return us.set(_,Sn(us.get(_)||null,s,a,c,p,g)),!0;case"gotpointercapture":return _=g.pointerId,Yn.set(_,Sn(Yn.get(_)||null,s,a,c,p,g)),!0}return!1}function Sh(s){var a=Eo(s.target);if(a!==null){var c=mi(a);if(c!==null){if(a=c.tag,a===13){if(a=ho(c),a!==null){s.blockedOn=a,Th(s.priority,function(){wh(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ir(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ma(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);ao=p,c.target.dispatchEvent(p),ao=null}else return a=zu(c),a!==null&&Da(a),s.blockedOn=c,!1;a.shift()}return!0}function yo(s,a,c){Ir(s)&&c.delete(a)}function bh(){bu=!1,Wt!==null&&Ir(Wt)&&(Wt=null),yi!==null&&Ir(yi)&&(yi=null),vi!==null&&Ir(vi)&&(vi=null),us.forEach(yo),Yn.forEach(yo)}function _i(s,a){s.blockedOn===a&&(s.blockedOn=null,bu||(bu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bh)))}function wi(s){function a(g){return _i(g,s)}if(0<$i.length){_i($i[0],s);for(var c=1;c<$i.length;c++){var p=$i[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Wt!==null&&_i(Wt,s),yi!==null&&_i(yi,s),vi!==null&&_i(vi,s),us.forEach(a),Yn.forEach(a),c=0;c<Hi.length;c++)p=Hi[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Hi.length&&(c=Hi[0],c.blockedOn===null);)Sh(c),c.blockedOn===null&&Hi.shift()}var Pr=W.ReactCurrentBatchConfig,cs=!0;function ot(s,a,c,p){var g=Ve,_=Pr.transition;Pr.transition=null;try{Ve=1,Iu(s,a,c,p)}finally{Ve=g,Pr.transition=_}}function Mp(s,a,c,p){var g=Ve,_=Pr.transition;Pr.transition=null;try{Ve=4,Iu(s,a,c,p)}finally{Ve=g,Pr.transition=_}}function Iu(s,a,c,p){if(cs){var g=Ma(s,a,c,p);if(g===null)Hp(s,a,p,vo,c),xh(s,p);else if(Dp(g,s,a,c,p))p.stopPropagation();else if(xh(s,p),a&4&&-1<Ap.indexOf(s)){for(;g!==null;){var _=zu(g);if(_!==null&&_h(_),_=Ma(s,a,c,p),_===null&&Hp(s,a,p,vo,c),_===g)break;g=_}g!==null&&p.stopPropagation()}else Hp(s,a,p,null,c)}}var vo=null;function Ma(s,a,c,p){if(vo=null,s=Ta(p),s=Eo(s),s!==null)if(a=mi(s),a===null)s=null;else if(c=a.tag,c===13){if(s=ho(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return vo=s,null}function Pu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ph()){case fo:return 1;case is:return 4;case Qn:case xu:return 16;case mh:return 536870912;default:return 16}default:return 16}}var Vn=null,Oa=null,bn=null;function Cu(){if(bn)return bn;var s,a=Oa,c=a.length,p,g="value"in Vn?Vn.value:Vn.textContent,_=g.length;for(s=0;s<c&&a[s]===g[s];s++);var x=c-s;for(p=1;p<=x&&a[c-p]===g[_-p];p++);return bn=g.slice(s,1<p?1-p:void 0)}function Na(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Wi(){return!0}function ku(){return!1}function qt(s){function a(c,p,g,_,x){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Wi:ku,this.isPropagationStopped=ku,this}return ne(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),a}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=qt(Ei),qi=ne({},Ei,{view:0,detail:0}),Op=qt(qi),La,Cr,hs,_o=ne({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hs&&(hs&&s.type==="mousemove"?(La=s.screenX-hs.screenX,Cr=s.screenY-hs.screenY):Cr=La=0,hs=s),La)},movementY:function(s){return"movementY"in s?s.movementY:Cr}}),Fa=qt(_o),Ru=ne({},_o,{dataTransfer:0}),Ih=qt(Ru),ja=ne({},qi,{relatedTarget:0}),za=qt(ja),Ph=ne({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=qt(Ph),Ch=ne({},Ei,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),kh=qt(Ch),Rh=ne({},Ei,{data:0}),Au=qt(Rh),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ah[s])?!!a[s]:!1}function Gi(){return Dh}var d=ne({},qi,{key:function(s){if(s.key){var a=Ua[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Na(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(s){return s.type==="keypress"?Na(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Na(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=qt(d),E=ne({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=qt(E),H=ne({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),Y=qt(H),ae=ne({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=qt(ae),At=ne({},_o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=qt(At),jt=[9,13,27,32],xt=u&&"CompositionEvent"in window,Xn=null;u&&"documentMode"in document&&(Xn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Xn,wo=u&&(!xt||Xn&&8<Xn&&11>=Xn),Ba=" ",H_=!1;function W_(s,a){switch(s){case"keyup":return jt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $a=!1;function Ck(s,a){switch(s){case"compositionend":return q_(a);case"keypress":return a.which!==32?null:(H_=!0,Ba);case"textInput":return s=a.data,s===Ba&&H_?null:s;default:return null}}function kk(s,a){if($a)return s==="compositionend"||!xt&&W_(s,a)?(s=Cu(),bn=Oa=Vn=null,$a=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wo&&a.locale!=="ko"?null:a.data;default:return null}}var Rk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Rk[s.type]:a==="textarea"}function K_(s,a,c,p){Bi(p),a=Lh(a,"onChange"),0<a.length&&(c=new Va("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Du=null,Mu=null;function Ak(s){d0(s,0)}function Mh(s){var a=Ka(s);if(ya(a))return s}function Dk(s,a){if(s==="change")return a}var Q_=!1;if(u){var Np;if(u){var Vp="oninput"in document;if(!Vp){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),Vp=typeof Y_.oninput=="function"}Np=Vp}else Np=!1;Q_=Np&&(!document.documentMode||9<document.documentMode)}function X_(){Du&&(Du.detachEvent("onpropertychange",J_),Mu=Du=null)}function J_(s){if(s.propertyName==="value"&&Mh(Mu)){var a=[];K_(a,Mu,s,Ta(s)),_u(Ak,a)}}function Mk(s,a,c){s==="focusin"?(X_(),Du=a,Mu=c,Du.attachEvent("onpropertychange",J_)):s==="focusout"&&X_()}function Ok(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mh(Mu)}function Nk(s,a){if(s==="click")return Mh(a)}function Vk(s,a){if(s==="input"||s==="change")return Mh(a)}function Lk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ti=typeof Object.is=="function"?Object.is:Lk;function Ou(s,a){if(Ti(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!h.call(a,g)||!Ti(s[g],a[g]))return!1}return!0}function Z_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function e0(s,a){var c=Z_(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Z_(c)}}function t0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?t0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function n0(){for(var s=window,a=ts();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ts(s.document)}return a}function Lp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Fk(s){var a=n0(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&t0(c.ownerDocument.documentElement,c)){if(p!==null&&Lp(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(p.start,g);p=p.end===void 0?_:Math.min(p.end,g),!s.extend&&_>p&&(g=p,p=_,_=g),g=e0(c,_);var x=e0(c,p);g&&x&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>p?(s.addRange(a),s.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jk=u&&"documentMode"in document&&11>=document.documentMode,Ha=null,Fp=null,Nu=null,jp=!1;function i0(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;jp||Ha==null||Ha!==ts(p)||(p=Ha,"selectionStart"in p&&Lp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Nu&&Ou(Nu,p)||(Nu=p,p=Lh(Fp,"onSelect"),0<p.length&&(a=new Va("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Ha)))}function Oh(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Wa={animationend:Oh("Animation","AnimationEnd"),animationiteration:Oh("Animation","AnimationIteration"),animationstart:Oh("Animation","AnimationStart"),transitionend:Oh("Transition","TransitionEnd")},zp={},r0={};u&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Nh(s){if(zp[s])return zp[s];if(!Wa[s])return s;var a=Wa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in r0)return zp[s]=a[c];return s}var s0=Nh("animationend"),o0=Nh("animationiteration"),a0=Nh("animationstart"),l0=Nh("transitionend"),u0=new Map,c0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(s,a){u0.set(s,a),o(a,[s])}for(var Up=0;Up<c0.length;Up++){var Bp=c0[Up],zk=Bp.toLowerCase(),Uk=Bp[0].toUpperCase()+Bp.slice(1);ds(zk,"on"+Uk)}ds(s0,"onAnimationEnd"),ds(o0,"onAnimationIteration"),ds(a0,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(l0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vu));function h0(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,hh(p,a,void 0,s),s.currentTarget=null}function d0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var x=p.length-1;0<=x;x--){var M=p[x],L=M.instance,K=M.currentTarget;if(M=M.listener,L!==_&&g.isPropagationStopped())break e;h0(g,M,K),_=L}else for(x=0;x<p.length;x++){if(M=p[x],L=M.instance,K=M.currentTarget,M=M.listener,L!==_&&g.isPropagationStopped())break e;h0(g,M,K),_=L}}}if(pi)throw s=wu,pi=!1,wu=null,s}function tt(s,a){var c=a[Yp];c===void 0&&(c=a[Yp]=new Set);var p=s+"__bubble";c.has(p)||(f0(a,s,2,!1),c.add(p))}function $p(s,a,c){var p=0;a&&(p|=4),f0(c,s,p,a)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function Lu(s){if(!s[Vh]){s[Vh]=!0,i.forEach(function(c){c!=="selectionchange"&&(Bk.has(c)||$p(c,!1,s),$p(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Vh]||(a[Vh]=!0,$p("selectionchange",!1,a))}}function f0(s,a,c,p){switch(Pu(a)){case 1:var g=ot;break;case 4:g=Mp;break;default:g=Iu}c=g.bind(null,a,c,s),g=void 0,!ba||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Hp(s,a,c,p,g){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var x=p.tag;if(x===3||x===4){var M=p.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(x===4)for(x=p.return;x!==null;){var L=x.tag;if((L===3||L===4)&&(L=x.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;x=x.return}for(;M!==null;){if(x=Eo(M),x===null)return;if(L=x.tag,L===5||L===6){p=_=x;continue e}M=M.parentNode}}p=p.return}_u(function(){var K=_,ie=Ta(c),re=[];e:{var te=u0.get(s);if(te!==void 0){var ce=Va,fe=s;switch(s){case"keypress":if(Na(c)===0)break e;case"keydown":case"keyup":ce=v;break;case"focusin":fe="focus",ce=za;break;case"focusout":fe="blur",ce=za;break;case"beforeblur":case"afterblur":ce=za;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Y;break;case s0:case o0:case a0:ce=kr;break;case l0:ce=Ge;break;case"scroll":ce=Op;break;case"wheel":ce=Fe;break;case"copy":case"cut":case"paste":ce=kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=I}var pe=(a&4)!==0,_t=!pe&&s==="scroll",q=pe?te!==null?te+"Capture":null:te;pe=[];for(var z=K,G;z!==null;){G=z;var oe=G.stateNode;if(G.tag===5&&oe!==null&&(G=oe,q!==null&&(oe=vt(z,q),oe!=null&&pe.push(Fu(z,oe,G)))),_t)break;z=z.return}0<pe.length&&(te=new ce(te,fe,null,c,ie),re.push({event:te,listeners:pe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",te&&c!==ao&&(fe=c.relatedTarget||c.fromElement)&&(Eo(fe)||fe[Rr]))break e;if((ce||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(fe=c.relatedTarget||c.toElement,ce=K,fe=fe?Eo(fe):null,fe!==null&&(_t=mi(fe),fe!==_t||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=K),ce!==fe)){if(pe=Fa,oe="onMouseLeave",q="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(pe=I,oe="onPointerLeave",q="onPointerEnter",z="pointer"),_t=ce==null?te:Ka(ce),G=fe==null?te:Ka(fe),te=new pe(oe,z+"leave",ce,c,ie),te.target=_t,te.relatedTarget=G,oe=null,Eo(ie)===K&&(pe=new pe(q,z+"enter",fe,c,ie),pe.target=G,pe.relatedTarget=_t,oe=pe),_t=oe,ce&&fe)t:{for(pe=ce,q=fe,z=0,G=pe;G;G=qa(G))z++;for(G=0,oe=q;oe;oe=qa(oe))G++;for(;0<z-G;)pe=qa(pe),z--;for(;0<G-z;)q=qa(q),G--;for(;z--;){if(pe===q||q!==null&&pe===q.alternate)break t;pe=qa(pe),q=qa(q)}pe=null}else pe=null;ce!==null&&p0(re,te,ce,pe,!1),fe!==null&&_t!==null&&p0(re,_t,fe,pe,!0)}}e:{if(te=K?Ka(K):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ye=Dk;else if(G_(te))if(Q_)ye=Vk;else{ye=Ok;var we=Mk}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=Nk);if(ye&&(ye=ye(s,K))){K_(re,ye,c,ie);break e}we&&we(s,te,K),s==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&_a(te,"number",te.value)}switch(we=K?Ka(K):window,s){case"focusin":(G_(we)||we.contentEditable==="true")&&(Ha=we,Fp=K,Nu=null);break;case"focusout":Nu=Fp=Ha=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,i0(re,c,ie);break;case"selectionchange":if(jk)break;case"keydown":case"keyup":i0(re,c,ie)}var Ee;if(xt)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else $a?W_(s,c)&&(Ie="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(wo&&c.locale!=="ko"&&($a||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&$a&&(Ee=Cu()):(Vn=ie,Oa="value"in Vn?Vn.value:Vn.textContent,$a=!0)),we=Lh(K,Ie),0<we.length&&(Ie=new Au(Ie,s,null,c,ie),re.push({event:Ie,listeners:we}),Ee?Ie.data=Ee:(Ee=q_(c),Ee!==null&&(Ie.data=Ee)))),(Ee=Ln?Ck(s,c):kk(s,c))&&(K=Lh(K,"onBeforeInput"),0<K.length&&(ie=new Au("onBeforeInput","beforeinput",null,c,ie),re.push({event:ie,listeners:K}),ie.data=Ee))}d0(re,a)})}function Fu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Lh(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=vt(s,c),_!=null&&p.unshift(Fu(s,_,g)),_=vt(s,a),_!=null&&p.push(Fu(s,_,g))),s=s.return}return p}function qa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function p0(s,a,c,p,g){for(var _=a._reactName,x=[];c!==null&&c!==p;){var M=c,L=M.alternate,K=M.stateNode;if(L!==null&&L===p)break;M.tag===5&&K!==null&&(M=K,g?(L=vt(c,_),L!=null&&x.unshift(Fu(c,L,M))):g||(L=vt(c,_),L!=null&&x.push(Fu(c,L,M)))),c=c.return}x.length!==0&&s.push({event:a,listeners:x})}var $k=/\r\n?/g,Hk=/\u0000|\uFFFD/g;function m0(s){return(typeof s=="string"?s:""+s).replace($k,`
`).replace(Hk,"")}function Fh(s,a,c){if(a=m0(a),m0(s)!==a&&c)throw Error(n(425))}function jh(){}var Wp=null,qp=null;function Gp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Kp=typeof setTimeout=="function"?setTimeout:void 0,Wk=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,qk=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(s){return g0.resolve(null).then(s).catch(Gk)}:Kp;function Gk(s){setTimeout(function(){throw s})}function Qp(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),wi(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);wi(a)}function fs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function y0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Ga,ju="__reactProps$"+Ga,Rr="__reactContainer$"+Ga,Yp="__reactEvents$"+Ga,Kk="__reactListeners$"+Ga,Qk="__reactHandles$"+Ga;function Eo(s){var a=s[Ki];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Rr]||c[Ki]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=y0(s);s!==null;){if(c=s[Ki])return c;s=y0(s)}return a}s=c,c=s.parentNode}return null}function zu(s){return s=s[Ki]||s[Rr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ka(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function zh(s){return s[ju]||null}var Xp=[],Qa=-1;function ps(s){return{current:s}}function nt(s){0>Qa||(s.current=Xp[Qa],Xp[Qa]=null,Qa--)}function Je(s,a){Qa++,Xp[Qa]=s.current,s.current=a}var ms={},en=ps(ms),In=ps(!1),To=ms;function Ya(s,a){var c=s.type.contextTypes;if(!c)return ms;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Pn(s){return s=s.childContextTypes,s!=null}function Uh(){nt(In),nt(en)}function v0(s,a,c){if(en.current!==ms)throw Error(n(168));Je(en,a),Je(In,c)}function _0(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(n(108,He(s)||"Unknown",g));return ne({},c,p)}function Bh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ms,To=en.current,Je(en,s),Je(In,In.current),!0}function w0(s,a,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=_0(s,a,To),p.__reactInternalMemoizedMergedChildContext=s,nt(In),nt(en),Je(en,s)):nt(In),Je(In,c)}var Ar=null,$h=!1,Jp=!1;function E0(s){Ar===null?Ar=[s]:Ar.push(s)}function Yk(s){$h=!0,E0(s)}function gs(){if(!Jp&&Ar!==null){Jp=!0;var s=0,a=Ve;try{var c=Ar;for(Ve=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Ar=null,$h=!1}catch(g){throw Ar!==null&&(Ar=Ar.slice(s+1)),ka(fo,gs),g}finally{Ve=a,Jp=!1}}return null}var Xa=[],Ja=0,Hh=null,Wh=0,Jn=[],Zn=0,xo=null,Dr=1,Mr="";function So(s,a){Xa[Ja++]=Wh,Xa[Ja++]=Hh,Hh=s,Wh=a}function T0(s,a,c){Jn[Zn++]=Dr,Jn[Zn++]=Mr,Jn[Zn++]=xo,xo=s;var p=Dr;s=Mr;var g=32-yn(p)-1;p&=~(1<<g),c+=1;var _=32-yn(a)+g;if(30<_){var x=g-g%5;_=(p&(1<<x)-1).toString(32),p>>=x,g-=x,Dr=1<<32-yn(a)+g|c<<g|p,Mr=_+s}else Dr=1<<_|c<<g|p,Mr=s}function Zp(s){s.return!==null&&(So(s,1),T0(s,1,0))}function em(s){for(;s===Hh;)Hh=Xa[--Ja],Xa[Ja]=null,Wh=Xa[--Ja],Xa[Ja]=null;for(;s===xo;)xo=Jn[--Zn],Jn[Zn]=null,Mr=Jn[--Zn],Jn[Zn]=null,Dr=Jn[--Zn],Jn[Zn]=null}var Fn=null,jn=null,at=!1,xi=null;function x0(s,a){var c=ii(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function S0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Fn=s,jn=fs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Fn=s,jn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=xo!==null?{id:Dr,overflow:Mr}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=ii(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Fn=s,jn=null,!0):!1;default:return!1}}function tm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function nm(s){if(at){var a=jn;if(a){var c=a;if(!S0(s,a)){if(tm(s))throw Error(n(418));a=fs(c.nextSibling);var p=Fn;a&&S0(s,a)?x0(p,c):(s.flags=s.flags&-4097|2,at=!1,Fn=s)}}else{if(tm(s))throw Error(n(418));s.flags=s.flags&-4097|2,at=!1,Fn=s}}}function b0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Fn=s}function qh(s){if(s!==Fn)return!1;if(!at)return b0(s),at=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Gp(s.type,s.memoizedProps)),a&&(a=jn)){if(tm(s))throw I0(),Error(n(418));for(;a;)x0(s,a),a=fs(a.nextSibling)}if(b0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){jn=fs(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}jn=null}}else jn=Fn?fs(s.stateNode.nextSibling):null;return!0}function I0(){for(var s=jn;s;)s=fs(s.nextSibling)}function Za(){jn=Fn=null,at=!1}function im(s){xi===null?xi=[s]:xi.push(s)}var Xk=W.ReactCurrentBatchConfig;function Uu(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var g=p,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(x){var M=g.refs;x===null?delete M[_]:M[_]=x},a._stringRef=_,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Gh(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function P0(s){var a=s._init;return a(s._payload)}function C0(s){function a(q,z){if(s){var G=q.deletions;G===null?(q.deletions=[z],q.flags|=16):G.push(z)}}function c(q,z){if(!s)return null;for(;z!==null;)a(q,z),z=z.sibling;return null}function p(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function g(q,z){return q=Ss(q,z),q.index=0,q.sibling=null,q}function _(q,z,G){return q.index=G,s?(G=q.alternate,G!==null?(G=G.index,G<z?(q.flags|=2,z):G):(q.flags|=2,z)):(q.flags|=1048576,z)}function x(q){return s&&q.alternate===null&&(q.flags|=2),q}function M(q,z,G,oe){return z===null||z.tag!==6?(z=Km(G,q.mode,oe),z.return=q,z):(z=g(z,G),z.return=q,z)}function L(q,z,G,oe){var ye=G.type;return ye===D?ie(q,z,G.props.children,oe,G.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ft&&P0(ye)===z.type)?(oe=g(z,G.props),oe.ref=Uu(q,z,G),oe.return=q,oe):(oe=yd(G.type,G.key,G.props,null,q.mode,oe),oe.ref=Uu(q,z,G),oe.return=q,oe)}function K(q,z,G,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Qm(G,q.mode,oe),z.return=q,z):(z=g(z,G.children||[]),z.return=q,z)}function ie(q,z,G,oe,ye){return z===null||z.tag!==7?(z=Do(G,q.mode,oe,ye),z.return=q,z):(z=g(z,G),z.return=q,z)}function re(q,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Km(""+z,q.mode,G),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return G=yd(z.type,z.key,z.props,null,q.mode,G),G.ref=Uu(q,null,z),G.return=q,G;case Z:return z=Qm(z,q.mode,G),z.return=q,z;case ft:var oe=z._init;return re(q,oe(z._payload),G)}if(Er(z)||ge(z))return z=Do(z,q.mode,G,null),z.return=q,z;Gh(q,z)}return null}function te(q,z,G,oe){var ye=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ye!==null?null:M(q,z,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return G.key===ye?L(q,z,G,oe):null;case Z:return G.key===ye?K(q,z,G,oe):null;case ft:return ye=G._init,te(q,z,ye(G._payload),oe)}if(Er(G)||ge(G))return ye!==null?null:ie(q,z,G,oe,null);Gh(q,G)}return null}function ce(q,z,G,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return q=q.get(G)||null,M(z,q,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Q:return q=q.get(oe.key===null?G:oe.key)||null,L(z,q,oe,ye);case Z:return q=q.get(oe.key===null?G:oe.key)||null,K(z,q,oe,ye);case ft:var we=oe._init;return ce(q,z,G,we(oe._payload),ye)}if(Er(oe)||ge(oe))return q=q.get(G)||null,ie(z,q,oe,ye,null);Gh(z,oe)}return null}function fe(q,z,G,oe){for(var ye=null,we=null,Ee=z,Ie=z=0,Bt=null;Ee!==null&&Ie<G.length;Ie++){Ee.index>Ie?(Bt=Ee,Ee=null):Bt=Ee.sibling;var Be=te(q,Ee,G[Ie],oe);if(Be===null){Ee===null&&(Ee=Bt);break}s&&Ee&&Be.alternate===null&&a(q,Ee),z=_(Be,z,Ie),we===null?ye=Be:we.sibling=Be,we=Be,Ee=Bt}if(Ie===G.length)return c(q,Ee),at&&So(q,Ie),ye;if(Ee===null){for(;Ie<G.length;Ie++)Ee=re(q,G[Ie],oe),Ee!==null&&(z=_(Ee,z,Ie),we===null?ye=Ee:we.sibling=Ee,we=Ee);return at&&So(q,Ie),ye}for(Ee=p(q,Ee);Ie<G.length;Ie++)Bt=ce(Ee,q,Ie,G[Ie],oe),Bt!==null&&(s&&Bt.alternate!==null&&Ee.delete(Bt.key===null?Ie:Bt.key),z=_(Bt,z,Ie),we===null?ye=Bt:we.sibling=Bt,we=Bt);return s&&Ee.forEach(function(bs){return a(q,bs)}),at&&So(q,Ie),ye}function pe(q,z,G,oe){var ye=ge(G);if(typeof ye!="function")throw Error(n(150));if(G=ye.call(G),G==null)throw Error(n(151));for(var we=ye=null,Ee=z,Ie=z=0,Bt=null,Be=G.next();Ee!==null&&!Be.done;Ie++,Be=G.next()){Ee.index>Ie?(Bt=Ee,Ee=null):Bt=Ee.sibling;var bs=te(q,Ee,Be.value,oe);if(bs===null){Ee===null&&(Ee=Bt);break}s&&Ee&&bs.alternate===null&&a(q,Ee),z=_(bs,z,Ie),we===null?ye=bs:we.sibling=bs,we=bs,Ee=Bt}if(Be.done)return c(q,Ee),at&&So(q,Ie),ye;if(Ee===null){for(;!Be.done;Ie++,Be=G.next())Be=re(q,Be.value,oe),Be!==null&&(z=_(Be,z,Ie),we===null?ye=Be:we.sibling=Be,we=Be);return at&&So(q,Ie),ye}for(Ee=p(q,Ee);!Be.done;Ie++,Be=G.next())Be=ce(Ee,q,Ie,Be.value,oe),Be!==null&&(s&&Be.alternate!==null&&Ee.delete(Be.key===null?Ie:Be.key),z=_(Be,z,Ie),we===null?ye=Be:we.sibling=Be,we=Be);return s&&Ee.forEach(function(RR){return a(q,RR)}),at&&So(q,Ie),ye}function _t(q,z,G,oe){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:e:{for(var ye=G.key,we=z;we!==null;){if(we.key===ye){if(ye=G.type,ye===D){if(we.tag===7){c(q,we.sibling),z=g(we,G.props.children),z.return=q,q=z;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ft&&P0(ye)===we.type){c(q,we.sibling),z=g(we,G.props),z.ref=Uu(q,we,G),z.return=q,q=z;break e}c(q,we);break}else a(q,we);we=we.sibling}G.type===D?(z=Do(G.props.children,q.mode,oe,G.key),z.return=q,q=z):(oe=yd(G.type,G.key,G.props,null,q.mode,oe),oe.ref=Uu(q,z,G),oe.return=q,q=oe)}return x(q);case Z:e:{for(we=G.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){c(q,z.sibling),z=g(z,G.children||[]),z.return=q,q=z;break e}else{c(q,z);break}else a(q,z);z=z.sibling}z=Qm(G,q.mode,oe),z.return=q,q=z}return x(q);case ft:return we=G._init,_t(q,z,we(G._payload),oe)}if(Er(G))return fe(q,z,G,oe);if(ge(G))return pe(q,z,G,oe);Gh(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(c(q,z.sibling),z=g(z,G),z.return=q,q=z):(c(q,z),z=Km(G,q.mode,oe),z.return=q,q=z),x(q)):c(q,z)}return _t}var el=C0(!0),k0=C0(!1),Kh=ps(null),Qh=null,tl=null,rm=null;function sm(){rm=tl=Qh=null}function om(s){var a=Kh.current;nt(Kh),s._currentValue=a}function am(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function nl(s,a){Qh=s,rm=tl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Cn=!0),s.firstContext=null)}function ei(s){var a=s._currentValue;if(rm!==s)if(s={context:s,memoizedValue:a,next:null},tl===null){if(Qh===null)throw Error(n(308));tl=s,Qh.dependencies={lanes:0,firstContext:s}}else tl=tl.next=s;return a}var bo=null;function lm(s){bo===null?bo=[s]:bo.push(s)}function R0(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,lm(a)):(c.next=g.next,g.next=c),a.interleaved=c,Or(s,p)}function Or(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ys=!1;function um(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Nr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function vs(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(ze&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Or(s,c)}return g=p.interleaved,g===null?(a.next=a,lm(p)):(a.next=g.next,g.next=a),p.interleaved=a,Or(s,c)}function Yh(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,as(s,c)}}function D0(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=x:_=_.next=x,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Xh(s,a,c,p){var g=s.updateQueue;ys=!1;var _=g.firstBaseUpdate,x=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var L=M,K=L.next;L.next=null,x===null?_=K:x.next=K,x=L;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,M=ie.lastBaseUpdate,M!==x&&(M===null?ie.firstBaseUpdate=K:M.next=K,ie.lastBaseUpdate=L))}if(_!==null){var re=g.baseState;x=0,ie=K=L=null,M=_;do{var te=M.lane,ce=M.eventTime;if((p&te)===te){ie!==null&&(ie=ie.next={eventTime:ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var fe=s,pe=M;switch(te=a,ce=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){re=fe.call(ce,re,te);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ce,re,te):fe,te==null)break e;re=ne({},re,te);break e;case 2:ys=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,te=g.effects,te===null?g.effects=[M]:te.push(M))}else ce={eventTime:ce,lane:te,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ie===null?(K=ie=ce,L=re):ie=ie.next=ce,x|=te;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;te=M,M=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);if(ie===null&&(L=re),g.baseState=L,g.firstBaseUpdate=K,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do x|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);Co|=x,s.lanes=x,s.memoizedState=re}}function M0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(n(191,g));g.call(p)}}}var Bu={},Qi=ps(Bu),$u=ps(Bu),Hu=ps(Bu);function Io(s){if(s===Bu)throw Error(n(174));return s}function cm(s,a){switch(Je(Hu,a),Je($u,s),Je(Qi,Bu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Rt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Rt(a,s)}nt(Qi),Je(Qi,a)}function il(){nt(Qi),nt($u),nt(Hu)}function O0(s){Io(Hu.current);var a=Io(Qi.current),c=Rt(a,s.type);a!==c&&(Je($u,s),Je(Qi,c))}function hm(s){$u.current===s&&(nt(Qi),nt($u))}var lt=ps(0);function Jh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var dm=[];function fm(){for(var s=0;s<dm.length;s++)dm[s]._workInProgressVersionPrimary=null;dm.length=0}var Zh=W.ReactCurrentDispatcher,pm=W.ReactCurrentBatchConfig,Po=0,ut=null,Dt=null,zt=null,ed=!1,Wu=!1,qu=0,Jk=0;function tn(){throw Error(n(321))}function mm(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Ti(s[c],a[c]))return!1;return!0}function gm(s,a,c,p,g,_){if(Po=_,ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Zh.current=s===null||s.memoizedState===null?nR:iR,s=c(p,g),Wu){_=0;do{if(Wu=!1,qu=0,25<=_)throw Error(n(301));_+=1,zt=Dt=null,a.updateQueue=null,Zh.current=rR,s=c(p,g)}while(Wu)}if(Zh.current=id,a=Dt!==null&&Dt.next!==null,Po=0,zt=Dt=ut=null,ed=!1,a)throw Error(n(300));return s}function ym(){var s=qu!==0;return qu=0,s}function Yi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ut.memoizedState=zt=s:zt=zt.next=s,zt}function ti(){if(Dt===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var a=zt===null?ut.memoizedState:zt.next;if(a!==null)zt=a,Dt=s;else{if(s===null)throw Error(n(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},zt===null?ut.memoizedState=zt=s:zt=zt.next=s}return zt}function Gu(s,a){return typeof a=="function"?a(s):a}function vm(s){var a=ti(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=Dt,g=p.baseQueue,_=c.pending;if(_!==null){if(g!==null){var x=g.next;g.next=_.next,_.next=x}p.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,p=p.baseState;var M=x=null,L=null,K=_;do{var ie=K.lane;if((Po&ie)===ie)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),p=K.hasEagerState?K.eagerState:s(p,K.action);else{var re={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(M=L=re,x=p):L=L.next=re,ut.lanes|=ie,Co|=ie}K=K.next}while(K!==null&&K!==_);L===null?x=p:L.next=M,Ti(p,a.memoizedState)||(Cn=!0),a.memoizedState=p,a.baseState=x,a.baseQueue=L,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do _=g.lane,ut.lanes|=_,Co|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function _m(s){var a=ti(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do _=s(_,x.action),x=x.next;while(x!==g);Ti(_,a.memoizedState)||(Cn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,p]}function N0(){}function V0(s,a){var c=ut,p=ti(),g=a(),_=!Ti(p.memoizedState,g);if(_&&(p.memoizedState=g,Cn=!0),p=p.queue,wm(j0.bind(null,c,p,s),[s]),p.getSnapshot!==a||_||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,Ku(9,F0.bind(null,c,p,g,a),void 0,null),Ut===null)throw Error(n(349));(Po&30)!==0||L0(c,a,g)}return g}function L0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ut.updateQueue,a===null?(a={lastEffect:null,stores:null},ut.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function F0(s,a,c,p){a.value=c,a.getSnapshot=p,z0(a)&&U0(s)}function j0(s,a,c){return c(function(){z0(a)&&U0(s)})}function z0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Ti(s,c)}catch{return!0}}function U0(s){var a=Or(s,1);a!==null&&Pi(a,s,1,-1)}function B0(s){var a=Yi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:s},a.queue=s,s=s.dispatch=tR.bind(null,ut,s),[a.memoizedState,s]}function Ku(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=ut.updateQueue,a===null?(a={lastEffect:null,stores:null},ut.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function $0(){return ti().memoizedState}function td(s,a,c,p){var g=Yi();ut.flags|=s,g.memoizedState=Ku(1|a,c,void 0,p===void 0?null:p)}function nd(s,a,c,p){var g=ti();p=p===void 0?null:p;var _=void 0;if(Dt!==null){var x=Dt.memoizedState;if(_=x.destroy,p!==null&&mm(p,x.deps)){g.memoizedState=Ku(a,c,_,p);return}}ut.flags|=s,g.memoizedState=Ku(1|a,c,_,p)}function H0(s,a){return td(8390656,8,s,a)}function wm(s,a){return nd(2048,8,s,a)}function W0(s,a){return nd(4,2,s,a)}function q0(s,a){return nd(4,4,s,a)}function G0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function K0(s,a,c){return c=c!=null?c.concat([s]):null,nd(4,4,G0.bind(null,a,s),c)}function Em(){}function Q0(s,a){var c=ti();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&mm(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function Y0(s,a){var c=ti();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&mm(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function X0(s,a,c){return(Po&21)===0?(s.baseState&&(s.baseState=!1,Cn=!0),s.memoizedState=c):(Ti(c,a)||(c=go(),ut.lanes|=c,Co|=c,s.baseState=!0),a)}function Zk(s,a){var c=Ve;Ve=c!==0&&4>c?c:4,s(!0);var p=pm.transition;pm.transition={};try{s(!1),a()}finally{Ve=c,pm.transition=p}}function J0(){return ti().memoizedState}function eR(s,a,c){var p=Ts(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Z0(s))ew(a,c);else if(c=R0(s,a,c,p),c!==null){var g=wn();Pi(c,s,p,g),tw(c,a,p)}}function tR(s,a,c){var p=Ts(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Z0(s))ew(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var x=a.lastRenderedState,M=_(x,c);if(g.hasEagerState=!0,g.eagerState=M,Ti(M,x)){var L=a.interleaved;L===null?(g.next=g,lm(a)):(g.next=L.next,L.next=g),a.interleaved=g;return}}catch{}finally{}c=R0(s,a,g,p),c!==null&&(g=wn(),Pi(c,s,p,g),tw(c,a,p))}}function Z0(s){var a=s.alternate;return s===ut||a!==null&&a===ut}function ew(s,a){Wu=ed=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function tw(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,as(s,c)}}var id={readContext:ei,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},nR={readContext:ei,useCallback:function(s,a){return Yi().memoizedState=[s,a===void 0?null:a],s},useContext:ei,useEffect:H0,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,td(4194308,4,G0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return td(4194308,4,s,a)},useInsertionEffect:function(s,a){return td(4,2,s,a)},useMemo:function(s,a){var c=Yi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Yi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=eR.bind(null,ut,s),[p.memoizedState,s]},useRef:function(s){var a=Yi();return s={current:s},a.memoizedState=s},useState:B0,useDebugValue:Em,useDeferredValue:function(s){return Yi().memoizedState=s},useTransition:function(){var s=B0(!1),a=s[0];return s=Zk.bind(null,s[1]),Yi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=ut,g=Yi();if(at){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Ut===null)throw Error(n(349));(Po&30)!==0||L0(p,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,H0(j0.bind(null,p,_,s),[s]),p.flags|=2048,Ku(9,F0.bind(null,p,_,c,a),void 0,null),c},useId:function(){var s=Yi(),a=Ut.identifierPrefix;if(at){var c=Mr,p=Dr;c=(p&~(1<<32-yn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=qu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Jk++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},iR={readContext:ei,useCallback:Q0,useContext:ei,useEffect:wm,useImperativeHandle:K0,useInsertionEffect:W0,useLayoutEffect:q0,useMemo:Y0,useReducer:vm,useRef:$0,useState:function(){return vm(Gu)},useDebugValue:Em,useDeferredValue:function(s){var a=ti();return X0(a,Dt.memoizedState,s)},useTransition:function(){var s=vm(Gu)[0],a=ti().memoizedState;return[s,a]},useMutableSource:N0,useSyncExternalStore:V0,useId:J0,unstable_isNewReconciler:!1},rR={readContext:ei,useCallback:Q0,useContext:ei,useEffect:wm,useImperativeHandle:K0,useInsertionEffect:W0,useLayoutEffect:q0,useMemo:Y0,useReducer:_m,useRef:$0,useState:function(){return _m(Gu)},useDebugValue:Em,useDeferredValue:function(s){var a=ti();return Dt===null?a.memoizedState=s:X0(a,Dt.memoizedState,s)},useTransition:function(){var s=_m(Gu)[0],a=ti().memoizedState;return[s,a]},useMutableSource:N0,useSyncExternalStore:V0,useId:J0,unstable_isNewReconciler:!1};function Si(s,a){if(s&&s.defaultProps){a=ne({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Tm(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:ne({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var rd={isMounted:function(s){return(s=s._reactInternals)?mi(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=wn(),g=Ts(s),_=Nr(p,g);_.payload=a,c!=null&&(_.callback=c),a=vs(s,_,g),a!==null&&(Pi(a,s,g,p),Yh(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=wn(),g=Ts(s),_=Nr(p,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=vs(s,_,g),a!==null&&(Pi(a,s,g,p),Yh(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=wn(),p=Ts(s),g=Nr(c,p);g.tag=2,a!=null&&(g.callback=a),a=vs(s,g,p),a!==null&&(Pi(a,s,p,c),Yh(a,s,p))}};function nw(s,a,c,p,g,_,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,x):a.prototype&&a.prototype.isPureReactComponent?!Ou(c,p)||!Ou(g,_):!0}function iw(s,a,c){var p=!1,g=ms,_=a.contextType;return typeof _=="object"&&_!==null?_=ei(_):(g=Pn(a)?To:en.current,p=a.contextTypes,_=(p=p!=null)?Ya(s,g):ms),a=new a(c,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=rd,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function rw(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&rd.enqueueReplaceState(a,a.state,null)}function xm(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},um(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=ei(_):(_=Pn(a)?To:en.current,g.context=Ya(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Tm(s,a,_,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&rd.enqueueReplaceState(g,g.state,null),Xh(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function rl(s,a){try{var c="",p=a;do c+=Re(p),p=p.return;while(p);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function Sm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function bm(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var sR=typeof WeakMap=="function"?WeakMap:Map;function sw(s,a,c){c=Nr(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){hd||(hd=!0,zm=p),bm(s,a)},c}function ow(s,a,c){c=Nr(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){bm(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){bm(s,a),typeof p!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),c}function aw(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new sR;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=_R.bind(null,s,a,c),a.then(s,s))}function lw(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function uw(s,a,c,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Nr(-1,1),a.tag=2,vs(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var oR=W.ReactCurrentOwner,Cn=!1;function _n(s,a,c,p){a.child=s===null?k0(a,null,c,p):el(a,s.child,c,p)}function cw(s,a,c,p,g){c=c.render;var _=a.ref;return nl(a,g),p=gm(s,a,c,p,_,g),c=ym(),s!==null&&!Cn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Vr(s,a,g)):(at&&c&&Zp(a),a.flags|=1,_n(s,a,p,g),a.child)}function hw(s,a,c,p,g){if(s===null){var _=c.type;return typeof _=="function"&&!Gm(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,dw(s,a,_,p,g)):(s=yd(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var x=_.memoizedProps;if(c=c.compare,c=c!==null?c:Ou,c(x,p)&&s.ref===a.ref)return Vr(s,a,g)}return a.flags|=1,s=Ss(_,p),s.ref=a.ref,s.return=a,a.child=s}function dw(s,a,c,p,g){if(s!==null){var _=s.memoizedProps;if(Ou(_,p)&&s.ref===a.ref)if(Cn=!1,a.pendingProps=p=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Cn=!0);else return a.lanes=s.lanes,Vr(s,a,g)}return Im(s,a,c,p,g)}function fw(s,a,c){var p=a.pendingProps,g=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ol,zn),zn|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Je(ol,zn),zn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:c,Je(ol,zn),zn|=p}else _!==null?(p=_.baseLanes|c,a.memoizedState=null):p=c,Je(ol,zn),zn|=p;return _n(s,a,g,c),a.child}function pw(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Im(s,a,c,p,g){var _=Pn(c)?To:en.current;return _=Ya(a,_),nl(a,g),c=gm(s,a,c,p,_,g),p=ym(),s!==null&&!Cn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Vr(s,a,g)):(at&&p&&Zp(a),a.flags|=1,_n(s,a,c,g),a.child)}function mw(s,a,c,p,g){if(Pn(c)){var _=!0;Bh(a)}else _=!1;if(nl(a,g),a.stateNode===null)od(s,a),iw(a,c,p),xm(a,c,p,g),p=!0;else if(s===null){var x=a.stateNode,M=a.memoizedProps;x.props=M;var L=x.context,K=c.contextType;typeof K=="object"&&K!==null?K=ei(K):(K=Pn(c)?To:en.current,K=Ya(a,K));var ie=c.getDerivedStateFromProps,re=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function";re||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==p||L!==K)&&rw(a,x,p,K),ys=!1;var te=a.memoizedState;x.state=te,Xh(a,p,x,g),L=a.memoizedState,M!==p||te!==L||In.current||ys?(typeof ie=="function"&&(Tm(a,c,ie,p),L=a.memoizedState),(M=ys||nw(a,c,M,p,te,L,K))?(re||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=L),x.props=p,x.state=L,x.context=K,p=M):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{x=a.stateNode,A0(s,a),M=a.memoizedProps,K=a.type===a.elementType?M:Si(a.type,M),x.props=K,re=a.pendingProps,te=x.context,L=c.contextType,typeof L=="object"&&L!==null?L=ei(L):(L=Pn(c)?To:en.current,L=Ya(a,L));var ce=c.getDerivedStateFromProps;(ie=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==re||te!==L)&&rw(a,x,p,L),ys=!1,te=a.memoizedState,x.state=te,Xh(a,p,x,g);var fe=a.memoizedState;M!==re||te!==fe||In.current||ys?(typeof ce=="function"&&(Tm(a,c,ce,p),fe=a.memoizedState),(K=ys||nw(a,c,K,p,te,fe,L)||!1)?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,fe,L),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,fe,L)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=fe),x.props=p,x.state=fe,x.context=L,p=K):(typeof x.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),p=!1)}return Pm(s,a,c,p,_,g)}function Pm(s,a,c,p,g,_){pw(s,a);var x=(a.flags&128)!==0;if(!p&&!x)return g&&w0(a,c,!1),Vr(s,a,_);p=a.stateNode,oR.current=a;var M=x&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&x?(a.child=el(a,s.child,null,_),a.child=el(a,null,M,_)):_n(s,a,M,_),a.memoizedState=p.state,g&&w0(a,c,!0),a.child}function gw(s){var a=s.stateNode;a.pendingContext?v0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&v0(s,a.context,!1),cm(s,a.containerInfo)}function yw(s,a,c,p,g){return Za(),im(g),a.flags|=256,_n(s,a,c,p),a.child}var Cm={dehydrated:null,treeContext:null,retryLane:0};function km(s){return{baseLanes:s,cachePool:null,transitions:null}}function vw(s,a,c){var p=a.pendingProps,g=lt.current,_=!1,x=(a.flags&128)!==0,M;if((M=x)||(M=s!==null&&s.memoizedState===null?!1:(g&2)!==0),M?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Je(lt,g&1),s===null)return nm(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(x=p.children,s=p.fallback,_?(p=a.mode,_=a.child,x={mode:"hidden",children:x},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=x):_=vd(x,p,0,null),s=Do(s,p,c,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=km(c),a.memoizedState=Cm,s):Rm(a,x));if(g=s.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return aR(s,a,x,p,M,g,c);if(_){_=p.fallback,x=a.mode,g=s.child,M=g.sibling;var L={mode:"hidden",children:p.children};return(x&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=L,a.deletions=null):(p=Ss(g,L),p.subtreeFlags=g.subtreeFlags&14680064),M!==null?_=Ss(M,_):(_=Do(_,x,c,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,x=s.child.memoizedState,x=x===null?km(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},_.memoizedState=x,_.childLanes=s.childLanes&~c,a.memoizedState=Cm,p}return _=s.child,s=_.sibling,p=Ss(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Rm(s,a){return a=vd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function sd(s,a,c,p){return p!==null&&im(p),el(a,s.child,null,c),s=Rm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function aR(s,a,c,p,g,_,x){if(c)return a.flags&256?(a.flags&=-257,p=Sm(Error(n(422))),sd(s,a,x,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=p.fallback,g=a.mode,p=vd({mode:"visible",children:p.children},g,0,null),_=Do(_,g,x,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&el(a,s.child,null,x),a.child.memoizedState=km(x),a.memoizedState=Cm,_);if((a.mode&1)===0)return sd(s,a,x,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var M=p.dgst;return p=M,_=Error(n(419)),p=Sm(_,p,void 0),sd(s,a,x,p)}if(M=(x&s.childLanes)!==0,Cn||M){if(p=Ut,p!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|x))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Or(s,g),Pi(p,s,g,-1))}return qm(),p=Sm(Error(n(421))),sd(s,a,x,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=wR.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,jn=fs(g.nextSibling),Fn=a,at=!0,xi=null,s!==null&&(Jn[Zn++]=Dr,Jn[Zn++]=Mr,Jn[Zn++]=xo,Dr=s.id,Mr=s.overflow,xo=a),a=Rm(a,p.children),a.flags|=4096,a)}function _w(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),am(s.return,a,c)}function Am(s,a,c,p,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=c,_.tailMode=g)}function ww(s,a,c){var p=a.pendingProps,g=p.revealOrder,_=p.tail;if(_n(s,a,p.children,c),p=lt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_w(s,c,a);else if(s.tag===19)_w(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Je(lt,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Jh(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Am(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Jh(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Am(a,!0,c,null,_);break;case"together":Am(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function od(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Vr(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Co|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=Ss(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ss(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function lR(s,a,c){switch(a.tag){case 3:gw(a),Za();break;case 5:O0(a);break;case 1:Pn(a.type)&&Bh(a);break;case 4:cm(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;Je(Kh,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Je(lt,lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?vw(s,a,c):(Je(lt,lt.current&1),s=Vr(s,a,c),s!==null?s.sibling:null);Je(lt,lt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return ww(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(lt,lt.current),p)break;return null;case 22:case 23:return a.lanes=0,fw(s,a,c)}return Vr(s,a,c)}var Ew,Dm,Tw,xw;Ew=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Dm=function(){},Tw=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Io(Qi.current);var _=null;switch(c){case"input":g=ro(s,g),p=ro(s,p),_=[];break;case"select":g=ne({},g,{value:void 0}),p=ne({},p,{value:void 0}),_=[];break;case"textarea":g=uu(s,g),p=uu(s,p),_=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=jh)}mu(c,p);var x;c=null;for(K in g)if(!p.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var M=g[K];for(x in M)M.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(r.hasOwnProperty(K)?_||(_=[]):(_=_||[]).push(K,null));for(K in p){var L=p[K];if(M=g?.[K],p.hasOwnProperty(K)&&L!==M&&(L!=null||M!=null))if(K==="style")if(M){for(x in M)!M.hasOwnProperty(x)||L&&L.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in L)L.hasOwnProperty(x)&&M[x]!==L[x]&&(c||(c={}),c[x]=L[x])}else c||(_||(_=[]),_.push(K,c)),c=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,M=M?M.__html:void 0,L!=null&&M!==L&&(_=_||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(_=_||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(r.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&tt("scroll",s),_||M===L||(_=[])):(_=_||[]).push(K,L))}c&&(_=_||[]).push("style",c);var K=_;(a.updateQueue=K)&&(a.flags|=4)}},xw=function(s,a,c,p){c!==p&&(a.flags|=4)};function Qu(s,a){if(!at)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function nn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function uR(s,a,c){var p=a.pendingProps;switch(em(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(a),null;case 1:return Pn(a.type)&&Uh(),nn(a),null;case 3:return p=a.stateNode,il(),nt(In),nt(en),fm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(qh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xi!==null&&($m(xi),xi=null))),Dm(s,a),nn(a),null;case 5:hm(a);var g=Io(Hu.current);if(c=a.type,s!==null&&a.stateNode!=null)Tw(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return nn(a),null}if(s=Io(Qi.current),qh(a)){p=a.stateNode,c=a.type;var _=a.memoizedProps;switch(p[Ki]=a,p[ju]=_,s=(a.mode&1)!==0,c){case"dialog":tt("cancel",p),tt("close",p);break;case"iframe":case"object":case"embed":tt("load",p);break;case"video":case"audio":for(g=0;g<Vu.length;g++)tt(Vu[g],p);break;case"source":tt("error",p);break;case"img":case"image":case"link":tt("error",p),tt("load",p);break;case"details":tt("toggle",p);break;case"input":va(p,_),tt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},tt("invalid",p);break;case"textarea":wa(p,_),tt("invalid",p)}mu(c,_),g=null;for(var x in _)if(_.hasOwnProperty(x)){var M=_[x];x==="children"?typeof M=="string"?p.textContent!==M&&(_.suppressHydrationWarning!==!0&&Fh(p.textContent,M,s),g=["children",M]):typeof M=="number"&&p.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&Fh(p.textContent,M,s),g=["children",""+M]):r.hasOwnProperty(x)&&M!=null&&x==="onScroll"&&tt("scroll",p)}switch(c){case"input":wr(p),ch(p,_,!0);break;case"textarea":wr(p),cu(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=jh)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=x.createElement(c,{is:p.is}):(s=x.createElement(c),c==="select"&&(x=s,p.multiple?x.multiple=!0:p.size&&(x.size=p.size))):s=x.createElementNS(s,c),s[Ki]=a,s[ju]=p,Ew(s,a,!1,!1),a.stateNode=s;e:{switch(x=gu(c,p),c){case"dialog":tt("cancel",s),tt("close",s),g=p;break;case"iframe":case"object":case"embed":tt("load",s),g=p;break;case"video":case"audio":for(g=0;g<Vu.length;g++)tt(Vu[g],s);g=p;break;case"source":tt("error",s),g=p;break;case"img":case"image":case"link":tt("error",s),tt("load",s),g=p;break;case"details":tt("toggle",s),g=p;break;case"input":va(s,p),g=ro(s,p),tt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=ne({},p,{value:void 0}),tt("invalid",s);break;case"textarea":wa(s,p),g=uu(s,p),tt("invalid",s);break;default:g=p}mu(c,g),M=g;for(_ in M)if(M.hasOwnProperty(_)){var L=M[_];_==="style"?fu(s,L):_==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&hu(s,L)):_==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&ns(s,L):typeof L=="number"&&ns(s,""+L):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(r.hasOwnProperty(_)?L!=null&&_==="onScroll"&&tt("scroll",s):L!=null&&U(s,_,L,x))}switch(c){case"input":wr(s),ch(s,p,!1);break;case"textarea":wr(s),cu(s);break;case"option":p.value!=null&&s.setAttribute("value",""+We(p.value));break;case"select":s.multiple=!!p.multiple,_=p.value,_!=null?Tr(s,!!p.multiple,_,!1):p.defaultValue!=null&&Tr(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=jh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return nn(a),null;case 6:if(s&&a.stateNode!=null)xw(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(c=Io(Hu.current),Io(Qi.current),qh(a)){if(p=a.stateNode,c=a.memoizedProps,p[Ki]=a,(_=p.nodeValue!==c)&&(s=Fn,s!==null))switch(s.tag){case 3:Fh(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Fh(p.nodeValue,c,(s.mode&1)!==0)}_&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ki]=a,a.stateNode=p}return nn(a),null;case 13:if(nt(lt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&jn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)I0(),Za(),a.flags|=98560,_=!1;else if(_=qh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Ki]=a}else Za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;nn(a),_=!1}else xi!==null&&($m(xi),xi=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(lt.current&1)!==0?Mt===0&&(Mt=3):qm())),a.updateQueue!==null&&(a.flags|=4),nn(a),null);case 4:return il(),Dm(s,a),s===null&&Lu(a.stateNode.containerInfo),nn(a),null;case 10:return om(a.type._context),nn(a),null;case 17:return Pn(a.type)&&Uh(),nn(a),null;case 19:if(nt(lt),_=a.memoizedState,_===null)return nn(a),null;if(p=(a.flags&128)!==0,x=_.rendering,x===null)if(p)Qu(_,!1);else{if(Mt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(x=Jh(s),x!==null){for(a.flags|=128,Qu(_,!1),p=x.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)_=c,s=p,_.flags&=14680066,x=_.alternate,x===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=x.childLanes,_.lanes=x.lanes,_.child=x.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=x.memoizedProps,_.memoizedState=x.memoizedState,_.updateQueue=x.updateQueue,_.type=x.type,s=x.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Je(lt,lt.current&1|2),a.child}s=s.sibling}_.tail!==null&&Xe()>al&&(a.flags|=128,p=!0,Qu(_,!1),a.lanes=4194304)}else{if(!p)if(s=Jh(x),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Qu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!x.alternate&&!at)return nn(a),null}else 2*Xe()-_.renderingStartTime>al&&c!==1073741824&&(a.flags|=128,p=!0,Qu(_,!1),a.lanes=4194304);_.isBackwards?(x.sibling=a.child,a.child=x):(c=_.last,c!==null?c.sibling=x:a.child=x,_.last=x)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Xe(),a.sibling=null,c=lt.current,Je(lt,p?c&1|2:c&1),a):(nn(a),null);case 22:case 23:return Wm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(zn&1073741824)!==0&&(nn(a),a.subtreeFlags&6&&(a.flags|=8192)):nn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function cR(s,a){switch(em(a),a.tag){case 1:return Pn(a.type)&&Uh(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return il(),nt(In),nt(en),fm(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return hm(a),null;case 13:if(nt(lt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Za()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return nt(lt),null;case 4:return il(),null;case 10:return om(a.type._context),null;case 22:case 23:return Wm(),null;case 24:return null;default:return null}}var ad=!1,rn=!1,hR=typeof WeakSet=="function"?WeakSet:Set,de=null;function sl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){pt(s,a,p)}else c.current=null}function Mm(s,a,c){try{c()}catch(p){pt(s,a,p)}}var Sw=!1;function dR(s,a){if(Wp=cs,s=n0(),Lp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var x=0,M=-1,L=-1,K=0,ie=0,re=s,te=null;t:for(;;){for(var ce;re!==c||g!==0&&re.nodeType!==3||(M=x+g),re!==_||p!==0&&re.nodeType!==3||(L=x+p),re.nodeType===3&&(x+=re.nodeValue.length),(ce=re.firstChild)!==null;)te=re,re=ce;for(;;){if(re===s)break t;if(te===c&&++K===g&&(M=x),te===_&&++ie===p&&(L=x),(ce=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ce}c=M===-1||L===-1?null:{start:M,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(qp={focusedElem:s,selectionRange:c},cs=!1,de=a;de!==null;)if(a=de,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,de=s;else for(;de!==null;){a=de;try{var fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,_t=fe.memoizedState,q=a.stateNode,z=q.getSnapshotBeforeUpdate(a.elementType===a.type?pe:Si(a.type,pe),_t);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=a.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){pt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,de=s;break}de=a.return}return fe=Sw,Sw=!1,fe}function Yu(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&Mm(a,c,_)}g=g.next}while(g!==p)}}function ld(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Om(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function bw(s){var a=s.alternate;a!==null&&(s.alternate=null,bw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Ki],delete a[ju],delete a[Yp],delete a[Kk],delete a[Qk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Iw(s){return s.tag===5||s.tag===3||s.tag===4}function Pw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Iw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Nm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=jh));else if(p!==4&&(s=s.child,s!==null))for(Nm(s,a,c),s=s.sibling;s!==null;)Nm(s,a,c),s=s.sibling}function Vm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Vm(s,a,c),s=s.sibling;s!==null;)Vm(s,a,c),s=s.sibling}var Gt=null,bi=!1;function _s(s,a,c){for(c=c.child;c!==null;)Cw(s,a,c),c=c.sibling}function Cw(s,a,c){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(po,c)}catch{}switch(c.tag){case 5:rn||sl(c,a);case 6:var p=Gt,g=bi;Gt=null,_s(s,a,c),Gt=p,bi=g,Gt!==null&&(bi?(s=Gt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Gt.removeChild(c.stateNode));break;case 18:Gt!==null&&(bi?(s=Gt,c=c.stateNode,s.nodeType===8?Qp(s.parentNode,c):s.nodeType===1&&Qp(s,c),wi(s)):Qp(Gt,c.stateNode));break;case 4:p=Gt,g=bi,Gt=c.stateNode.containerInfo,bi=!0,_s(s,a,c),Gt=p,bi=g;break;case 0:case 11:case 14:case 15:if(!rn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var _=g,x=_.destroy;_=_.tag,x!==void 0&&((_&2)!==0||(_&4)!==0)&&Mm(c,a,x),g=g.next}while(g!==p)}_s(s,a,c);break;case 1:if(!rn&&(sl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(M){pt(c,a,M)}_s(s,a,c);break;case 21:_s(s,a,c);break;case 22:c.mode&1?(rn=(p=rn)||c.memoizedState!==null,_s(s,a,c),rn=p):_s(s,a,c);break;default:_s(s,a,c)}}function kw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new hR),a.forEach(function(p){var g=ER.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Ii(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var _=s,x=a,M=x;e:for(;M!==null;){switch(M.tag){case 5:Gt=M.stateNode,bi=!1;break e;case 3:Gt=M.stateNode.containerInfo,bi=!0;break e;case 4:Gt=M.stateNode.containerInfo,bi=!0;break e}M=M.return}if(Gt===null)throw Error(n(160));Cw(_,x,g),Gt=null,bi=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(K){pt(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Rw(a,s),a=a.sibling}function Rw(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ii(a,s),Xi(s),p&4){try{Yu(3,s,s.return),ld(3,s)}catch(pe){pt(s,s.return,pe)}try{Yu(5,s,s.return)}catch(pe){pt(s,s.return,pe)}}break;case 1:Ii(a,s),Xi(s),p&512&&c!==null&&sl(c,c.return);break;case 5:if(Ii(a,s),Xi(s),p&512&&c!==null&&sl(c,c.return),s.flags&32){var g=s.stateNode;try{ns(g,"")}catch(pe){pt(s,s.return,pe)}}if(p&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,x=c!==null?c.memoizedProps:_,M=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&au(g,_),gu(M,x);var K=gu(M,_);for(x=0;x<L.length;x+=2){var ie=L[x],re=L[x+1];ie==="style"?fu(g,re):ie==="dangerouslySetInnerHTML"?hu(g,re):ie==="children"?ns(g,re):U(g,ie,re,K)}switch(M){case"input":lu(g,_);break;case"textarea":Ea(g,_);break;case"select":var te=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ce=_.value;ce!=null?Tr(g,!!_.multiple,ce,!1):te!==!!_.multiple&&(_.defaultValue!=null?Tr(g,!!_.multiple,_.defaultValue,!0):Tr(g,!!_.multiple,_.multiple?[]:"",!1))}g[ju]=_}catch(pe){pt(s,s.return,pe)}}break;case 6:if(Ii(a,s),Xi(s),p&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(pe){pt(s,s.return,pe)}}break;case 3:if(Ii(a,s),Xi(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{wi(a.containerInfo)}catch(pe){pt(s,s.return,pe)}break;case 4:Ii(a,s),Xi(s);break;case 13:Ii(a,s),Xi(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(jm=Xe())),p&4&&kw(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(rn=(K=rn)||ie,Ii(a,s),rn=K):Ii(a,s),Xi(s),p&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ie&&(s.mode&1)!==0)for(de=s,ie=s.child;ie!==null;){for(re=de=ie;de!==null;){switch(te=de,ce=te.child,te.tag){case 0:case 11:case 14:case 15:Yu(4,te,te.return);break;case 1:sl(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){p=te,c=te.return;try{a=p,fe.props=a.memoizedProps,fe.state=a.memoizedState,fe.componentWillUnmount()}catch(pe){pt(p,c,pe)}}break;case 5:sl(te,te.return);break;case 22:if(te.memoizedState!==null){Mw(re);continue}}ce!==null?(ce.return=te,de=ce):Mw(re)}ie=ie.sibling}e:for(ie=null,re=s;;){if(re.tag===5){if(ie===null){ie=re;try{g=re.stateNode,K?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=re.stateNode,L=re.memoizedProps.style,x=L!=null&&L.hasOwnProperty("display")?L.display:null,M.style.display=du("display",x))}catch(pe){pt(s,s.return,pe)}}}else if(re.tag===6){if(ie===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(pe){pt(s,s.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ie===re&&(ie=null),re=re.return}ie===re&&(ie=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Ii(a,s),Xi(s),p&4&&kw(s);break;case 21:break;default:Ii(a,s),Xi(s)}}function Xi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(Iw(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(ns(g,""),p.flags&=-33);var _=Pw(s);Vm(s,_,g);break;case 3:case 4:var x=p.stateNode.containerInfo,M=Pw(s);Nm(s,M,x);break;default:throw Error(n(161))}}catch(L){pt(s,s.return,L)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function fR(s,a,c){de=s,Aw(s)}function Aw(s,a,c){for(var p=(s.mode&1)!==0;de!==null;){var g=de,_=g.child;if(g.tag===22&&p){var x=g.memoizedState!==null||ad;if(!x){var M=g.alternate,L=M!==null&&M.memoizedState!==null||rn;M=ad;var K=rn;if(ad=x,(rn=L)&&!K)for(de=g;de!==null;)x=de,L=x.child,x.tag===22&&x.memoizedState!==null?Ow(g):L!==null?(L.return=x,de=L):Ow(g);for(;_!==null;)de=_,Aw(_),_=_.sibling;de=g,ad=M,rn=K}Dw(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,de=_):Dw(s)}}function Dw(s){for(;de!==null;){var a=de;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:rn||ld(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!rn)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Si(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&M0(a,_,p);break;case 3:var x=a.updateQueue;if(x!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}M0(a,x,c)}break;case 5:var M=a.stateNode;if(c===null&&a.flags&4){c=M;var L=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var re=ie.dehydrated;re!==null&&wi(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rn||a.flags&512&&Om(a)}catch(te){pt(a,a.return,te)}}if(a===s){de=null;break}if(c=a.sibling,c!==null){c.return=a.return,de=c;break}de=a.return}}function Mw(s){for(;de!==null;){var a=de;if(a===s){de=null;break}var c=a.sibling;if(c!==null){c.return=a.return,de=c;break}de=a.return}}function Ow(s){for(;de!==null;){var a=de;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{ld(4,a)}catch(L){pt(a,c,L)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(L){pt(a,g,L)}}var _=a.return;try{Om(a)}catch(L){pt(a,_,L)}break;case 5:var x=a.return;try{Om(a)}catch(L){pt(a,x,L)}}}catch(L){pt(a,a.return,L)}if(a===s){de=null;break}var M=a.sibling;if(M!==null){M.return=a.return,de=M;break}de=a.return}}var pR=Math.ceil,ud=W.ReactCurrentDispatcher,Lm=W.ReactCurrentOwner,ni=W.ReactCurrentBatchConfig,ze=0,Ut=null,St=null,Kt=0,zn=0,ol=ps(0),Mt=0,Xu=null,Co=0,cd=0,Fm=0,Ju=null,kn=null,jm=0,al=1/0,Lr=null,hd=!1,zm=null,ws=null,dd=!1,Es=null,fd=0,Zu=0,Um=null,pd=-1,md=0;function wn(){return(ze&6)!==0?Xe():pd!==-1?pd:pd=Xe()}function Ts(s){return(s.mode&1)===0?1:(ze&2)!==0&&Kt!==0?Kt&-Kt:Xk.transition!==null?(md===0&&(md=go()),md):(s=Ve,s!==0||(s=window.event,s=s===void 0?16:Pu(s.type)),s)}function Pi(s,a,c,p){if(50<Zu)throw Zu=0,Um=null,Error(n(185));os(s,c,p),((ze&2)===0||s!==Ut)&&(s===Ut&&((ze&2)===0&&(cd|=c),Mt===4&&xs(s,Kt)),Rn(s,p),c===1&&ze===0&&(a.mode&1)===0&&(al=Xe()+500,$h&&gs()))}function Rn(s,a){var c=s.callbackNode;br(s,a);var p=mo(s,s===Ut?Kt:0);if(p===0)c!==null&&Tu(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Tu(c),a===1)s.tag===0?Yk(Vw.bind(null,s)):E0(Vw.bind(null,s)),qk(function(){(ze&6)===0&&gs()}),c=null;else{switch(ls(p)){case 1:c=fo;break;case 4:c=is;break;case 16:c=Qn;break;case 536870912:c=mh;break;default:c=Qn}c=Hw(c,Nw.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Nw(s,a){if(pd=-1,md=0,(ze&6)!==0)throw Error(n(327));var c=s.callbackNode;if(ll()&&s.callbackNode!==c)return null;var p=mo(s,s===Ut?Kt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=gd(s,p);else{a=p;var g=ze;ze|=2;var _=Fw();(Ut!==s||Kt!==a)&&(Lr=null,al=Xe()+500,Ro(s,a));do try{yR();break}catch(M){Lw(s,M)}while(!0);sm(),ud.current=_,ze=g,St!==null?a=0:(Ut=null,Kt=0,a=Mt)}if(a!==0){if(a===2&&(g=Nn(s),g!==0&&(p=g,a=Bm(s,g))),a===1)throw c=Xu,Ro(s,0),xs(s,p),Rn(s,Xe()),c;if(a===6)xs(s,p);else{if(g=s.current.alternate,(p&30)===0&&!mR(g)&&(a=gd(s,p),a===2&&(_=Nn(s),_!==0&&(p=_,a=Bm(s,_))),a===1))throw c=Xu,Ro(s,0),xs(s,p),Rn(s,Xe()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Ao(s,kn,Lr);break;case 3:if(xs(s,p),(p&130023424)===p&&(a=jm+500-Xe(),10<a)){if(mo(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){wn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Kp(Ao.bind(null,s,kn,Lr),a);break}Ao(s,kn,Lr);break;case 4:if(xs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var x=31-yn(p);_=1<<x,x=a[x],x>g&&(g=x),p&=~_}if(p=g,p=Xe()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*pR(p/1960))-p,10<p){s.timeoutHandle=Kp(Ao.bind(null,s,kn,Lr),p);break}Ao(s,kn,Lr);break;case 5:Ao(s,kn,Lr);break;default:throw Error(n(329))}}}return Rn(s,Xe()),s.callbackNode===c?Nw.bind(null,s):null}function Bm(s,a){var c=Ju;return s.current.memoizedState.isDehydrated&&(Ro(s,a).flags|=256),s=gd(s,a),s!==2&&(a=kn,kn=c,a!==null&&$m(a)),s}function $m(s){kn===null?kn=s:kn.push.apply(kn,s)}function mR(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],_=g.getSnapshot;g=g.value;try{if(!Ti(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xs(s,a){for(a&=~Fm,a&=~cd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-yn(a),p=1<<c;s[c]=-1,a&=~p}}function Vw(s){if((ze&6)!==0)throw Error(n(327));ll();var a=mo(s,0);if((a&1)===0)return Rn(s,Xe()),null;var c=gd(s,a);if(s.tag!==0&&c===2){var p=Nn(s);p!==0&&(a=p,c=Bm(s,p))}if(c===1)throw c=Xu,Ro(s,0),xs(s,a),Rn(s,Xe()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ao(s,kn,Lr),Rn(s,Xe()),null}function Hm(s,a){var c=ze;ze|=1;try{return s(a)}finally{ze=c,ze===0&&(al=Xe()+500,$h&&gs())}}function ko(s){Es!==null&&Es.tag===0&&(ze&6)===0&&ll();var a=ze;ze|=1;var c=ni.transition,p=Ve;try{if(ni.transition=null,Ve=1,s)return s()}finally{Ve=p,ni.transition=c,ze=a,(ze&6)===0&&gs()}}function Wm(){zn=ol.current,nt(ol)}function Ro(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Wk(c)),St!==null)for(c=St.return;c!==null;){var p=c;switch(em(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Uh();break;case 3:il(),nt(In),nt(en),fm();break;case 5:hm(p);break;case 4:il();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:om(p.type._context);break;case 22:case 23:Wm()}c=c.return}if(Ut=s,St=s=Ss(s.current,null),Kt=zn=a,Mt=0,Xu=null,Fm=cd=Co=0,kn=Ju=null,bo!==null){for(a=0;a<bo.length;a++)if(c=bo[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,_=c.pending;if(_!==null){var x=_.next;_.next=g,p.next=x}c.pending=p}bo=null}return s}function Lw(s,a){do{var c=St;try{if(sm(),Zh.current=id,ed){for(var p=ut.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}ed=!1}if(Po=0,zt=Dt=ut=null,Wu=!1,qu=0,Lm.current=null,c===null||c.return===null){Mt=1,Xu=a,St=null;break}e:{var _=s,x=c.return,M=c,L=a;if(a=Kt,M.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,ie=M,re=ie.tag;if((ie.mode&1)===0&&(re===0||re===11||re===15)){var te=ie.alternate;te?(ie.updateQueue=te.updateQueue,ie.memoizedState=te.memoizedState,ie.lanes=te.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ce=lw(x);if(ce!==null){ce.flags&=-257,uw(ce,x,M,_,a),ce.mode&1&&aw(_,K,a),a=ce,L=K;var fe=a.updateQueue;if(fe===null){var pe=new Set;pe.add(L),a.updateQueue=pe}else fe.add(L);break e}else{if((a&1)===0){aw(_,K,a),qm();break e}L=Error(n(426))}}else if(at&&M.mode&1){var _t=lw(x);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),uw(_t,x,M,_,a),im(rl(L,M));break e}}_=L=rl(L,M),Mt!==4&&(Mt=2),Ju===null?Ju=[_]:Ju.push(_),_=x;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var q=sw(_,L,a);D0(_,q);break e;case 1:M=L;var z=_.type,G=_.stateNode;if((_.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ws===null||!ws.has(G)))){_.flags|=65536,a&=-a,_.lanes|=a;var oe=ow(_,M,a);D0(_,oe);break e}}_=_.return}while(_!==null)}zw(c)}catch(ye){a=ye,St===c&&c!==null&&(St=c=c.return);continue}break}while(!0)}function Fw(){var s=ud.current;return ud.current=id,s===null?id:s}function qm(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ut===null||(Co&268435455)===0&&(cd&268435455)===0||xs(Ut,Kt)}function gd(s,a){var c=ze;ze|=2;var p=Fw();(Ut!==s||Kt!==a)&&(Lr=null,Ro(s,a));do try{gR();break}catch(g){Lw(s,g)}while(!0);if(sm(),ze=c,ud.current=p,St!==null)throw Error(n(261));return Ut=null,Kt=0,Mt}function gR(){for(;St!==null;)jw(St)}function yR(){for(;St!==null&&!fh();)jw(St)}function jw(s){var a=$w(s.alternate,s,zn);s.memoizedProps=s.pendingProps,a===null?zw(s):St=a,Lm.current=null}function zw(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=uR(c,a,zn),c!==null){St=c;return}}else{if(c=cR(c,a),c!==null){c.flags&=32767,St=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Mt=6,St=null;return}}if(a=a.sibling,a!==null){St=a;return}St=a=s}while(a!==null);Mt===0&&(Mt=5)}function Ao(s,a,c){var p=Ve,g=ni.transition;try{ni.transition=null,Ve=1,vR(s,a,c,p)}finally{ni.transition=g,Ve=p}return null}function vR(s,a,c,p){do ll();while(Es!==null);if((ze&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(Qe(s,_),s===Ut&&(St=Ut=null,Kt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||dd||(dd=!0,Hw(Qn,function(){return ll(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=ni.transition,ni.transition=null;var x=Ve;Ve=1;var M=ze;ze|=4,Lm.current=null,dR(s,c),Rw(c,s),Fk(qp),cs=!!Wp,qp=Wp=null,s.current=c,fR(c),kp(),ze=M,Ve=x,ni.transition=_}else s.current=c;if(dd&&(dd=!1,Es=s,fd=g),_=s.pendingLanes,_===0&&(ws=null),gh(c.stateNode),Rn(s,Xe()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(hd)throw hd=!1,s=zm,zm=null,s;return(fd&1)!==0&&s.tag!==0&&ll(),_=s.pendingLanes,(_&1)!==0?s===Um?Zu++:(Zu=0,Um=s):Zu=0,gs(),null}function ll(){if(Es!==null){var s=ls(fd),a=ni.transition,c=Ve;try{if(ni.transition=null,Ve=16>s?16:s,Es===null)var p=!1;else{if(s=Es,Es=null,fd=0,(ze&6)!==0)throw Error(n(331));var g=ze;for(ze|=4,de=s.current;de!==null;){var _=de,x=_.child;if((de.flags&16)!==0){var M=_.deletions;if(M!==null){for(var L=0;L<M.length;L++){var K=M[L];for(de=K;de!==null;){var ie=de;switch(ie.tag){case 0:case 11:case 15:Yu(8,ie,_)}var re=ie.child;if(re!==null)re.return=ie,de=re;else for(;de!==null;){ie=de;var te=ie.sibling,ce=ie.return;if(bw(ie),ie===K){de=null;break}if(te!==null){te.return=ce,de=te;break}de=ce}}}var fe=_.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var _t=pe.sibling;pe.sibling=null,pe=_t}while(pe!==null)}}de=_}}if((_.subtreeFlags&2064)!==0&&x!==null)x.return=_,de=x;else e:for(;de!==null;){if(_=de,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Yu(9,_,_.return)}var q=_.sibling;if(q!==null){q.return=_.return,de=q;break e}de=_.return}}var z=s.current;for(de=z;de!==null;){x=de;var G=x.child;if((x.subtreeFlags&2064)!==0&&G!==null)G.return=x,de=G;else e:for(x=z;de!==null;){if(M=de,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:ld(9,M)}}catch(ye){pt(M,M.return,ye)}if(M===x){de=null;break e}var oe=M.sibling;if(oe!==null){oe.return=M.return,de=oe;break e}de=M.return}}if(ze=g,gs(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(po,s)}catch{}p=!0}return p}finally{Ve=c,ni.transition=a}}return!1}function Uw(s,a,c){a=rl(c,a),a=sw(s,a,1),s=vs(s,a,1),a=wn(),s!==null&&(os(s,1,a),Rn(s,a))}function pt(s,a,c){if(s.tag===3)Uw(s,s,c);else for(;a!==null;){if(a.tag===3){Uw(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ws===null||!ws.has(p))){s=rl(c,s),s=ow(a,s,1),a=vs(a,s,1),s=wn(),a!==null&&(os(a,1,s),Rn(a,s));break}}a=a.return}}function _R(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=wn(),s.pingedLanes|=s.suspendedLanes&c,Ut===s&&(Kt&c)===c&&(Mt===4||Mt===3&&(Kt&130023424)===Kt&&500>Xe()-jm?Ro(s,0):Fm|=c),Rn(s,a)}function Bw(s,a){a===0&&((s.mode&1)===0?a=1:(a=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var c=wn();s=Or(s,a),s!==null&&(os(s,a,c),Rn(s,c))}function wR(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Bw(s,c)}function ER(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),Bw(s,c)}var $w;$w=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||In.current)Cn=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Cn=!1,lR(s,a,c);Cn=(s.flags&131072)!==0}else Cn=!1,at&&(a.flags&1048576)!==0&&T0(a,Wh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;od(s,a),s=a.pendingProps;var g=Ya(a,en.current);nl(a,c),g=gm(null,a,p,s,g,c);var _=ym();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Pn(p)?(_=!0,Bh(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,um(a),g.updater=rd,a.stateNode=g,g._reactInternals=a,xm(a,p,s,c),a=Pm(null,a,p,!0,_,c)):(a.tag=0,at&&_&&Zp(a),_n(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(od(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=xR(p),s=Si(p,s),g){case 0:a=Im(null,a,p,s,c);break e;case 1:a=mw(null,a,p,s,c);break e;case 11:a=cw(null,a,p,s,c);break e;case 14:a=hw(null,a,p,Si(p.type,s),c);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Si(p,g),Im(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Si(p,g),mw(s,a,p,g,c);case 3:e:{if(gw(a),s===null)throw Error(n(387));p=a.pendingProps,_=a.memoizedState,g=_.element,A0(s,a),Xh(a,p,null,c);var x=a.memoizedState;if(p=x.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=rl(Error(n(423)),a),a=yw(s,a,p,c,g);break e}else if(p!==g){g=rl(Error(n(424)),a),a=yw(s,a,p,c,g);break e}else for(jn=fs(a.stateNode.containerInfo.firstChild),Fn=a,at=!0,xi=null,c=k0(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Za(),p===g){a=Vr(s,a,c);break e}_n(s,a,p,c)}a=a.child}return a;case 5:return O0(a),s===null&&nm(a),p=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,x=g.children,Gp(p,g)?x=null:_!==null&&Gp(p,_)&&(a.flags|=32),pw(s,a),_n(s,a,x,c),a.child;case 6:return s===null&&nm(a),null;case 13:return vw(s,a,c);case 4:return cm(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=el(a,null,p,c):_n(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Si(p,g),cw(s,a,p,g,c);case 7:return _n(s,a,a.pendingProps,c),a.child;case 8:return _n(s,a,a.pendingProps.children,c),a.child;case 12:return _n(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,_=a.memoizedProps,x=g.value,Je(Kh,p._currentValue),p._currentValue=x,_!==null)if(Ti(_.value,x)){if(_.children===g.children&&!In.current){a=Vr(s,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var M=_.dependencies;if(M!==null){x=_.child;for(var L=M.firstContext;L!==null;){if(L.context===p){if(_.tag===1){L=Nr(-1,c&-c),L.tag=2;var K=_.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),K.pending=L}}_.lanes|=c,L=_.alternate,L!==null&&(L.lanes|=c),am(_.return,c,a),M.lanes|=c;break}L=L.next}}else if(_.tag===10)x=_.type===a.type?null:_.child;else if(_.tag===18){if(x=_.return,x===null)throw Error(n(341));x.lanes|=c,M=x.alternate,M!==null&&(M.lanes|=c),am(x,c,a),x=_.sibling}else x=_.child;if(x!==null)x.return=_;else for(x=_;x!==null;){if(x===a){x=null;break}if(_=x.sibling,_!==null){_.return=x.return,x=_;break}x=x.return}_=x}_n(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,nl(a,c),g=ei(g),p=p(g),a.flags|=1,_n(s,a,p,c),a.child;case 14:return p=a.type,g=Si(p,a.pendingProps),g=Si(p.type,g),hw(s,a,p,g,c);case 15:return dw(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Si(p,g),od(s,a),a.tag=1,Pn(p)?(s=!0,Bh(a)):s=!1,nl(a,c),iw(a,p,g),xm(a,p,g,c),Pm(null,a,p,!0,s,c);case 19:return ww(s,a,c);case 22:return fw(s,a,c)}throw Error(n(156,a.tag))};function Hw(s,a){return ka(s,a)}function TR(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(s,a,c,p){return new TR(s,a,c,p)}function Gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function xR(s){if(typeof s=="function")return Gm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===yt)return 14}return 2}function Ss(s,a){var c=s.alternate;return c===null?(c=ii(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function yd(s,a,c,p,g,_){var x=2;if(p=s,typeof s=="function")Gm(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case D:return Do(c.children,g,_,a);case P:x=8,g|=8;break;case k:return s=ii(12,c,a,g|2),s.elementType=k,s.lanes=_,s;case O:return s=ii(13,c,a,g),s.elementType=O,s.lanes=_,s;case Ue:return s=ii(19,c,a,g),s.elementType=Ue,s.lanes=_,s;case be:return vd(c,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:x=10;break e;case F:x=9;break e;case $:x=11;break e;case yt:x=14;break e;case ft:x=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=ii(x,c,a,g),a.elementType=s,a.type=p,a.lanes=_,a}function Do(s,a,c,p){return s=ii(7,s,p,a),s.lanes=c,s}function vd(s,a,c,p){return s=ii(22,s,p,a),s.elementType=be,s.lanes=c,s.stateNode={isHidden:!1},s}function Km(s,a,c){return s=ii(6,s,null,a),s.lanes=c,s}function Qm(s,a,c){return a=ii(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function SR(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ym(s,a,c,p,g,_,x,M,L){return s=new SR(s,a,c,M,L),a===1?(a=1,_===!0&&(a|=8)):a=0,_=ii(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(_),s}function bR(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function Ww(s){if(!s)return ms;s=s._reactInternals;e:{if(mi(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Pn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Pn(c))return _0(s,c,a)}return a}function qw(s,a,c,p,g,_,x,M,L){return s=Ym(c,p,!0,s,g,_,x,M,L),s.context=Ww(null),c=s.current,p=wn(),g=Ts(c),_=Nr(p,g),_.callback=a??null,vs(c,_,g),s.current.lanes=g,os(s,g,p),Rn(s,p),s}function _d(s,a,c,p){var g=a.current,_=wn(),x=Ts(g);return c=Ww(c),a.context===null?a.context=c:a.pendingContext=c,a=Nr(_,x),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=vs(g,a,x),s!==null&&(Pi(s,g,x,_),Yh(s,g,x)),x}function wd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Gw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Xm(s,a){Gw(s,a),(s=s.alternate)&&Gw(s,a)}function IR(){return null}var Kw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Jm(s){this._internalRoot=s}Ed.prototype.render=Jm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));_d(s,a,null,null)},Ed.prototype.unmount=Jm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ko(function(){_d(null,s,null,null)}),a[Rr]=null}};function Ed(s){this._internalRoot=s}Ed.prototype.unstable_scheduleHydration=function(s){if(s){var a=Eh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Hi.length&&a!==0&&a<Hi[c].priority;c++);Hi.splice(c,0,s),c===0&&Sh(s)}};function Zm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Td(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Qw(){}function PR(s,a,c,p,g){if(g){if(typeof p=="function"){var _=p;p=function(){var K=wd(x);_.call(K)}}var x=qw(a,p,s,0,null,!1,!1,"",Qw);return s._reactRootContainer=x,s[Rr]=x.current,Lu(s.nodeType===8?s.parentNode:s),ko(),x}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var M=p;p=function(){var K=wd(L);M.call(K)}}var L=Ym(s,0,!1,null,null,!1,!1,"",Qw);return s._reactRootContainer=L,s[Rr]=L.current,Lu(s.nodeType===8?s.parentNode:s),ko(function(){_d(a,L,c,p)}),L}function xd(s,a,c,p,g){var _=c._reactRootContainer;if(_){var x=_;if(typeof g=="function"){var M=g;g=function(){var L=wd(x);M.call(L)}}_d(a,x,s,g)}else x=PR(c,a,s,g,p);return wd(x)}_h=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=rs(a.pendingLanes);c!==0&&(as(a,c|1),Rn(a,Xe()),(ze&6)===0&&(al=Xe()+500,gs()))}break;case 13:ko(function(){var p=Or(s,1);if(p!==null){var g=wn();Pi(p,s,1,g)}}),Xm(s,1)}},Da=function(s){if(s.tag===13){var a=Or(s,134217728);if(a!==null){var c=wn();Pi(a,s,134217728,c)}Xm(s,134217728)}},wh=function(s){if(s.tag===13){var a=Ts(s),c=Or(s,a);if(c!==null){var p=wn();Pi(c,s,a,p)}Xm(s,a)}},Eh=function(){return Ve},Th=function(s,a){var c=Ve;try{return Ve=s,a()}finally{Ve=c}},xa=function(s,a,c){switch(a){case"input":if(lu(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=zh(p);if(!g)throw Error(n(90));ya(p),lu(p,g)}}}break;case"textarea":Ea(s,c);break;case"select":a=c.value,a!=null&&Tr(s,!!c.multiple,a,!1)}},lo=Hm,vu=ko;var CR={usingClientEntryPoint:!1,Events:[zu,Ka,zh,Bi,yu,Hm]},ec={findFiberByHostInstance:Eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kR={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Eu(s),s===null?null:s.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||IR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{po=Sd.inject(kR),On=Sd}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR,An.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zm(a))throw Error(n(200));return bR(s,a,null,c)},An.createRoot=function(s,a){if(!Zm(s))throw Error(n(299));var c=!1,p="",g=Kw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Ym(s,1,!1,null,null,c,!1,p,g),s[Rr]=a.current,Lu(s.nodeType===8?s.parentNode:s),new Jm(a)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Eu(a),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return ko(s)},An.hydrate=function(s,a,c){if(!Td(a))throw Error(n(200));return xd(null,s,a,!0,c)},An.hydrateRoot=function(s,a,c){if(!Zm(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,g=!1,_="",x=Kw;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),a=qw(a,null,s,1,c??null,g,!1,_,x),s[Rr]=a.current,Lu(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Ed(a)},An.render=function(s,a,c){if(!Td(a))throw Error(n(200));return xd(null,s,a,!1,c)},An.unmountComponentAtNode=function(s){if(!Td(s))throw Error(n(40));return s._reactRootContainer?(ko(function(){xd(null,null,s,!1,function(){s._reactRootContainer=null,s[Rr]=null})}),!0):!1},An.unstable_batchedUpdates=Hm,An.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!Td(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return xd(s,a,c,!1,p)},An.version="18.3.1-next-f1338f8080-20240426",An}var i1;function LR(){if(i1)return ng.exports;i1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=VR(),ng.exports}var r1;function FR(){if(r1)return bd;r1=1;var t=LR();return bd.createRoot=t.createRoot,bd.hydrateRoot=t.hydrateRoot,bd}var jR=FR();const zR=cS(jR),UR="modulepreload",BR=function(t){return"/Costas_Portfolio/"+t},s1={},$R=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let h=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");r=h(n.map(f=>{if(f=BR(f),f in s1)return;s1[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":UR,m||(w.as="script"),w.crossOrigin="",w.href=f,u&&w.setAttribute("nonce",u),document.head.appendChild(w),m)return new Promise((T,S)=>{w.addEventListener("load",T),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o1="popstate";function HR(t={}){function e(i,r){let{pathname:o,search:l,hash:u}=i.location;return Jg("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Ic(r)}return qR(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WR(){return Math.random().toString(36).substring(2,10)}function a1(t,e){return{usr:t.state,key:t.key,idx:e}}function Jg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yl(e):e,state:n,key:e&&e.key||i||WR()}}function Ic({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function qR(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let b=m(),A=b==null?null:b-f;f=b,h&&h({action:u,location:C.location,delta:A})}function w(b,A){u="PUSH";let j=Jg(C.location,b,A);f=m()+1;let U=a1(j,f),W=C.createHref(j);try{l.pushState(U,"",W)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;r.location.assign(W)}o&&h&&h({action:u,location:C.location,delta:1})}function T(b,A){u="REPLACE";let j=Jg(C.location,b,A);f=m();let U=a1(j,f),W=C.createHref(j);l.replaceState(U,"",W),o&&h&&h({action:u,location:C.location,delta:0})}function S(b){return GR(b)}let C={get action(){return u},get location(){return t(r,l)},listen(b){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(o1,y),h=b,()=>{r.removeEventListener(o1,y),h=null}},createHref(b){return e(r,b)},createURL:S,encodeLocation(b){let A=S(b);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:T,go(b){return l.go(b)}};return C}function GR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ic(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function hS(t,e,n="/"){return KR(t,e,n,!1)}function KR(t,e,n,i){let r=typeof e=="string"?Yl(e):e,o=Gr(r.pathname||"/",n);if(o==null)return null;let l=dS(t);QR(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=oA(o);u=rA(l[h],f,i)}return u}function dS(t,e=[],n=[],i=""){let r=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ht(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Br([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),dS(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:nA(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))r(o,l);else for(let u of fS(o.path))r(o,l,u)}),e}function fS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=fS(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function QR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var YR=/^:[\w-]+$/,XR=3,JR=2,ZR=1,eA=10,tA=-2,l1=t=>t==="*";function nA(t,e){let n=t.split("/"),i=n.length;return n.some(l1)&&(i+=tA),e&&(i+=JR),n.filter(r=>!l1(r)).reduce((r,o)=>r+(YR.test(o)?XR:o===""?ZR:eA),i)}function iA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function rA(t,e,n=!1){let{routesMeta:i}=t,r={},o="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=ff({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),w=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=ff({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:Br([o,y.pathname]),pathnameBase:cA(Br([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=Br([o,y.pathnameBase]))}return l}function ff(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sA(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:y},w)=>{if(m==="*"){let S=u[w]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=u[w];return y&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function sA(t,e=!1,n=!0){hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function oA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function aA(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Yl(t):t;return{pathname:n?n.startsWith("/")?n:lA(n,e):e,search:hA(i),hash:dA(r)}}function lA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function sg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pS(t){let e=uA(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function mS(t,e,n,i=!1){let r;typeof t=="string"?r=Yl(t):(r={...t},ht(!r.pathname||!r.pathname.includes("?"),sg("?","pathname","search",r)),ht(!r.pathname||!r.pathname.includes("#"),sg("#","pathname","hash",r)),ht(!r.search||!r.search.includes("#"),sg("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!i&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;r.pathname=w.join("/")}u=y>=0?e[y]:"/"}let h=aA(r,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),cA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var gS=["POST","PUT","PATCH","DELETE"];new Set(gS);var pA=["GET",...gS];new Set(pA);var Xl=V.createContext(null);Xl.displayName="DataRouter";var Yf=V.createContext(null);Yf.displayName="DataRouterState";V.createContext(!1);var yS=V.createContext({isTransitioning:!1});yS.displayName="ViewTransition";var mA=V.createContext(new Map);mA.displayName="Fetchers";var gA=V.createContext(null);gA.displayName="Await";var mr=V.createContext(null);mr.displayName="Navigation";var qc=V.createContext(null);qc.displayName="Location";var es=V.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var tv=V.createContext(null);tv.displayName="RouteError";function yA(t,{relative:e}={}){ht(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(mr),{hash:r,pathname:o,search:l}=Kc(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Br([n,o])),i.createHref({pathname:u,search:l,hash:r})}function Gc(){return V.useContext(qc)!=null}function aa(){return ht(Gc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(qc).location}var vS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _S(t){V.useContext(mr).static||V.useLayoutEffect(t)}function wS(){let{isDataRoute:t}=V.useContext(es);return t?RA():vA()}function vA(){ht(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Xl),{basename:e,navigator:n}=V.useContext(mr),{matches:i}=V.useContext(es),{pathname:r}=aa(),o=JSON.stringify(pS(i)),l=V.useRef(!1);return _S(()=>{l.current=!0}),V.useCallback((h,f={})=>{if(hr(l.current,vS),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=mS(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Br([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,r,t])}V.createContext(null);function Kc(t,{relative:e}={}){let{matches:n}=V.useContext(es),{pathname:i}=aa(),r=JSON.stringify(pS(n));return V.useMemo(()=>mS(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function _A(t,e){return ES(t,e)}function ES(t,e,n,i){ht(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=V.useContext(mr),{matches:o}=V.useContext(es),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let A=m&&m.path||"";TS(h,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=aa(),w;if(e){let A=typeof e=="string"?Yl(e):e;ht(f==="/"||A.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=y;let T=w.pathname||"/",S=T;if(f!=="/"){let A=f.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=hS(t,{pathname:S});hr(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),hr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=SA(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Br([f,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Br([f,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,i);return e&&b?V.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function wA(){let t=kA(),e=fA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:r},n):null,l)}var EA=V.createElement(wA,null),TA=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?V.createElement(es.Provider,{value:this.props.routeContext},V.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xA({routeContext:t,match:e,children:n}){let i=V.useContext(Xl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(es.Provider,{value:t},n)}function SA(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,o=n?.errors;if(o!=null){let h=r.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:y}=n,w=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,f,m)=>{let y,w=!1,T=null,S=null;n&&(y=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||EA,l&&(u<0&&m===0?(TS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):u===m&&(w=!0,S=f.route.hydrateFallbackElement||null)));let C=e.concat(r.slice(0,m+1)),b=()=>{let A;return y?A=T:w?A=S:f.route.Component?A=V.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=h,V.createElement(xA,{match:f,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?V.createElement(TA,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:b(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):b()},null)}function nv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(t){let e=V.useContext(Xl);return ht(e,nv(t)),e}function IA(t){let e=V.useContext(Yf);return ht(e,nv(t)),e}function PA(t){let e=V.useContext(es);return ht(e,nv(t)),e}function iv(t){let e=PA(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CA(){return iv("useRouteId")}function kA(){let t=V.useContext(tv),e=IA("useRouteError"),n=iv("useRouteError");return t!==void 0?t:e.errors?.[n]}function RA(){let{router:t}=bA("useNavigate"),e=iv("useNavigate"),n=V.useRef(!1);return _S(()=>{n.current=!0}),V.useCallback(async(r,o={})=>{hr(n.current,vS),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var u1={};function TS(t,e,n){!e&&!u1[t]&&(u1[t]=!0,hr(!1,n))}V.memo(AA);function AA({routes:t,future:e,state:n}){return ES(t,void 0,n,e)}function Zg(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DA({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:o=!1}){ht(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof n=="string"&&(n=Yl(n));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:w="default"}=n,T=V.useMemo(()=>{let S=Gr(h,l);return S==null?null:{location:{pathname:S,search:f,hash:m,state:y,key:w},navigationType:i}},[l,h,f,m,y,w,i]);return hr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:V.createElement(mr.Provider,{value:u},V.createElement(qc.Provider,{children:e,value:T}))}function MA({children:t,location:e}){return _A(ey(t),e)}function ey(t,e=[]){let n=[];return V.Children.forEach(t,(i,r)=>{if(!V.isValidElement(i))return;let o=[...e,r];if(i.type===V.Fragment){n.push.apply(n,ey(i.props.children,o));return}ht(i.type===Zg,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ey(i.props.children,o)),n.push(l)}),n}var Kd="get",Qd="application/x-www-form-urlencoded";function Xf(t){return t!=null&&typeof t.tagName=="string"}function OA(t){return Xf(t)&&t.tagName.toLowerCase()==="button"}function NA(t){return Xf(t)&&t.tagName.toLowerCase()==="form"}function VA(t){return Xf(t)&&t.tagName.toLowerCase()==="input"}function LA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FA(t,e){return t.button===0&&(!e||e==="_self")&&!LA(t)}var Id=null;function jA(){if(Id===null)try{new FormData(document.createElement("form"),0),Id=!1}catch{Id=!0}return Id}var zA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function og(t){return t!=null&&!zA.has(t)?(hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qd}"`),null):t}function UA(t,e){let n,i,r,o,l;if(NA(t)){let u=t.getAttribute("action");i=u?Gr(u,e):null,n=t.getAttribute("method")||Kd,r=og(t.getAttribute("enctype"))||Qd,o=new FormData(t)}else if(OA(t)||VA(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(i=h?Gr(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Kd,r=og(t.getAttribute("formenctype"))||og(u.getAttribute("enctype"))||Qd,o=new FormData(u,t),!jA()){let{name:f,type:m,value:y}=t;if(m==="image"){let w=f?`${f}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else f&&o.append(f,y)}}else{if(Xf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kd,i=null,r=Qd,l=t}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BA(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Gr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function $A(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WA(t,e,n){let i=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await $A(o,n);return l.links?l.links():[]}return[]}));return QA(i.flat(1).filter(HA).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function c1(t,e,n,i,r,o){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function qA(t,e,{includeHydrateFallback:n}={}){return GA(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function GA(t){return[...new Set(t)]}function KA(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function QA(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let o=JSON.stringify(KA(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}function xS(){let t=V.useContext(Xl);return rv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YA(){let t=V.useContext(Yf);return rv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sv=V.createContext(void 0);sv.displayName="FrameworkContext";function SS(){let t=V.useContext(sv);return rv(t,"You must render this element inside a <HydratedRouter> element"),t}function XA(t,e){let n=V.useContext(sv),[i,r]=V.useState(!1),[o,l]=V.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,w=V.useRef(null);V.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=A=>{A.forEach(j=>{l(j.isIntersecting)})},b=new IntersectionObserver(C,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[t]),V.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let T=()=>{r(!0)},S=()=>{r(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:nc(u,T),onBlur:nc(h,S),onMouseEnter:nc(f,T),onMouseLeave:nc(m,S),onTouchStart:nc(y,T)}]:[!1,w,{}]}function nc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JA({page:t,...e}){let{router:n}=xS(),i=V.useMemo(()=>hS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(e2,{page:t,matches:i,...e}):null}function ZA(t){let{manifest:e,routeModules:n}=SS(),[i,r]=V.useState([]);return V.useEffect(()=>{let o=!1;return WA(t,e,n).then(l=>{o||r(l)}),()=>{o=!0}},[t,e,n]),i}function e2({page:t,matches:e,...n}){let i=aa(),{manifest:r,routeModules:o}=SS(),{basename:l}=xS(),{loaderData:u,matches:h}=YA(),f=V.useMemo(()=>c1(t,e,h,r,i,"data"),[t,e,h,r,i]),m=V.useMemo(()=>c1(t,e,h,r,i,"assets"),[t,e,h,r,i]),y=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,C=!1;if(e.forEach(A=>{let j=r.routes[A.route.id];!j||!j.hasLoader||(!f.some(U=>U.route.id===A.route.id)&&A.route.id in u&&o[A.route.id]?.shouldRevalidate||j.hasClientLoader?C=!0:S.add(A.route.id))}),S.size===0)return[];let b=BA(t,l,"data");return C&&S.size>0&&b.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[l,u,i,r,f,e,t,o]),w=V.useMemo(()=>qA(m,r),[m,r]),T=ZA(m);return V.createElement(V.Fragment,null,y.map(S=>V.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>V.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),T.map(({key:S,link:C})=>V.createElement("link",{key:S,nonce:n.nonce,...C})))}function t2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bS&&(window.__reactRouterVersion="7.8.0")}catch{}function n2({basename:t,children:e,window:n}){let i=V.useRef();i.current==null&&(i.current=HR({window:n,v5Compat:!0}));let r=i.current,[o,l]=V.useState({action:r.action,location:r.location}),u=V.useCallback(h=>{V.startTransition(()=>l(h))},[l]);return V.useLayoutEffect(()=>r.listen(u),[r,u]),V.createElement(DA,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r})}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PS=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:y,...w},T){let{basename:S}=V.useContext(mr),C=typeof f=="string"&&IS.test(f),b,A=!1;if(typeof f=="string"&&C&&(b=f,bS))try{let k=new URL(window.location.href),N=f.startsWith("//")?new URL(k.protocol+f):new URL(f),F=Gr(N.pathname,S);N.origin===k.origin&&F!=null?f=F+N.search+N.hash:A=!0}catch{hr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=yA(f,{relative:r}),[U,W,Q]=XA(i,w),Z=o2(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:r,viewTransition:y});function D(k){e&&e(k),k.defaultPrevented||Z(k)}let P=V.createElement("a",{...w,...Q,href:b||j,onClick:A||o?e:D,ref:t2(T,W),target:h,"data-discover":!C&&n==="render"?"true":void 0});return U&&!C?V.createElement(V.Fragment,null,P,V.createElement(JA,{page:j})):P});PS.displayName="Link";var i2=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:h,...f},m){let y=Kc(l,{relative:f.relative}),w=aa(),T=V.useContext(Yf),{navigator:S,basename:C}=V.useContext(mr),b=T!=null&&h2(y)&&u===!0,A=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,j=w.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(j=j.toLowerCase(),U=U?U.toLowerCase():null,A=A.toLowerCase()),U&&C&&(U=Gr(U,C)||U);const W=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Q=j===A||!r&&j.startsWith(A)&&j.charAt(W)==="/",Z=U!=null&&(U===A||!r&&U.startsWith(A)&&U.charAt(A.length)==="/"),D={isActive:Q,isPending:Z,isTransitioning:b},P=Q?e:void 0,k;typeof i=="function"?k=i(D):k=[i,Q?"active":null,Z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(D):o;return V.createElement(PS,{...f,"aria-current":P,className:k,ref:m,style:N,to:l,viewTransition:u},typeof h=="function"?h(D):h)});i2.displayName="NavLink";var r2=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:o,method:l=Kd,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:y,...w},T)=>{let S=u2(),C=c2(u,{relative:f}),b=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&IS.test(u),j=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let W=U.nativeEvent.submitter,Q=W?.getAttribute("formmethod")||l;S(W||U.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:y})};return V.createElement("form",{ref:T,method:b,action:C,onSubmit:i?h:j,...w,"data-discover":!A&&t==="render"?"true":void 0})});r2.displayName="Form";function s2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(t){let e=V.useContext(Xl);return ht(e,s2(t)),e}function o2(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=wS(),h=aa(),f=Kc(t,{relative:o});return V.useCallback(m=>{if(FA(m,e)){m.preventDefault();let y=n!==void 0?n:Ic(h)===Ic(f);u(t,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[h,u,f,n,i,e,t,r,o,l])}var a2=0,l2=()=>`__${String(++a2)}__`;function u2(){let{router:t}=CS("useSubmit"),{basename:e}=V.useContext(mr),n=CA();return V.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=UA(i,e);if(r.navigate===!1){let m=r.fetcherKey||l2();await t.fetch(m,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await t.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function c2(t,{relative:e}={}){let{basename:n}=V.useContext(mr),i=V.useContext(es);ht(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Kc(t||".",{relative:e})},l=aa();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Br([n,o.pathname])),Ic(o)}function h2(t,{relative:e}={}){let n=V.useContext(yS);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=CS("useViewTransitionState"),r=Kc(t,{relative:e});if(!n.isTransitioning)return!1;let o=Gr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Gr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ff(r.pathname,l)!=null||ff(r.pathname,o)!=null}const d2=()=>{};var h1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},f2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},RS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,u=l?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let w=(u&15)<<2|f>>6,T=f&63;h||(T=64,l||(w=64)),i.push(n[m],n[y],n[w],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const y=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||y==null)throw new p2;const w=o<<2|u>>4;if(i.push(w),f!==64){const T=u<<4&240|f>>2;if(i.push(T),y!==64){const S=f<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m2=function(t){const e=kS(t);return RS.encodeByteArray(e,!0)},pf=function(t){return m2(t).replace(/\./g,"")},AS=function(t){try{return RS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=()=>g2().__FIREBASE_DEFAULTS__,v2=()=>{if(typeof process>"u"||typeof h1>"u")return;const t=h1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AS(t[1]);return e&&JSON.parse(e)},Jf=()=>{try{return d2()||y2()||v2()||_2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DS=t=>Jf()?.emulatorHosts?.[t],MS=t=>{const e=DS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},OS=()=>Jf()?.config,NS=t=>Jf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ov(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pf(JSON.stringify(n)),pf(JSON.stringify(l)),""].join(".")}const mc={};function E2(){const t={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?t.emulator.push(e):t.prod.push(e);return t}function T2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let d1=!1;function av(t,e){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||mc[t]===e||mc[t]||d1)return;mc[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",o=E2().prod.length>0;function l(){const w=document.getElementById(i);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{d1=!0,l()},w}function m(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=T2(i),T=n("text"),S=document.getElementById(T)||document.createElement("span"),C=n("learnmore"),b=document.getElementById(C)||document.createElement("a"),A=n("preprendIcon"),j=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;u(U),m(b,C);const W=f();h(j,A),U.append(j,S,b,W),document.body.appendChild(U)}o?(S.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function S2(){const t=Jf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C2(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k2(){return!S2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R2(){try{return typeof indexedDB=="object"}catch{return!1}}function A2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="FirebaseError";class gr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=D2,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?M2(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new gr(r,u,i)}}function M2(t,e){return t.replace(O2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const O2=/\{\$([^}]+)}/g;function N2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(f1(o)&&f1(l)){if(!Jo(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function f1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function sc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function V2(t,e){const n=new L2(t,e);return n.subscribe.bind(n)}class L2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");F2(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=ag),r.error===void 0&&(r.error=ag),r.complete===void 0&&(r.complete=ag);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class $s{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new w2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U2(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:z2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z2(t){return t===jo?void 0:t}function U2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const $2={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},H2=De.INFO,W2={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},q2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=W2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=H2,this._logHandler=q2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const G2=(t,e)=>e.some(n=>t instanceof n);let p1,m1;function K2(){return p1||(p1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q2(){return m1||(m1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LS=new WeakMap,ty=new WeakMap,FS=new WeakMap,lg=new WeakMap,uv=new WeakMap;function Y2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Vs(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&LS.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function X2(t){if(ty.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J2(t){ny=t(ny)}function Z2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ug(this),e,...n);return FS.set(i,e.sort?e.sort():[e]),Vs(i)}:Q2().includes(t)?function(...e){return t.apply(ug(this),e),Vs(LS.get(this))}:function(...e){return Vs(t.apply(ug(this),e))}}function eD(t){return typeof t=="function"?Z2(t):(t instanceof IDBTransaction&&X2(t),G2(t,K2())?new Proxy(t,ny):t)}function Vs(t){if(t instanceof IDBRequest)return Y2(t);if(lg.has(t))return lg.get(t);const e=eD(t);return e!==t&&(lg.set(t,e),uv.set(e,t)),e}const ug=t=>uv.get(t);function tD(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=Vs(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Vs(l.result),h.oldVersion,h.newVersion,Vs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const nD=["get","getKey","getAll","getAllKeys","count"],iD=["put","add","delete","clear"],cg=new Map;function g1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=iD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||nD.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return cg.set(e,o),o}J2(t=>({...t,get:(e,n,i)=>g1(e,n)||t.get(e,n,i),has:(e,n)=>!!g1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function sD(t){return t.getComponent()?.type==="VERSION"}const iy="@firebase/app",y1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new lv("@firebase/app"),oD="@firebase/app-compat",aD="@firebase/analytics-compat",lD="@firebase/analytics",uD="@firebase/app-check-compat",cD="@firebase/app-check",hD="@firebase/auth",dD="@firebase/auth-compat",fD="@firebase/database",pD="@firebase/data-connect",mD="@firebase/database-compat",gD="@firebase/functions",yD="@firebase/functions-compat",vD="@firebase/installations",_D="@firebase/installations-compat",wD="@firebase/messaging",ED="@firebase/messaging-compat",TD="@firebase/performance",xD="@firebase/performance-compat",SD="@firebase/remote-config",bD="@firebase/remote-config-compat",ID="@firebase/storage",PD="@firebase/storage-compat",CD="@firebase/firestore",kD="@firebase/ai",RD="@firebase/firestore-compat",AD="firebase",DD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="[DEFAULT]",MD={[iy]:"fire-core",[oD]:"fire-core-compat",[lD]:"fire-analytics",[aD]:"fire-analytics-compat",[cD]:"fire-app-check",[uD]:"fire-app-check-compat",[hD]:"fire-auth",[dD]:"fire-auth-compat",[fD]:"fire-rtdb",[pD]:"fire-data-connect",[mD]:"fire-rtdb-compat",[gD]:"fire-fn",[yD]:"fire-fn-compat",[vD]:"fire-iid",[_D]:"fire-iid-compat",[wD]:"fire-fcm",[ED]:"fire-fcm-compat",[TD]:"fire-perf",[xD]:"fire-perf-compat",[SD]:"fire-rc",[bD]:"fire-rc-compat",[ID]:"fire-gcs",[PD]:"fire-gcs-compat",[CD]:"fire-fst",[RD]:"fire-fst-compat",[kD]:"fire-vertex","fire-js":"fire-js",[AD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new Map,OD=new Map,sy=new Map;function v1(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(sy.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,t);for(const n of mf.values())v1(n,t);for(const n of OD.values())v1(n,t);return!0}function Zf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ai(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Qc("app","Firebase",ND);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=DD;function jS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ry,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Ls.create("bad-app-name",{appName:String(r)});if(n||(n=OS()),!n)throw Ls.create("no-options");const o=mf.get(r);if(o){if(Jo(n,o.options)&&Jo(i,o.config))return o;throw Ls.create("duplicate-app",{appName:r})}const l=new B2(r);for(const h of sy.values())l.addComponent(h);const u=new VD(n,i,l);return mf.set(r,u),u}function cv(t=ry){const e=mf.get(t);if(!e&&t===ry&&OS())return jS();if(!e)throw Ls.create("no-app",{appName:t});return e}function nr(t,e,n){let i=MD[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(l.join(" "));return}Zo(new $s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="firebase-heartbeat-database",FD=1,Pc="firebase-heartbeat-store";let hg=null;function zS(){return hg||(hg=tD(LD,FD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),hg}async function jD(t){try{const n=(await zS()).transaction(Pc),i=await n.objectStore(Pc).get(US(t));return await n.done,i}catch(e){if(e instanceof gr)Kr.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(n.message)}}}async function _1(t,e){try{const i=(await zS()).transaction(Pc,"readwrite");await i.objectStore(Pc).put(e,US(t)),await i.done}catch(n){if(n instanceof gr)Kr.warn(n.message);else{const i=Ls.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(i.message)}}}function US(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1024,UD=30;class BD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=w1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>UD){const r=WD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w1(),{heartbeatsToSend:n,unsentEntries:i}=$D(this._heartbeatsCache.heartbeats),r=pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Kr.warn(e),""}}}function w1(){return new Date().toISOString().substring(0,10)}function $D(t,e=zD){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),E1(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),E1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class HD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R2()?A2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return _1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return _1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E1(t){return pf(JSON.stringify({version:2,heartbeats:t})).length}function WD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){Zo(new $s("platform-logger",e=>new rD(e),"PRIVATE")),Zo(new $s("heartbeat",e=>new BD(e),"PRIVATE")),nr(iy,y1,t),nr(iy,y1,"esm2020"),nr("fire-js","")}qD("");var GD="firebase",KD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(GD,KD,"app");var T1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,BS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function k(){}k.prototype=P.prototype,D.D=P.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(N,F,$){for(var O=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)O[Ue-2]=arguments[Ue];return P.prototype[F].apply(N,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,P,k){k||(k=0);var N=Array(16);if(typeof P=="string")for(var F=0;16>F;++F)N[F]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(F=0;16>F;++F)N[F]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=D.g[0],k=D.g[1],F=D.g[2];var $=D.g[3],O=P+($^k&(F^$))+N[0]+3614090360&4294967295;P=k+(O<<7&4294967295|O>>>25),O=$+(F^P&(k^F))+N[1]+3905402710&4294967295,$=P+(O<<12&4294967295|O>>>20),O=F+(k^$&(P^k))+N[2]+606105819&4294967295,F=$+(O<<17&4294967295|O>>>15),O=k+(P^F&($^P))+N[3]+3250441966&4294967295,k=F+(O<<22&4294967295|O>>>10),O=P+($^k&(F^$))+N[4]+4118548399&4294967295,P=k+(O<<7&4294967295|O>>>25),O=$+(F^P&(k^F))+N[5]+1200080426&4294967295,$=P+(O<<12&4294967295|O>>>20),O=F+(k^$&(P^k))+N[6]+2821735955&4294967295,F=$+(O<<17&4294967295|O>>>15),O=k+(P^F&($^P))+N[7]+4249261313&4294967295,k=F+(O<<22&4294967295|O>>>10),O=P+($^k&(F^$))+N[8]+1770035416&4294967295,P=k+(O<<7&4294967295|O>>>25),O=$+(F^P&(k^F))+N[9]+2336552879&4294967295,$=P+(O<<12&4294967295|O>>>20),O=F+(k^$&(P^k))+N[10]+4294925233&4294967295,F=$+(O<<17&4294967295|O>>>15),O=k+(P^F&($^P))+N[11]+2304563134&4294967295,k=F+(O<<22&4294967295|O>>>10),O=P+($^k&(F^$))+N[12]+1804603682&4294967295,P=k+(O<<7&4294967295|O>>>25),O=$+(F^P&(k^F))+N[13]+4254626195&4294967295,$=P+(O<<12&4294967295|O>>>20),O=F+(k^$&(P^k))+N[14]+2792965006&4294967295,F=$+(O<<17&4294967295|O>>>15),O=k+(P^F&($^P))+N[15]+1236535329&4294967295,k=F+(O<<22&4294967295|O>>>10),O=P+(F^$&(k^F))+N[1]+4129170786&4294967295,P=k+(O<<5&4294967295|O>>>27),O=$+(k^F&(P^k))+N[6]+3225465664&4294967295,$=P+(O<<9&4294967295|O>>>23),O=F+(P^k&($^P))+N[11]+643717713&4294967295,F=$+(O<<14&4294967295|O>>>18),O=k+($^P&(F^$))+N[0]+3921069994&4294967295,k=F+(O<<20&4294967295|O>>>12),O=P+(F^$&(k^F))+N[5]+3593408605&4294967295,P=k+(O<<5&4294967295|O>>>27),O=$+(k^F&(P^k))+N[10]+38016083&4294967295,$=P+(O<<9&4294967295|O>>>23),O=F+(P^k&($^P))+N[15]+3634488961&4294967295,F=$+(O<<14&4294967295|O>>>18),O=k+($^P&(F^$))+N[4]+3889429448&4294967295,k=F+(O<<20&4294967295|O>>>12),O=P+(F^$&(k^F))+N[9]+568446438&4294967295,P=k+(O<<5&4294967295|O>>>27),O=$+(k^F&(P^k))+N[14]+3275163606&4294967295,$=P+(O<<9&4294967295|O>>>23),O=F+(P^k&($^P))+N[3]+4107603335&4294967295,F=$+(O<<14&4294967295|O>>>18),O=k+($^P&(F^$))+N[8]+1163531501&4294967295,k=F+(O<<20&4294967295|O>>>12),O=P+(F^$&(k^F))+N[13]+2850285829&4294967295,P=k+(O<<5&4294967295|O>>>27),O=$+(k^F&(P^k))+N[2]+4243563512&4294967295,$=P+(O<<9&4294967295|O>>>23),O=F+(P^k&($^P))+N[7]+1735328473&4294967295,F=$+(O<<14&4294967295|O>>>18),O=k+($^P&(F^$))+N[12]+2368359562&4294967295,k=F+(O<<20&4294967295|O>>>12),O=P+(k^F^$)+N[5]+4294588738&4294967295,P=k+(O<<4&4294967295|O>>>28),O=$+(P^k^F)+N[8]+2272392833&4294967295,$=P+(O<<11&4294967295|O>>>21),O=F+($^P^k)+N[11]+1839030562&4294967295,F=$+(O<<16&4294967295|O>>>16),O=k+(F^$^P)+N[14]+4259657740&4294967295,k=F+(O<<23&4294967295|O>>>9),O=P+(k^F^$)+N[1]+2763975236&4294967295,P=k+(O<<4&4294967295|O>>>28),O=$+(P^k^F)+N[4]+1272893353&4294967295,$=P+(O<<11&4294967295|O>>>21),O=F+($^P^k)+N[7]+4139469664&4294967295,F=$+(O<<16&4294967295|O>>>16),O=k+(F^$^P)+N[10]+3200236656&4294967295,k=F+(O<<23&4294967295|O>>>9),O=P+(k^F^$)+N[13]+681279174&4294967295,P=k+(O<<4&4294967295|O>>>28),O=$+(P^k^F)+N[0]+3936430074&4294967295,$=P+(O<<11&4294967295|O>>>21),O=F+($^P^k)+N[3]+3572445317&4294967295,F=$+(O<<16&4294967295|O>>>16),O=k+(F^$^P)+N[6]+76029189&4294967295,k=F+(O<<23&4294967295|O>>>9),O=P+(k^F^$)+N[9]+3654602809&4294967295,P=k+(O<<4&4294967295|O>>>28),O=$+(P^k^F)+N[12]+3873151461&4294967295,$=P+(O<<11&4294967295|O>>>21),O=F+($^P^k)+N[15]+530742520&4294967295,F=$+(O<<16&4294967295|O>>>16),O=k+(F^$^P)+N[2]+3299628645&4294967295,k=F+(O<<23&4294967295|O>>>9),O=P+(F^(k|~$))+N[0]+4096336452&4294967295,P=k+(O<<6&4294967295|O>>>26),O=$+(k^(P|~F))+N[7]+1126891415&4294967295,$=P+(O<<10&4294967295|O>>>22),O=F+(P^($|~k))+N[14]+2878612391&4294967295,F=$+(O<<15&4294967295|O>>>17),O=k+($^(F|~P))+N[5]+4237533241&4294967295,k=F+(O<<21&4294967295|O>>>11),O=P+(F^(k|~$))+N[12]+1700485571&4294967295,P=k+(O<<6&4294967295|O>>>26),O=$+(k^(P|~F))+N[3]+2399980690&4294967295,$=P+(O<<10&4294967295|O>>>22),O=F+(P^($|~k))+N[10]+4293915773&4294967295,F=$+(O<<15&4294967295|O>>>17),O=k+($^(F|~P))+N[1]+2240044497&4294967295,k=F+(O<<21&4294967295|O>>>11),O=P+(F^(k|~$))+N[8]+1873313359&4294967295,P=k+(O<<6&4294967295|O>>>26),O=$+(k^(P|~F))+N[15]+4264355552&4294967295,$=P+(O<<10&4294967295|O>>>22),O=F+(P^($|~k))+N[6]+2734768916&4294967295,F=$+(O<<15&4294967295|O>>>17),O=k+($^(F|~P))+N[13]+1309151649&4294967295,k=F+(O<<21&4294967295|O>>>11),O=P+(F^(k|~$))+N[4]+4149444226&4294967295,P=k+(O<<6&4294967295|O>>>26),O=$+(k^(P|~F))+N[11]+3174756917&4294967295,$=P+(O<<10&4294967295|O>>>22),O=F+(P^($|~k))+N[2]+718787259&4294967295,F=$+(O<<15&4294967295|O>>>17),O=k+($^(F|~P))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+$&4294967295}i.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var k=P-this.blockSize,N=this.B,F=this.h,$=0;$<P;){if(F==0)for(;$<=k;)r(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<P;)if(N[F++]=D.charCodeAt($++),F==this.blockSize){r(this,N),F=0;break}}else for(;$<P;)if(N[F++]=D[$++],F==this.blockSize){r(this,N),F=0;break}}this.h=F,this.o+=P},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var k=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=k&255,k/=256;for(this.u(D),D=Array(16),P=k=0;4>P;++P)for(var N=0;32>N;N+=8)D[k++]=this.g[P]>>>N&255;return D};function o(D,P){var k=u;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=P(D)}function l(D,P){this.h=P;for(var k=[],N=!0,F=D.length-1;0<=F;F--){var $=D[F]|0;N&&$==P||(k[F]=$,N=!1)}this.g=k}var u={};function h(D){return-128<=D&&128>D?o(D,function(P){return new l([P|0],0>P?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return b(f(-D));for(var P=[],k=1,N=0;D>=k;N++)P[N]=D/k|0,k*=4294967296;return new l(P,0)}function m(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return b(m(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(P,8)),N=y,F=0;F<D.length;F+=8){var $=Math.min(8,D.length-F),O=parseInt(D.substring(F,F+$),P);8>$?($=f(Math.pow(P,$)),N=N.j($).add(f(O))):(N=N.j(k),N=N.add(f(O)))}return N}var y=h(0),w=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(C(this))return-b(this).m();for(var D=0,P=1,k=0;k<this.g.length;k++){var N=this.i(k);D+=(0<=N?N:4294967296+N)*P,P*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(C(this))return"-"+b(this).toString(D);for(var P=f(Math.pow(D,6)),k=this,N="";;){var F=W(k,P).g;k=A(k,F.j(P));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=F,S(k))return $+N;for(;6>$.length;)$="0"+$;N=$+N}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function C(D){return D.h==-1}t.l=function(D){return D=A(this,D),C(D)?-1:S(D)?0:1};function b(D){for(var P=D.g.length,k=[],N=0;N<P;N++)k[N]=~D.g[N];return new l(k,~D.h).add(w)}t.abs=function(){return C(this)?b(this):this},t.add=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],N=0,F=0;F<=P;F++){var $=N+(this.i(F)&65535)+(D.i(F)&65535),O=($>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);N=O>>>16,$&=65535,O&=65535,k[F]=O<<16|$}return new l(k,k[k.length-1]&-2147483648?-1:0)};function A(D,P){return D.add(b(P))}t.j=function(D){if(S(this)||S(D))return y;if(C(this))return C(D)?b(this).j(b(D)):b(b(this).j(D));if(C(D))return b(this.j(b(D)));if(0>this.l(T)&&0>D.l(T))return f(this.m()*D.m());for(var P=this.g.length+D.g.length,k=[],N=0;N<2*P;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var F=0;F<D.g.length;F++){var $=this.i(N)>>>16,O=this.i(N)&65535,Ue=D.i(F)>>>16,yt=D.i(F)&65535;k[2*N+2*F]+=O*yt,j(k,2*N+2*F),k[2*N+2*F+1]+=$*yt,j(k,2*N+2*F+1),k[2*N+2*F+1]+=O*Ue,j(k,2*N+2*F+1),k[2*N+2*F+2]+=$*Ue,j(k,2*N+2*F+2)}for(N=0;N<P;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=P;N<2*P;N++)k[N]=0;return new l(k,0)};function j(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function U(D,P){this.g=D,this.h=P}function W(D,P){if(S(P))throw Error("division by zero");if(S(D))return new U(y,y);if(C(D))return P=W(b(D),P),new U(b(P.g),b(P.h));if(C(P))return P=W(D,b(P)),new U(b(P.g),P.h);if(30<D.g.length){if(C(D)||C(P))throw Error("slowDivide_ only works with positive integers.");for(var k=w,N=P;0>=N.l(D);)k=Q(k),N=Q(N);var F=Z(k,1),$=Z(N,1);for(N=Z(N,2),k=Z(k,2);!S(N);){var O=$.add(N);0>=O.l(D)&&(F=F.add(k),$=O),N=Z(N,1),k=Z(k,1)}return P=A(D,F.j(P)),new U(F,P)}for(F=y;0<=D.l(P);){for(k=Math.max(1,Math.floor(D.m()/P.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),$=f(k),O=$.j(P);C(O)||0<O.l(D);)k-=N,$=f(k),O=$.j(P);S($)&&($=w),F=F.add($),D=A(D,O)}return new U(F,D)}t.A=function(D){return W(this,D).h},t.and=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],N=0;N<P;N++)k[N]=this.i(N)&D.i(N);return new l(k,this.h&D.h)},t.or=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],N=0;N<P;N++)k[N]=this.i(N)|D.i(N);return new l(k,this.h|D.h)},t.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),k=[],N=0;N<P;N++)k[N]=this.i(N)^D.i(N);return new l(k,this.h^D.h)};function Q(D){for(var P=D.g.length+1,k=[],N=0;N<P;N++)k[N]=D.i(N)<<1|D.i(N-1)>>>31;return new l(k,D.h)}function Z(D,P){var k=P>>5;P%=32;for(var N=D.g.length-k,F=[],$=0;$<N;$++)F[$]=0<P?D.i($+k)>>>P|D.i($+k+1)<<32-P:D.i($+k);return new l(F,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,BS=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Fs=l}).apply(typeof T1<"u"?T1:typeof self<"u"?self:typeof window<"u"?window:{});var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $S,ac,HS,Yd,oy,WS,qS,GS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function r(d,v){if(v)e:{var E=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var H=d[I];if(!(H in E))break e;E=E[H]}d=d[d.length-1],I=E[d],v=v(I),v!=I&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,I=!1,H={next:function(){if(!I&&E<d.length){var Y=E++;return{value:v(Y,d[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}r("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,E){return d.call.apply(d.bind,arguments)}function y(d,v,E){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,I),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function w(d,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,w.apply(null,arguments)}function T(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function S(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(I,H,Y){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return v.prototype[H].apply(I,ae)}}function C(d){const v=d.length;if(0<v){const E=Array(v);for(let I=0;I<v;I++)E[I]=d[I];return E}return[]}function b(d,v){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(h(I)){const H=d.length||0,Y=I.length||0;d.length=H+Y;for(let ae=0;ae<Y;ae++)d[H+ae]=I[ae]}else d.push(I)}}class A{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(d){return/^[\s\xa0]*$/.test(d)}function U(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function W(d){return W[" "](d),d}W[" "]=function(){};var Q=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Z(d,v,E){for(const I in d)v.call(E,d[I],I,d)}function D(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function P(d){const v={};for(const E in d)v[E]=d[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,v){let E,I;for(let H=1;H<arguments.length;H++){I=arguments[H];for(E in I)d[E]=I[E];for(let Y=0;Y<k.length;Y++)E=k[Y],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function F(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function $(d){u.setTimeout(()=>{throw d},0)}function O(){var d=ge;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Ue{constructor(){this.h=this.g=null}add(v,E){const I=yt.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var yt=new A(()=>new ft,d=>d.reset());class ft{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let be,se=!1,ge=new Ue,ne=()=>{const d=u.Promise.resolve(void 0);be=()=>{d.then(B)}};var B=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){$(E)}var v=yt;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}se=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return d}();function Re(d,v){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(Q){e:{try{W(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Le[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}S(Re,ue);var Le={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),We=0;function Ye(d,v,E,I,H){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=H,this.key=++We,this.da=this.fa=!1}function Ft(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function wr(d){this.src=d,this.g={},this.h=0}wr.prototype.add=function(d,v,E,I,H){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ae=ts(d,v,I,H);return-1<ae?(v=d[ae],E||(v.fa=!1)):(v=new Ye(v,this.src,Y,!!I,H),v.fa=E,d.push(v)),v};function ya(d,v){var E=v.type;if(E in d.g){var I=d.g[E],H=Array.prototype.indexOf.call(I,v,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(I,H,1),Y&&(Ft(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ts(d,v,E,I){for(var H=0;H<d.length;++H){var Y=d[H];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==I)return H}return-1}var ro="closure_lm_"+(1e6*Math.random()|0),va={};function au(d,v,E,I,H){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)au(d,v[Y],E,I,H);return null}return E=cu(E),d&&d[He]?d.K(v,E,f(I)?!!I.capture:!1,H):lu(d,v,E,!1,I,H)}function lu(d,v,E,I,H,Y){if(!v)throw Error("Invalid event type");var ae=f(H)?!!H.capture:!!H,Ge=wa(d);if(Ge||(d[ro]=Ge=new wr(d)),E=Ge.add(v,E,I,ae,Y),E.proxy)return E;if(I=ch(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)Pe||(H=ae),H===void 0&&(H=!1),d.addEventListener(v.toString(),I,H);else if(d.attachEvent)d.attachEvent(Tr(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ch(){function d(E){return v.call(d.src,d.listener,E)}const v=uu;return d}function _a(d,v,E,I,H){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)_a(d,v[Y],E,I,H);else I=f(I)?!!I.capture:!!I,E=cu(E),d&&d[He]?(d=d.i,v=String(v).toString(),v in d.g&&(Y=d.g[v],E=ts(Y,E,I,H),-1<E&&(Ft(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete d.g[v],d.h--)))):d&&(d=wa(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ts(v,E,I,H)),(E=-1<d?v[d]:null)&&Er(E))}function Er(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[He])ya(v.i,d);else{var E=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(E,I,d.capture):v.detachEvent?v.detachEvent(Tr(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=wa(v))?(ya(E,d),E.h==0&&(E.src=null,v[ro]=null)):Ft(d)}}}function Tr(d){return d in va?va[d]:va[d]="on"+d}function uu(d,v){if(d.da)d=!0;else{v=new Re(v,this);var E=d.listener,I=d.ha||d.src;d.fa&&Er(d),d=E.call(I,v)}return d}function wa(d){return d=d[ro],d instanceof wr?d:null}var Ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function cu(d){return typeof d=="function"?d:(d[Ea]||(d[Ea]=function(v){return d.handleEvent(v)}),d[Ea])}function kt(){X.call(this),this.i=new wr(this),this.M=this,this.F=null}S(kt,X),kt.prototype[He]=!0,kt.prototype.removeEventListener=function(d,v,E,I){_a(this,d,v,E,I)};function Rt(d,v){var E,I=d.F;if(I)for(E=[];I;I=I.F)E.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new ue(v,d);else if(v instanceof ue)v.target=v.target||d;else{var H=v;v=new ue(I,d),N(v,H)}if(H=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ae=v.g=E[Y];H=xr(ae,I,!0,v)&&H}if(ae=v.g=d,H=xr(ae,I,!0,v)&&H,H=xr(ae,I,!1,v)&&H,E)for(Y=0;Y<E.length;Y++)ae=v.g=E[Y],H=xr(ae,I,!1,v)&&H}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],I=0;I<E.length;I++)Ft(E[I]);delete d.g[v],d.h--}}this.F=null},kt.prototype.K=function(d,v,E,I){return this.i.add(String(d),v,!1,E,I)},kt.prototype.L=function(d,v,E,I){return this.i.add(String(d),v,!0,E,I)};function xr(d,v,E,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Y=0;Y<v.length;++Y){var ae=v[Y];if(ae&&!ae.da&&ae.capture==E){var Ge=ae.listener,At=ae.ha||ae.src;ae.fa&&ya(d.i,ae),H=Ge.call(At,I)!==!1&&H}}return H&&!I.defaultPrevented}function hu(d,v,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function ns(d){d.g=hu(()=>{d.g=null,d.i&&(d.i=!1,ns(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class so extends X{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(d){X.call(this),this.h=d,this.g={}}S(oo,X);var du=[];function fu(d){Z(d.g,function(v,E){this.g.hasOwnProperty(E)&&Er(v)},d),d.g={}}oo.prototype.N=function(){oo.aa.N.call(this),fu(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pu=u.JSON.stringify,mu=u.JSON.parse,gu=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ao(){}ao.prototype.h=null;function Ta(d){return d.h||(d.h=d.i())}function xa(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){ue.call(this,"d")}S(Ui,ue);function Sa(){ue.call(this,"c")}S(Sa,ue);var Bi={},yu=null;function lo(){return yu=yu||new kt}Bi.La="serverreachability";function vu(d){ue.call(this,Bi.La,d)}S(vu,ue);function Sr(d){const v=lo();Rt(v,new vu(v))}Bi.STAT_EVENT="statevent";function _u(d,v){ue.call(this,Bi.STAT_EVENT,d),this.stat=v}S(_u,ue);function vt(d){const v=lo();Rt(v,new _u(v,d))}Bi.Ma="timingevent";function ba(d,v){ue.call(this,Bi.Ma,d),this.size=v}S(ba,ue);function fi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function uo(){this.g=!0}uo.prototype.xa=function(){this.g=!1};function co(d,v,E,I,H,Y){d.info(function(){if(d.g)if(Y)for(var ae="",Ge=Y.split("&"),At=0;At<Ge.length;At++){var Fe=Ge[At].split("=");if(1<Fe.length){var jt=Fe[0];Fe=Fe[1];var xt=jt.split("_");ae=2<=xt.length&&xt[1]=="type"?ae+(jt+"="+Fe+"&"):ae+(jt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+I+") [attempt "+H+"]: "+v+`
`+E+`
`+ae})}function Ia(d,v,E,I,H,Y,ae){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+H+"]: "+v+`
`+E+`
`+Y+" "+ae})}function pi(d,v,E,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cp(d,E)+(I?" "+I:"")})}function wu(d,v){d.info(function(){return"TIMEOUT: "+v})}uo.prototype.info=function(){};function Cp(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var I=E[d];if(!(2>I.length)){var H=I[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return pu(E)}catch{return v}}var Pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function ho(){}S(ho,ao),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},mi=new ho;function gi(d,v,E,I){this.j=d,this.i=v,this.l=E,this.R=I||1,this.U=new oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dh}function dh(){this.i=null,this.g="",this.h=!1}var Eu={},Ca={};function ka(d,v,E){d.L=1,d.v=as(Nn(v)),d.m=E,d.P=!0,Tu(d,null)}function Tu(d,v){d.F=Date.now(),Xe(d),d.A=Nn(d.v);var E=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),us(E.i,"t",I),d.C=0,E=d.j.J,d.h=new dh,d.g=Rh(d.j,E?v:null,!d.m),0<d.O&&(d.M=new so(w(d.Y,d,d.g),d.O)),v=d.U,E=d.g,I=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(du[0]=H.toString()),H=du);for(var Y=0;Y<H.length;Y++){var ae=au(E,H[Y],I||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Sr(),co(d.i,d.u,d.A,d.l,d.R,d.m)}gi.prototype.ca=function(d){d=d.target;const v=this.M;v&&bn(d)==3?v.j():this.Y(d)},gi.prototype.Y=function(d){try{if(d==this.g)e:{const xt=bn(this.g);var v=this.g.Ba();const Xn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||xt!=4||v==7||(v==8||0>=Xn?Sr(3):Sr(2)),fo(this);var E=this.g.Z();this.X=E;t:if(fh(this)){var I=Cu(this.g);d="";var H=I.length,Y=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),is(this);var ae="";break t}this.h.i=new u.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(I[v],{stream:!(Y&&v==H-1)});I.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,Ia(this.i,this.u,this.A,this.l,this.R,xt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,At=this.g;if((Ge=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ge)){var Fe=Ge;break t}}Fe=null}if(E=Fe)pi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xu(this,E);else{this.o=!1,this.s=3,vt(12),Qn(this),is(this);break e}}if(this.P){E=!0;let Ln;for(;!this.J&&this.C<ae.length;)if(Ln=kp(this,ae),Ln==Ca){xt==4&&(this.s=4,vt(14),E=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==Eu){this.s=4,vt(15),pi(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else pi(this.i,this.l,Ln,null),xu(this,Ln);if(fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ae.length!=0||this.h.h||(this.s=1,vt(16),E=!1),this.o=this.o&&E,!E)pi(this.i,this.l,ae,"[Invalid Chunked Response]"),Qn(this),is(this);else if(0<ae.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ru(jt),jt.M=!0,vt(11))}}else pi(this.i,this.l,ae,null),xu(this,ae);xt==4&&Qn(this),this.o&&!this.J&&(xt==4?za(this.j,this):(this.o=!1,Xe(this)))}else Na(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Qn(this),is(this)}}}catch{}finally{}};function fh(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function kp(d,v){var E=d.C,I=v.indexOf(`
`,E);return I==-1?Ca:(E=Number(v.substring(E,I)),isNaN(E)?Eu:(I+=1,I+E>v.length?Ca:(v=v.slice(I,I+E),d.C=I+E,v)))}gi.prototype.cancel=function(){this.J=!0,Qn(this)};function Xe(d){d.S=Date.now()+d.I,ph(d,d.I)}function ph(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=fi(w(d.ba,d),v)}function fo(d){d.B&&(u.clearTimeout(d.B),d.B=null)}gi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(wu(this.i,this.A),this.L!=2&&(Sr(),vt(17)),Qn(this),this.s=2,is(this)):ph(this,this.S-d)};function is(d){d.j.G==0||d.J||za(d.j,d)}function Qn(d){fo(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,fu(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function xu(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||yn(E.h,d))){if(!d.K&&yn(E.h,d)&&E.G==3){try{var I=E.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var H=I;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)ja(E),Ei(E);else break e;Fa(E),vt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=fi(w(E.Za,E),6e3));if(1>=gh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else kr(E,11)}else if((d.K||E.g==d)&&ja(E),!j(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let Fe=H[v];if(E.T=Fe[0],Fe=Fe[1],E.G==2)if(Fe[0]=="c"){E.K=Fe[1],E.ia=Fe[2];const jt=Fe[3];jt!=null&&(E.la=jt,E.j.info("VER="+E.la));const xt=Fe[4];xt!=null&&(E.Aa=xt,E.j.info("SVER="+E.Aa));const Xn=Fe[5];Xn!=null&&typeof Xn=="number"&&0<Xn&&(I=1.5*Xn,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Ln=d.g;if(Ln){const wo=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var Y=I.h;Y.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Su(Y,Y.h),Y.h=null))}if(I.D){const Ba=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(I.ya=Ba,Qe(I.I,I.D,Ba))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ae=d;if(I.qa=kh(I,I.J?I.ia:null,I.W),ae.K){yh(I.h,ae);var Ge=ae,At=I.L;At&&(Ge.I=At),Ge.B&&(fo(Ge),Xe(Ge)),I.g=ae}else _o(I);0<E.i.length&&qi(E)}else Fe[0]!="stop"&&Fe[0]!="close"||kr(E,7);else E.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?kr(E,7):qt(E):Fe[0]!="noop"&&E.l&&E.l.ta(Fe),E.v=0)}}Sr(4)}catch{}}var mh=class{constructor(d,v){this.g=d,this.map=v}};function po(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function On(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function gh(d){return d.h?1:d.g?d.g.size:0}function yn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Su(d,v){d.g?d.g.add(v):d.h=v}function yh(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}po.prototype.cancel=function(){if(this.i=vh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function vh(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return C(d.i)}function Ra(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],E=d.length,I=0;I<E;I++)v.push(d[I]);return v}v=[],E=0;for(I in d)v[E++]=d[I];return v}function Aa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const I in d)v[E++]=I;return v}}}function rs(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=Aa(d),I=Ra(d),H=I.length,Y=0;Y<H;Y++)v.call(void 0,I[Y],E&&E[Y],d)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rp(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var I=d[E].indexOf("="),H=null;if(0<=I){var Y=d[E].substring(0,I);H=d[E].substring(I+1)}else Y=d[E];v(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function br(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof br){this.h=d.h,go(this,d.j),this.o=d.o,this.g=d.g,ss(this,d.s),this.l=d.l;var v=d.i,E=new $i;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),os(this,E),this.m=d.m}else d&&(v=String(d).match(mo))?(this.h=!1,go(this,v[1]||"",!0),this.o=Ve(v[2]||""),this.g=Ve(v[3]||"",!0),ss(this,v[4]),this.l=Ve(v[5]||"",!0),os(this,v[6]||"",!0),this.m=Ve(v[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}br.prototype.toString=function(){var d=[],v=this.j;v&&d.push(ls(v,Da,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ls(v,Da,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(ls(E,E.charAt(0)=="/"?Eh:wh,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",ls(E,bu)),d.join("")};function Nn(d){return new br(d)}function go(d,v,E){d.j=E?Ve(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function ss(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function os(d,v,E){v instanceof $i?(d.i=v,Hi(d.i,d.h)):(E||(v=ls(v,Th)),d.i=new $i(v,d.h))}function Qe(d,v,E){d.i.set(v,E)}function as(d){return Qe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ve(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ls(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,_h),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _h(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Da=/[#\/\?@]/g,wh=/[#\?:]/g,Eh=/[#\?]/g,Th=/[#\?@]/g,bu=/#/g;function $i(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Wt(d){d.g||(d.g=new Map,d.h=0,d.i&&Rp(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=$i.prototype,t.add=function(d,v){Wt(this),this.i=null,d=Yn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function yi(d,v){Wt(d),v=Yn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function vi(d,v){return Wt(d),v=Yn(d,v),d.g.has(v)}t.forEach=function(d,v){Wt(this),this.g.forEach(function(E,I){E.forEach(function(H){d.call(v,H,I,this)},this)},this)},t.na=function(){Wt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let I=0;I<v.length;I++){const H=d[I];for(let Y=0;Y<H.length;Y++)E.push(v[I])}return E},t.V=function(d){Wt(this);let v=[];if(typeof d=="string")vi(this,d)&&(v=v.concat(this.g.get(Yn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},t.set=function(d,v){return Wt(this),this.i=null,d=Yn(this,d),vi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function us(d,v,E){yi(d,v),0<E.length&&(d.i=null,d.g.set(Yn(d,v),C(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var I=v[E];const Y=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var H=Y;ae[I]!==""&&(H+="="+encodeURIComponent(String(ae[I]))),d.push(H)}}return this.i=d.join("&")};function Yn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Hi(d,v){v&&!d.j&&(Wt(d),d.i=null,d.g.forEach(function(E,I){var H=I.toLowerCase();I!=H&&(yi(this,I),us(this,H,E))},d)),d.j=v}function Ap(d,v){const E=new uo;if(u.Image){const I=new Image;I.onload=T(Sn,E,"TestLoadImage: loaded",!0,v,I),I.onerror=T(Sn,E,"TestLoadImage: error",!1,v,I),I.onabort=T(Sn,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=T(Sn,E,"TestLoadImage: timeout",!1,v,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function xh(d,v){const E=new uo,I=new AbortController,H=setTimeout(()=>{I.abort(),Sn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(Y=>{clearTimeout(H),Y.ok?Sn(E,"TestPingServer: ok",!0,v):Sn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Sn(E,"TestPingServer: error",!1,v)})}function Sn(d,v,E,I,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),I(E)}catch{}}function Dp(){this.g=new gu}function Sh(d,v,E){const I=E||"";try{rs(d,function(H,Y){let ae=H;f(H)&&(ae=pu(H)),v.push(I+Y+"="+encodeURIComponent(ae))})}catch(H){throw v.push(I+"type="+encodeURIComponent("_badmap")),H}}function Ir(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Ir,ao),Ir.prototype.g=function(){return new yo(this.l,this.j)},Ir.prototype.i=function(d){return function(){return d}}({});function yo(d,v){kt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(yo,kt),t=yo.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,wi(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function bh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?_i(this):wi(this),this.readyState==3&&bh(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,_i(this))},t.Qa=function(d){this.g&&(this.response=d,_i(this))},t.ga=function(){this.g&&_i(this)};function _i(d){d.readyState=4,d.l=null,d.j=null,d.v=null,wi(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function wi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Pr(d){let v="";return Z(d,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function cs(d,v,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Pr(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Qe(d,v,E))}function ot(d){kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ot,kt);var Mp=/^https?$/i,Iu=["POST","PUT"];t=ot.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?Ta(this.o):Ta(mi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Y){vo(this,Y);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var H in I)E.set(H,I[H]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())E.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Iu,v,void 0))||I||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of E)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){vo(this,Y)}};function vo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ma(d),Vn(d)}function Ma(d){d.A||(d.A=!0,Rt(d,"complete"),Rt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Rt(this,"complete"),Rt(this,"abort"),Vn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},t.bb=function(){Pu(this)};function Pu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||bn(d)!=4||d.Z()!=2)){if(d.u&&bn(d)==4)hu(d.Ea,0,d);else if(Rt(d,"readystatechange"),bn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var I;if(I=ae===0){var H=String(d.D).match(mo)[1]||null;!H&&u.self&&u.self.location&&(H=u.self.location.protocol.slice(0,-1)),I=!Mp.test(H?H.toLowerCase():"")}E=I}if(E)Rt(d,"complete"),Rt(d,"success");else{d.m=6;try{var Y=2<bn(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",Ma(d)}}finally{Vn(d)}}}}function Vn(d,v){if(d.g){Oa(d);const E=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Rt(d,"ready");try{E.onreadystatechange=I}catch{}}}function Oa(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function bn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),mu(v)}};function Cu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Na(d){const v={};d=(d.g&&2<=bn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(j(d[I]))continue;var E=F(d[I]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[H]||[];v[H]=Y,Y.push(E)}D(v,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function ku(d){this.Aa=0,this.i=[],this.j=new uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wi("baseRetryDelayMs",5e3,d),this.cb=Wi("retryDelaySeedMs",1e4,d),this.Wa=Wi("forwardChannelMaxRetries",2,d),this.wa=Wi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new po(d&&d.concurrentRequestLimit),this.Da=new Dp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ku.prototype,t.la=8,t.G=1,t.connect=function(d,v,E,I){vt(0),this.W=d,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=kh(this,null,this.W),qi(this)};function qt(d){if(Va(d),d.G==3){var v=d.U++,E=Nn(d.I);if(Qe(E,"SID",d.K),Qe(E,"RID",v),Qe(E,"TYPE","terminate"),Cr(d,E),v=new gi(d,d.j,v),v.L=2,v.v=as(Nn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.v,E=!0),E||(v.g=Rh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xe(v)}Ch(d)}function Ei(d){d.g&&(Ru(d),d.g.cancel(),d.g=null)}function Va(d){Ei(d),d.u&&(u.clearTimeout(d.u),d.u=null),ja(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function qi(d){if(!On(d.h)&&!d.s){d.s=!0;var v=d.Ga;be||ne(),se||(be(),se=!0),ge.add(v,d),d.B=0}}function Op(d,v){return gh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=fi(w(d.Ga,d,v),Ph(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new gi(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=P(Y),N(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=hs(this,H,v),E=Nn(this.I),Qe(E,"RID",d),Qe(E,"CVER",22),this.D&&Qe(E,"X-HTTP-Session-Id",this.D),Cr(this,E),Y&&(this.O?v="headers="+encodeURIComponent(String(Pr(Y)))+"&"+v:this.m&&cs(E,this.m,Y)),Su(this.h,H),this.Ua&&Qe(E,"TYPE","init"),this.P?(Qe(E,"$req",v),Qe(E,"SID","null"),H.T=!0,ka(H,E,null)):ka(H,E,v),this.G=2}}else this.G==3&&(d?La(this,d):this.i.length==0||On(this.h)||La(this))};function La(d,v){var E;v?E=v.l:E=d.U++;const I=Nn(d.I);Qe(I,"SID",d.K),Qe(I,"RID",E),Qe(I,"AID",d.T),Cr(d,I),d.m&&d.o&&cs(I,d.m,d.o),E=new gi(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=hs(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Su(d.h,E),ka(E,I,v)}function Cr(d,v){d.H&&Z(d.H,function(E,I){Qe(v,I,E)}),d.l&&rs({},function(E,I){Qe(v,I,E)})}function hs(d,v,E){E=Math.min(d.i.length,E);var I=d.l?w(d.l.Na,d.l,d):null;e:{var H=d.i;let Y=-1;for(;;){const ae=["count="+E];Y==-1?0<E?(Y=H[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Ge=!0;for(let At=0;At<E;At++){let Fe=H[At].g;const jt=H[At].map;if(Fe-=Y,0>Fe)Y=Math.max(0,H[At].g-100),Ge=!1;else try{Sh(jt,ae,"req"+Fe+"_")}catch{I&&I(jt)}}if(Ge){I=ae.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,I}function _o(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;be||ne(),se||(be(),se=!0),ge.add(v,d),d.v=0}}function Fa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=fi(w(d.Fa,d),Ph(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=fi(w(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Ei(this),Ih(this))};function Ru(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Ih(d){d.g=new gi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Nn(d.qa);Qe(v,"RID","rpc"),Qe(v,"SID",d.K),Qe(v,"AID",d.T),Qe(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Qe(v,"TO",d.ja),Qe(v,"TYPE","xmlhttp"),Cr(d,v),d.m&&d.o&&cs(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=as(Nn(v)),E.m=null,E.P=!0,Tu(E,d)}t.Za=function(){this.C!=null&&(this.C=null,Ei(this),Fa(this),vt(19))};function ja(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function za(d,v){var E=null;if(d.g==v){ja(d),Ru(d),d.g=null;var I=2}else if(yn(d.h,v))E=v.D,yh(d.h,v),I=1;else return;if(d.G!=0){if(v.o)if(I==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;I=lo(),Rt(I,new ba(I,E)),qi(d)}else _o(d);else if(H=v.s,H==3||H==0&&0<v.X||!(I==1&&Op(d,v)||I==2&&Fa(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),H){case 1:kr(d,5);break;case 4:kr(d,10);break;case 3:kr(d,6);break;default:kr(d,2)}}}function Ph(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function kr(d,v){if(d.j.info("Error code "+v),v==2){var E=w(d.fb,d),I=d.Xa;const H=!I;I=new br(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||go(I,"https"),as(I),H?Ap(I.toString(),E):xh(I.toString(),E)}else vt(2);d.G=0,d.l&&d.l.sa(v),Ch(d),Va(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ch(d){if(d.G=0,d.ka=[],d.l){const v=vh(d.h);(v.length!=0||d.i.length!=0)&&(b(d.ka,v),b(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function kh(d,v,E){var I=E instanceof br?Nn(E):new br(E);if(I.g!="")v&&(I.g=v+"."+I.g),ss(I,I.s);else{var H=u.location;I=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Y=new br(null);I&&go(Y,I),v&&(Y.g=v),H&&ss(Y,H),E&&(Y.l=E),I=Y}return E=d.D,v=d.ya,E&&v&&Qe(I,E,v),Qe(I,"VER",d.la),Cr(d,I),I}function Rh(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ot(new Ir({eb:E})):new ot(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}t=Au.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ua(){}Ua.prototype.g=function(d,v){return new vn(d,v)};function vn(d,v){kt.call(this),this.g=new ku(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!j(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Gi(this)}S(vn,kt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){qt(this.g)},vn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=pu(d),d=E);v.i.push(new mh(v.Ya++,d)),v.G==3&&qi(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,vn.aa.N.call(this)};function Ah(d){Ui.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}S(Ah,Ui);function Dh(){Sa.call(this),this.status=1}S(Dh,Sa);function Gi(d){this.g=d}S(Gi,Au),Gi.prototype.ua=function(){Rt(this.g,"a")},Gi.prototype.ta=function(d){Rt(this.g,new Ah(d))},Gi.prototype.sa=function(d){Rt(this.g,new Dh)},Gi.prototype.ra=function(){Rt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,GS=function(){return new Ua},qS=function(){return lo()},WS=Bi,oy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Yd=Pa,hh.COMPLETE="complete",HS=hh,xa.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",kt.prototype.listen=kt.prototype.K,ac=xa,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,$S=ot}).apply(typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{});const x1="@firebase/firestore",S1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new lv("@firebase/firestore");function dl(){return ea.logLevel}function he(t,...e){if(ea.logLevel<=De.DEBUG){const n=e.map(hv);ea.debug(`Firestore (${Jl}): ${t}`,...n)}}function Qr(t,...e){if(ea.logLevel<=De.ERROR){const n=e.map(hv);ea.error(`Firestore (${Jl}): ${t}`,...n)}}function Nl(t,...e){if(ea.logLevel<=De.WARN){const n=e.map(hv);ea.warn(`Firestore (${Jl}): ${t}`,...n)}}function hv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,KS(t,i,n)}function KS(t,e,n){let i=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qr(i),new Error(i)}function qe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||KS(e,r,i)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class YD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XD{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $r,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $r)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string",31837,{l:i}),new QS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class JD{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZD{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new JD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const i=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=t4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function ay(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),o=e.charAt(i);if(r!==o)return dg(r)===dg(o)?Me(r,o):dg(r)?1:-1}return Me(t.length,e.length)}const n4=55296,i4=57343;function dg(t){const e=t.charCodeAt(0);return e>=n4&&e<=i4}function Vl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__name__";class Zi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=Zi.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return Me(e.length,n.length)}static compareSegments(e,n){const i=Zi.isNumericId(e),r=Zi.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Zi.extractNumericId(e).compare(Zi.extractNumericId(n)):ay(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class it extends Zi{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new it(n)}static emptyPath(){return new it([])}}const r4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Zi{construct(e,n,i){return new Jt(e,n,i)}static isValidIdentifier(e){return r4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I1}static keyField(){return new Jt([I1])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e,n){if(!n)throw new me(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s4(t,e,n,i){if(e===!0&&i===!0)throw new me(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P1(t){if(!_e.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C1(t){if(_e.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fv(t);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xc(t,e){if(!XS(t))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(r&&typeof l!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new me(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=-62135596800,R1=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*R1);return new rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k1)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R1}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Pt("string",rt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new rt(0,0))}static max(){return new Ce(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=-1;function o4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ce.fromTimestamp(i===1e9?new rt(n+1,0):new rt(n,i));return new Hs(r,_e.empty(),e)}function a4(t){return new Hs(t.readTime,t.key,Cc)}class Hs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Hs(Ce.min(),_e.empty(),Cc)}static max(){return new Hs(Ce.max(),_e.empty(),Cc)}}function l4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==u4)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,i)=>{n(e)})}static reject(e){return new J((n,i)=>{i(e)})}static waitFor(e){return new J((n,i)=>{let r=0,o=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++o,l&&o===r&&n()},h=>i(h))}),l=!0,o===r&&n()})}static or(e){let n=J.resolve(!1);for(const i of e)n=n.next(r=>r?J.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new J((i,r)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(m=>{l[f]=m,++u,u===o&&i(l)},m=>r(m))}})}static doWhile(e,n){return new J((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function h4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ep.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=-1;function tp(t){return t==null}function gf(t){return t===0&&1/t==-1/0}function d4(t){return typeof t=="number"&&Number.isInteger(t)&&!gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="";function f4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=A1(e)),e=p4(t.get(n),e);return A1(e)}function p4(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case JS:n+="";break;default:n+=o}}return n}function A1(t){return t+JS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cd(this.root,e,this.comparator,!0)}}class Cd{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??Xt.RED,this.left=r??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Xt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Xt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,r,o){return this}insert(e,n,i){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M1(this.data.getIterator())}getIteratorFrom(e){return new M1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class M1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Di([])}unionWith(e){let n=new Lt(Jt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eb("Invalid base64 string: "+o):o}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=m4.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="server_timestamp",nb="__type__",ib="__previous_value__",rb="__local_write_time__";function mv(t){return(t?.mapValue?.fields||{})[nb]?.stringValue===tb}function np(t){const e=t.mapValue.fields[ib];return mv(e)?np(e):e}function kc(t){const e=Ws(t.mapValue.fields[rb].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,i,r,o,l,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const yf="(default)";class Rc{constructor(e,n){this.projectId=e,this.database=n||yf}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database===yf}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="__type__",y4="__max__",kd={mapValue:{}},ob="__vector__",vf="value";function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mv(t)?4:_4(t)?9007199254740991:v4(t)?10:11:Se(28295,{value:t})}function dr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ws(r.timestampValue),u=Ws(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return qs(r.bytesValue).isEqual(qs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Et(r.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(r.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Et(r.integerValue)===Et(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Et(r.doubleValue),u=Et(o.doubleValue);return l===u?gf(l)===gf(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(D1(l)!==D1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!dr(l[h],u[h])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function Ac(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Ll(t,e){if(t===e)return 0;const n=Gs(t),i=Gs(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Et(o.integerValue||o.doubleValue),h=Et(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return O1(t.timestampValue,e.timestampValue);case 4:return O1(kc(t),kc(e));case 5:return ay(t.stringValue,e.stringValue);case 6:return function(o,l){const u=qs(o),h=qs(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Me(u[f],h[f]);if(m!==0)return m}return Me(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Me(Et(o.latitude),Et(l.latitude));return u!==0?u:Me(Et(o.longitude),Et(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return N1(t.arrayValue,e.arrayValue);case 10:return function(o,l){const u=o.fields||{},h=l.fields||{},f=u[vf]?.arrayValue,m=h[vf]?.arrayValue,y=Me(f?.values?.length||0,m?.values?.length||0);return y!==0?y:N1(f,m)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===kd.mapValue&&l===kd.mapValue)return 0;if(o===kd.mapValue)return 1;if(l===kd.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const w=ay(h[y],m[y]);if(w!==0)return w;const T=Ll(u[h[y]],f[m[y]]);if(T!==0)return T}return Me(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function O1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Ws(t),i=Ws(e),r=Me(n.seconds,i.seconds);return r!==0?r:Me(n.nanos,i.nanos)}function N1(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=Ll(n[r],i[r]);if(o)return o}return Me(n.length,i.length)}function Fl(t){return ly(t)}function ly(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ws(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=ly(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${ly(n.fields[l])}`;return r+"}"}(t.mapValue):Se(61005,{value:t})}function Xd(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=np(t);return e?16+Xd(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Xd(o),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return ca(i.fields,(o,l)=>{r+=o.length+Xd(l)}),r}(t.mapValue);default:throw Se(13486,{value:t})}}function uy(t){return!!t&&"integerValue"in t}function gv(t){return!!t&&"arrayValue"in t}function V1(t){return!!t&&"nullValue"in t}function L1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jd(t){return!!t&&"mapValue"in t}function v4(t){return(t?.mapValue?.fields||{})[sb]?.stringValue===ob}function gc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ca(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=gc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gc(t.arrayValue.values[n]);return e}return{...t}}function _4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===y4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(n)}setAll(e){let n=Jt.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=u.popLast()}l?i[u.lastSegment()]=gc(l):r.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());Jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Jd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ca(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new li(gc(this.value))}}function ab(t){const e=[];return ca(t.fields,(n,i)=>{const r=new Jt([n]);if(Jd(i)){const o=ab(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new Di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,i,r,o,l,u){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),li.empty(),0)}static newFoundDocument(e,n,i,r){return new un(e,1,n,Ce.min(),i,r,0)}static newNoDocument(e,n){return new un(e,2,n,Ce.min(),Ce.min(),li.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ce.min(),Ce.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.position=e,this.inclusive=n}}function F1(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],l=t.position[r];if(o.field.isKeyField()?i=_e.comparator(_e.fromName(l.referenceValue),n.key):i=Ll(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function j1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function w4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{}class Ot extends lb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new T4(e,n,i):n==="array-contains"?new b4(e,i):n==="in"?new I4(e,i):n==="not-in"?new P4(e,i):n==="array-contains-any"?new C4(e,i):new Ot(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new x4(e,i):new S4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ll(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(Ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends lb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fr(e,n)}matches(e){return ub(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ub(t){return t.op==="and"}function cb(t){return E4(t)&&ub(t)}function E4(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function cy(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(cb(t))return t.filters.map(e=>cy(e)).join(",");{const e=t.filters.map(n=>cy(n)).join(",");return`${t.op}(${e})`}}function hb(t,e){return t instanceof Ot?function(i,r){return r instanceof Ot&&i.op===r.op&&i.field.isEqual(r.field)&&dr(i.value,r.value)}(t,e):t instanceof fr?function(i,r){return r instanceof fr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,u)=>o&&hb(l,r.filters[u]),!0):!1}(t,e):void Se(19439)}function db(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(db).join(" ,")+"}"}(t):"Filter"}class T4 extends Ot{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class x4 extends Ot{constructor(e,n){super(e,"in",n),this.keys=fb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S4 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=fb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fb(t,e){return(e.arrayValue?.values||[]).map(n=>_e.fromName(n.referenceValue))}class b4 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gv(n)&&Ac(n.arrayValue,this.value)}}class I4 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class P4 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ac(this.value.arrayValue,n)}}class C4 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ac(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n=null,i=[],r=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function z1(t,e=null,n=[],i=[],r=null,o=null,l=null){return new k4(t,e,n,i,r,o,l)}function yv(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>cy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),tp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Fl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Fl(i)).join(",")),e.Te=n}return e.Te}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!j1(t.startAt,e.startAt)&&j1(t.endAt,e.endAt)}function hy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n=null,i=[],r=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R4(t,e,n,i,r,o,l,u){return new ip(t,e,n,i,r,o,l,u)}function _v(t){return new ip(t)}function U1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A4(t){return t.collectionGroup!==null}function yc(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Lt(Jt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wf(o,i))}),n.has(Jt.keyField().canonicalString())||e.Ie.push(new wf(Jt.keyField(),i))}return e.Ie}function ir(t){const e=ke(t);return e.Ee||(e.Ee=D4(e,yc(t))),e.Ee}function D4(t,e){if(t.limitType==="F")return z1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new wf(r.field,o)});const n=t.endAt?new _f(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new _f(t.startAt.position,t.startAt.inclusive):null;return z1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function dy(t,e,n){return new ip(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rp(t,e){return vv(ir(t),ir(e))&&t.limitType===e.limitType}function pb(t){return`${yv(ir(t))}|lt:${t.limitType}`}function fl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>db(r)).join(", ")}]`),tp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Fl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Fl(r)).join(",")),`Target(${i})`}(ir(t))}; limitType=${t.limitType})`}function sp(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_e.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of yc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(l,u,h){const f=F1(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,yc(i),r)||i.endAt&&!function(l,u,h){const f=F1(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,yc(i),r))}(t,e)}function M4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mb(t){return(e,n)=>{let i=!1;for(const r of yc(t)){const o=O4(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function O4(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?Ll(h,f):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return ZS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=new dt(_e.comparator);function Xr(){return N4}const gb=new dt(_e.comparator);function lc(...t){let e=gb;for(const n of t)e=e.insert(n.key,n);return e}function yb(t){let e=gb;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function $o(){return vc()}function vb(){return vc()}function vc(){return new ha(t=>t.toString(),(t,e)=>t.isEqual(e))}const V4=new dt(_e.comparator),L4=new Lt(_e.comparator);function Ne(...t){let e=L4;for(const n of t)e=e.add(n);return e}const F4=new Lt(Me);function j4(){return F4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(e)?"-0":e}}function _b(t){return{integerValue:""+t}}function z4(t,e){return d4(e)?_b(e):wv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this._=void 0}}function U4(t,e,n){return t instanceof Dc?function(r,o){const l={fields:{[nb]:{stringValue:tb},[rb]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&mv(o)&&(o=np(o)),o&&(l.fields[ib]=o),{mapValue:l}}(n,e):t instanceof Mc?Eb(t,e):t instanceof Oc?Tb(t,e):function(r,o){const l=wb(r,o),u=B1(l)+B1(r.Ae);return uy(l)&&uy(r.Ae)?_b(u):wv(r.serializer,u)}(t,e)}function B4(t,e,n){return t instanceof Mc?Eb(t,e):t instanceof Oc?Tb(t,e):n}function wb(t,e){return t instanceof Ef?function(i){return uy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Dc extends op{}class Mc extends op{constructor(e){super(),this.elements=e}}function Eb(t,e){const n=xb(e);for(const i of t.elements)n.some(r=>dr(r,i))||n.push(i);return{arrayValue:{values:n}}}class Oc extends op{constructor(e){super(),this.elements=e}}function Tb(t,e){let n=xb(e);for(const i of t.elements)n=n.filter(r=>!dr(r,i));return{arrayValue:{values:n}}}class Ef extends op{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function B1(t){return Et(t.integerValue||t.doubleValue)}function xb(t){return gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.field=e,this.transform=n}}function H4(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Mc&&r instanceof Mc||i instanceof Oc&&r instanceof Oc?Vl(i.elements,r.elements,dr):i instanceof Ef&&r instanceof Ef?dr(i.Ae,r.Ae):i instanceof Dc&&r instanceof Dc}(t.transform,e.transform)}class W4{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ap{}function Sb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ev(t.key,Vi.none()):new Jc(t.key,t.data,Vi.none());{const n=t.data,i=li.empty();let r=new Lt(Jt.comparator);for(let o of e.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new da(t.key,i,new Di(r.toArray()),Vi.none())}}function q4(t,e,n){t instanceof Jc?function(r,o,l){const u=r.value.clone(),h=H1(r.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof da?function(r,o,l){if(!Zd(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=H1(r.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(bb(r)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function _c(t,e,n,i){return t instanceof Jc?function(o,l,u,h){if(!Zd(o.precondition,l))return u;const f=o.value.clone(),m=W1(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof da?function(o,l,u,h){if(!Zd(o.precondition,l))return u;const f=W1(o.fieldTransforms,h,l),m=l.data;return m.setAll(bb(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,i):function(o,l,u){return Zd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function G4(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=wb(i.transform,r||null);o!=null&&(n===null&&(n=li.empty()),n.set(i.field,o))}return n||null}function $1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Vl(i,r,(o,l)=>H4(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jc extends ap{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class da extends ap{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function H1(t,e,n){const i=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const o=t[r],l=o.transform,u=e.data.field(o.field);i.set(o.field,B4(l,u,n[r]))}return i}function W1(t,e,n){const i=new Map;for(const r of t){const o=r.transform,l=n.data.field(r.field);i.set(r.field,U4(o,l,e))}return i}class Ev extends ap{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K4 extends ap{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&q4(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=_c(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=_c(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=vb();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(r.key)?null:u;const h=Sb(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,i)=>$1(n,i))&&Vl(this.baseMutations,e.baseMutations,(n,i)=>$1(n,i))}}class Tv{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return V4}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Tv(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,je;function J4(t){switch(t){case ee.OK:return Se(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function Ib(t){if(t===void 0)return Qr("GRPC error has no .code"),ee.UNKNOWN;switch(t){case bt.OK:return ee.OK;case bt.CANCELLED:return ee.CANCELLED;case bt.UNKNOWN:return ee.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ee.INTERNAL;case bt.UNAVAILABLE:return ee.UNAVAILABLE;case bt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case bt.NOT_FOUND:return ee.NOT_FOUND;case bt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case bt.ABORTED:return ee.ABORTED;case bt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case bt.DATA_LOSS:return ee.DATA_LOSS;default:return Se(39323,{code:t})}}(je=bt||(bt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Fs([4294967295,4294967295],0);function q1(t){const e=Z4().encode(t),n=new BS;return n.update(e),new Uint8Array(n.digest())}function G1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fs([n,i],0),new Fs([r,o],0)]}class xv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(i<0)throw new uc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fs.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Fs.fromNumber(i)));return r.compare(eM)===1&&(r=new Fs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=q1(e),[i,r]=G1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new xv(o,r,n);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const n=q1(e),[i,r]=G1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new lp(Ce.min(),r,new dt(Me),Xr(),Ne())}}class Zc{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Zc(i,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class Pb{constructor(e,n){this.targetId=e,this.Ce=n}}class Cb{constructor(e,n,i=Zt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class K1{constructor(){this.ve=0,this.Fe=Q1(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),i=Ne();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Se(38017,{changeType:o})}}),new Zc(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Q1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=Rd(),this.He=Rd(),this.Ye=new dt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const o=r.target;if(hy(o))if(i===0){const l=new _e(o.path);this.et(n,l,un.newNoDocument(l,Ce.min()))}else qe(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let l,u;try{l=qs(i).toUint8Array()}catch(h){if(h instanceof eb)return Nl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new xv(l,r,o)}catch(h){return Nl(h instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((o,l)=>{const u=this.ot(l);if(u){if(o.current&&hy(u.target)){const h=new _e(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,un.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}});let i=Ne();this.He.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.je.forEach((o,l)=>l.setReadTime(e));const r=new lp(e,n,this.Ye,this.je,i);return this.je=Xr(),this.Je=Rd(),this.He=Rd(),this.Ye=new dt(Me),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new K1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rd(){return new dt(_e.comparator)}function Q1(){return new dt(_e.comparator)}const nM={asc:"ASCENDING",desc:"DESCENDING"},iM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rM={and:"AND",or:"OR"};class sM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fy(t,e){return t.useProto3Json||tp(e)?e:{value:e}}function Tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oM(t,e){return Tf(t,e.toTimestamp())}function rr(t){return qe(!!t,49232),Ce.fromTimestamp(function(n){const i=Ws(n);return new rt(i.seconds,i.nanos)}(t))}function Sv(t,e){return py(t,e).canonicalString()}function py(t,e){const n=function(r){return new it(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Rb(t){const e=it.fromString(t);return qe(Nb(e),10190,{key:e.toString()}),e}function my(t,e){return Sv(t.databaseId,e.path)}function fg(t,e){const n=Rb(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Db(n))}function Ab(t,e){return Sv(t.databaseId,e)}function aM(t){const e=Rb(t);return e.length===4?it.emptyPath():Db(e)}function gy(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Db(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Y1(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function lM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Se(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(qe(m===void 0||typeof m=="string",58123),Zt.fromBase64String(m||"")):(qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Zt.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?ee.UNKNOWN:Ib(f.code);return new me(m,f.message||"")}(l);n=new Cb(i,r,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=fg(t,i.document.name),o=rr(i.document.updateTime),l=i.document.createTime?rr(i.document.createTime):Ce.min(),u=new li({mapValue:{fields:i.document.fields}}),h=un.newFoundDocument(r,o,l,u),f=i.targetIds||[],m=i.removedTargetIds||[];n=new ef(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=fg(t,i.document),o=i.readTime?rr(i.readTime):Ce.min(),l=un.newNoDocument(r,o),u=i.removedTargetIds||[];n=new ef([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=fg(t,i.document),o=i.removedTargetIds||[];n=new ef([],o,r,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new X4(r,o),u=i.targetId;n=new Pb(u,l)}}return n}function uM(t,e){let n;if(e instanceof Jc)n={update:Y1(t,e.key,e.value)};else if(e instanceof Ev)n={delete:my(t,e.key)};else if(e instanceof da)n={update:Y1(t,e.key,e.data),updateMask:vM(e.fieldMask)};else{if(!(e instanceof K4))return Se(16599,{Vt:e.type});n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof Dc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Mc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Oc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ef)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Se(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:oM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se(27497)}(t,e.precondition)),n}function cM(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map(n=>function(r,o){let l=r.updateTime?rr(r.updateTime):rr(o);return l.isEqual(Ce.min())&&(l=rr(o)),new W4(l,r.transformResults||[])}(n,e))):[]}function hM(t,e){return{documents:[Ab(t,e.path)]}}function dM(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Ab(t,r);const o=function(f){if(f.length!==0)return Ob(fr.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(w){return{field:pl(w.field),direction:mM(w.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=fy(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:r}}function fM(t){let e=aM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){qe(i===1,65062);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){const w=Mb(y);return w instanceof fr&&cb(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(w=>function(S){return new wf(ml(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let u=null;n.limit&&(u=function(y){let w;return w=typeof y=="object"?y.value:y,tp(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(y){const w=!!y.before,T=y.values||[];return new _f(T,w)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const w=!y.before,T=y.values||[];return new _f(T,w)}(n.endAt)),R4(e,r,l,o,u,"F",h,f)}function pM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ml(n.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ml(n.unaryFilter.field);return Ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ml(n.unaryFilter.field);return Ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ml(n.unaryFilter.field);return Ot.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(ml(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(i=>Mb(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function mM(t){return nM[t]}function gM(t){return iM[t]}function yM(t){return rM[t]}function pl(t){return{fieldPath:t.canonicalString()}}function ml(t){return Jt.fromServerFormat(t.fieldPath)}function Ob(t){return t instanceof Ot?function(n){if(n.op==="=="){if(L1(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NAN"}};if(V1(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L1(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NAN"}};if(V1(n.value))return{unaryFilter:{field:pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(n.field),op:gM(n.op),value:n.value}}}(t):t instanceof fr?function(n){const i=n.getFilters().map(r=>Ob(r));return i.length===1?i[0]:{compositeFilter:{op:yM(n.op),filters:i}}}(t):Se(54877,{filter:t})}function vM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Nb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,i,r,o=Ce.min(),l=Ce.min(),u=Zt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.yt=e}}function wM(t){const e=fM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.Cn=new TM}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Hs.min())}updateCollectionGroup(e,n,i){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class TM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Lt(it.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Lt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vb=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Vb,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jl(0)}static cr(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="LruGarbageCollector",xM=1048576;function Z1([t,e],[n,i]){const r=Me(t,n);return r===0?Me(e,i):r}class SM{constructor(e){this.Ir=e,this.buffer=new Lt(Z1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Z1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(J1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eu(n)?he(J1,"Ignoring IndexedDB error during garbage collection: ",n):await Zl(n)}await this.Vr(3e5)})}}class IM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return J.resolve(ep.ce);const i=new SM(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(X1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,o,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(e,r))).next(y=>(i=y,u=Date.now(),this.removeTargets(e,i,n))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(f=Date.now(),dl()<=De.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y})))}}function PM(t,e){return new IM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.changes=new ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?J.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&_c(i.mutation,r,Di.empty(),rt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ne()){const r=$o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let l=lc();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=$o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ne()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,i,r){let o=Xr();const l=vc(),u=function(){return vc()}();return n.forEach((h,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof da)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),_c(m.mutation,f,m.mutation.getFieldMask(),rt.now())):l.set(f.key,Di.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>u.set(f,new kM(m,l.get(f)??null))),u))}recalculateAndSaveOverlays(e,n){const i=vc();let r=new dt((l,u)=>l-u),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=i.get(h)||Di.empty();m=u.applyToLocalView(f,m),i.set(h,m);const y=(r.get(u.batchId)||Ne()).add(h);r=r.insert(u.batchId,y)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,y=vb();m.forEach(w=>{if(!o.has(w)){const T=Sb(n.get(w),i.get(w));T!==null&&y.set(w,T),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return J.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):J.resolve($o());let u=Cc,h=o;return l.next(f=>J.forEach(f,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Ne())).next(m=>({batchId:u,changes:yb(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(i=>{let r=lc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let l=lc();return this.indexManager.getCollectionParents(e,o).next(u=>J.forEach(u,h=>{const f=function(y,w){return new ip(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(m=>{m.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(l=>{o.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,un.newInvalidDocument(m)))});let u=lc();return l.forEach((h,f)=>{const m=o.get(h);m!==void 0&&_c(m.mutation,f,Di.empty(),rt.now()),sp(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:rr(r.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:wM(r.bundledQuery),readTime:rr(r.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.overlays=new dt(_e.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const i=$o();return J.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.St(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),J.resolve()}getOverlaysForCollection(e,n,i){const r=$o(),o=n.length+1,l=new _e(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return J.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new dt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=$o(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=$o(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=r)););return J.resolve(u)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Y4(n,i));let o=this.qr.get(n);o===void 0&&(o=Ne(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.Qr=new Lt($t.$r),this.Ur=new Lt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new $t(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new _e(new it([])),i=new $t(n,e),r=new $t(n,e+1),o=[];return this.Ur.forEachInRange([i,r],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new it([])),i=new $t(n,e),r=new $t(n,e+1);let o=Ne();return this.Ur.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new $t(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt($t.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q4(o,n,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new $t(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),o=r<0?0:r;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?pv:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new $t(n,0),r=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],l=>{const u=this.Xr(l.Yr);o.push(u)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Lt(Me);return n.forEach(r=>{const o=new $t(r,0),l=new $t(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],u=>{i=i.add(u.Yr)})}),J.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;_e.isDocumentKey(o)||(o=o.child(""));const l=new $t(new _e(o),0);let u=new Lt(Me);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Yr)),!0)},l),J.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return J.forEach(n.mutations,r=>{const o=new $t(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new $t(n,0),r=this.Zr.firstAfterOrEqual(i);return J.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.ri=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return J.resolve(i?i.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let i=Xr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():un.newInvalidDocument(r))}),J.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Xr();const l=n.path,u=new _e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||l4(a4(m),i)<=0||(r.has(m.key)||sp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Se(9500)}ii(e,n){return J.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new VM(this)}getSize(e){return J.resolve(this.size)}}class VM extends CM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.persistence=e,this.si=new ha(n=>yv(n),vv),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new bv,this.targetCount=0,this.ai=jl.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),J.waitFor(o).next(()=>r)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return J.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),J.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return J.resolve(i)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.ui={},this.overlays={},this.ci=new ep(0),this.li=!1,this.li=!0,this.hi=new MM,this.referenceDelegate=e(this),this.Pi=new LM(this),this.indexManager=new EM,this.remoteDocumentCache=function(r){return new NM(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new _M(n),this.Ii=new AM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new OM(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const r=new FM(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ai(e,n){return J.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class FM extends c4{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Ri=new bv,this.Vi=null}static mi(e){return new Iv(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),J.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,i=>{const r=_e.fromPath(i);return this.gi(e,r).next(o=>{o||n.removeEntry(r,Ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xf{constructor(e,n){this.persistence=e,this.pi=new ha(i=>f4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=PM(this,n)}static mi(e,n){return new xf(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(i,r)=>this.br(e,i,r).next(o=>o?J.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,l=>this.br(e,l,n).next(u=>{u||(i++,o.removeEntry(l,Ce.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xd(e.data.value)),n}br(e,n,i){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return J.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=Ne(),r=Ne();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Pv(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return k2()?8:h4(pn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.ys(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(e,n,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new jM;return this.Ss(e,n,l).next(u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)})}).next(()=>o.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(dl()<=De.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(dl()<=De.DEBUG&&he("QueryEngine","Query:",fl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(dl()<=De.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(n))):J.resolve())}ys(e,n){if(U1(n))return J.resolve(null);let i=ir(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=dy(n,null,"F"),i=ir(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Ne(...o);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Ds(n,u);return this.Cs(n,f,l,h.readTime)?this.ys(e,dy(n,null,"F")):this.vs(e,f,n,h)}))})))}ws(e,n,i,r){return U1(n)||r.isEqual(Ce.min())?J.resolve(null):this.ps.getDocuments(e,i).next(o=>{const l=this.Ds(n,o);return this.Cs(n,l,i,r)?J.resolve(null):(dl()<=De.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fl(n)),this.vs(e,l,n,o4(r,Cc)).next(u=>u))})}Ds(e,n){let i=new Lt(mb(e));return n.forEach((r,o)=>{sp(e,o)&&(i=i.add(o))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,n,i){return dl()<=De.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",fl(n)),this.ps.getDocumentsMatchingQuery(e,n,Hs.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="LocalStore",UM=3e8;class BM{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new dt(Me),this.xs=new ha(o=>yv(o),vv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function $M(t,e,n,i){return new BM(t,e,n,i)}async function Fb(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let h=Ne();for(const f of r){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function HM(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const y=f.batch,w=y.keys();let T=J.resolve();return w.forEach(S=>{T=T.next(()=>m.getEntry(h,S)).next(C=>{const b=f.docVersions.get(S);qe(b!==null,48541),C.version.compareTo(b)<0&&(y.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),m.addEntry(C)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ne();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function jb(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function WM(t,e){const n=ke(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const u=[];e.targetChanges.forEach((m,y)=>{const w=r.get(y);if(!w)return;u.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y)));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Zt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),r=r.insert(y,T),function(C,b,A){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=UM?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(w,T,m)&&u.push(n.Pi.updateTargetData(o,T))});let h=Xr(),f=Ne();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(qM(o,l,e.documentUpdates).next(m=>{h=m.ks,f=m.qs})),!i.isEqual(Ce.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next(y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return J.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.Ms=r,o))}function qM(t,e,n){let i=Ne(),r=Ne();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Xr();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(Ce.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(Cv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:r}})}function GM(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=pv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function KM(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(o=>o?(r=o,J.resolve(r)):n.Pi.allocateTargetId(i).next(l=>(r=new Ms(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function yy(t,e,n){const i=ke(t),r=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!eu(l))throw l;he(Cv,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function eE(t,e,n){const i=ke(t);let r=Ce.min(),o=Ne();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const y=ke(h),w=y.xs.get(m);return w!==void 0?J.resolve(y.Ms.get(w)):y.Pi.getTargetData(f,m)}(i,l,ir(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,e,n?r:Ce.min(),n?o:Ne())).next(u=>(QM(i,M4(e),u),{documents:u,Qs:o})))}function QM(t,e,n){let i=t.Os.get(e)||Ce.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Os.set(e,i)}class tE{constructor(){this.activeTargetIds=j4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YM{constructor(){this.Mo=new tE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="ConnectivityMonitor";class iE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(nE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function vy(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="RestConnection",JM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===yf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,o){const l=vy(),u=this.zo(e,n.toUriEncodedString());he(pg,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,r,o);const{host:f}=new URL(u),m=la(f);return this.Jo(e,u,h,i,m).then(y=>(he(pg,`Received RPC '${e}' ${l}: `,y),y),y=>{throw Nl(pg,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",i),y})}Ho(e,n,i,r,o,l){return this.Go(e,n,i,r,o)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}zo(e,n){const i=JM[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class tO extends ZM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,o){const l=vy();return new Promise((u,h)=>{const f=new $S;f.setWithCredentials(!0),f.listenOnce(HS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Yd.NO_ERROR:const y=f.getResponseJson();he(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case Yd.TIMEOUT:he(sn,`RPC '${e}' ${l} timed out`),h(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:const w=f.getStatus();if(he(sn,`RPC '${e}' ${l} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const C=function(A){const j=A.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(j)>=0?j:ee.UNKNOWN}(S.status);h(new me(C,S.message))}else h(new me(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{he(sn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(r);he(sn,`RPC '${e}' ${l} sending request:`,r),f.send(n,"POST",m,i,15)})}T_(e,n,i){const r=vy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GS(),u=qS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");he(sn,`Creating RPC '${e}' stream ${r}: ${m}`,h);const y=l.createWebChannel(m,h);this.I_(y);let w=!1,T=!1;const S=new eO({Yo:b=>{T?he(sn,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(w||(he(sn,`Opening RPC '${e}' stream ${r} transport.`),y.open(),w=!0),he(sn,`RPC '${e}' stream ${r} sending:`,b),y.send(b))},Zo:()=>y.close()}),C=(b,A,j)=>{b.listen(A,U=>{try{j(U)}catch(W){setTimeout(()=>{throw W},0)}})};return C(y,ac.EventType.OPEN,()=>{T||(he(sn,`RPC '${e}' stream ${r} transport opened.`),S.o_())}),C(y,ac.EventType.CLOSE,()=>{T||(T=!0,he(sn,`RPC '${e}' stream ${r} transport closed`),S.a_(),this.E_(y))}),C(y,ac.EventType.ERROR,b=>{T||(T=!0,Nl(sn,`RPC '${e}' stream ${r} transport errored. Name:`,b.name,"Message:",b.message),S.a_(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),C(y,ac.EventType.MESSAGE,b=>{if(!T){const A=b.data[0];qe(!!A,16349);const j=A,U=j?.error||j[0]?.error;if(U){he(sn,`RPC '${e}' stream ${r} received error:`,U);const W=U.status;let Q=function(P){const k=bt[P];if(k!==void 0)return Ib(k)}(W),Z=U.message;Q===void 0&&(Q=ee.INTERNAL,Z="Unknown error status: "+W+" with message "+U.message),T=!0,S.a_(new me(Q,Z)),y.close()}else he(sn,`RPC '${e}' stream ${r} received:`,A),S.u_(A)}}),C(u,WS.STAT_EVENT,b=>{b.stat===oy.PROXY?he(sn,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===oy.NOPROXY&&he(sn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){return new sM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,i=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class Ub{constructor(e,n,i,r,o,l,u,h){this.Mi=e,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new me(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(he(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nO extends Ub{constructor(e,n,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lM(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ce.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?rr(l.readTime):Ce.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=gy(this.serializer),n.addTarget=function(o,l){let u;const h=l.target;if(u=hy(h)?{documents:hM(o,h)}:{query:dM(o,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=kb(o,l.resumeToken);const f=fy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ce.min())>0){u.readTime=Tf(o,l.snapshotVersion.toTimestamp());const f=fy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=pM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=gy(this.serializer),n.removeTarget=e,this.q_(n)}}class iO extends Ub{constructor(e,n,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cM(e.writeResults,e.commitTime),i=rr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>uM(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{}class sO extends rO{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(e,py(n,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ee.UNKNOWN,o.toString())})}Ho(e,n,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,py(n,i),r,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ee.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class oO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class aO{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{fa(this)&&(he(ta,"Restarting streams for network reachability change."),await async function(h){const f=ke(h);f.Ea.add(4),await eh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await cp(f)}(this))})}),this.Ra=new oO(i,r)}}async function cp(t){if(fa(t))for(const e of t.da)await e(!0)}async function eh(t){for(const e of t.da)await e(!1)}function Bb(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Dv(n)?Av(n):tu(n).O_()&&Rv(n,e))}function kv(t,e){const n=ke(t),i=tu(n);n.Ia.delete(e),i.O_()&&$b(n,e),n.Ia.size===0&&(i.O_()?i.L_():fa(n)&&n.Ra.set("Unknown"))}function Rv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tu(t).Y_(e)}function $b(t,e){t.Va.Ue(e),tu(t).Z_(e)}function Av(t){t.Va=new tM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tu(t).start(),t.Ra.ua()}function Dv(t){return fa(t)&&!tu(t).x_()&&t.Ia.size>0}function fa(t){return ke(t).Ea.size===0}function Hb(t){t.Va=void 0}async function lO(t){t.Ra.set("Online")}async function uO(t){t.Ia.forEach((e,n)=>{Rv(t,e)})}async function cO(t,e){Hb(t),Dv(t)?(t.Ra.ha(e),Av(t)):t.Ra.set("Unknown")}async function hO(t,e,n){if(t.Ra.set("Online"),e instanceof Cb&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))}(t,e)}catch(i){he(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sf(t,i)}else if(e instanceof ef?t.Va.Ze(e):e instanceof Pb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const i=await jb(t.localStore);n.compareTo(i)>=0&&await function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(Zt.EMPTY_BYTE_STRING,m.snapshotVersion)),$b(o,h);const y=new Ms(m.target,h,f,m.sequenceNumber);Rv(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(i){he(ta,"Failed to raise snapshot:",i),await Sf(t,i)}}async function Sf(t,e,n){if(!eu(e))throw e;t.Ea.add(1),await eh(t),t.Ra.set("Offline"),n||(n=()=>jb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(ta,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cp(t)})}function Wb(t,e){return e().catch(n=>Sf(t,n,e))}async function hp(t){const e=ke(t),n=Ks(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pv;for(;dO(e);)try{const r=await GM(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,fO(e,r)}catch(r){await Sf(e,r)}qb(e)&&Gb(e)}function dO(t){return fa(t)&&t.Ta.length<10}function fO(t,e){t.Ta.push(e);const n=Ks(t);n.O_()&&n.X_&&n.ea(e.mutations)}function qb(t){return fa(t)&&!Ks(t).x_()&&t.Ta.length>0}function Gb(t){Ks(t).start()}async function pO(t){Ks(t).ra()}async function mO(t){const e=Ks(t);for(const n of t.Ta)e.ea(n.mutations)}async function gO(t,e,n){const i=t.Ta.shift(),r=Tv.from(i,e,n);await Wb(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await hp(t)}async function yO(t,e){e&&Ks(t).X_&&await async function(i,r){if(function(l){return J4(l)&&l!==ee.ABORTED}(r.code)){const o=i.Ta.shift();Ks(i).B_(),await Wb(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await hp(i)}}(t,e),qb(t)&&Gb(t)}async function sE(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),he(ta,"RemoteStore received new credentials");const i=fa(n);n.Ea.add(3),await eh(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cp(n)}async function vO(t,e){const n=ke(t);e?(n.Ea.delete(2),await cp(n)):e||(n.Ea.add(2),await eh(n),n.Ra.set("Unknown"))}function tu(t){return t.ma||(t.ma=function(n,i,r){const o=ke(n);return o.sa(),new nO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Xo:lO.bind(null,t),t_:uO.bind(null,t),r_:cO.bind(null,t),H_:hO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Dv(t)?Av(t):t.Ra.set("Unknown")):(await t.ma.stop(),Hb(t))})),t.ma}function Ks(t){return t.fa||(t.fa=function(n,i,r){const o=ke(n);return o.sa(),new iO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pO.bind(null,t),r_:yO.bind(null,t),ta:mO.bind(null,t),na:gO.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await hp(t)):(await t.fa.stop(),t.Ta.length>0&&(he(ta,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const l=Date.now()+i,u=new Mv(e,n,l,r,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),eu(t))return new me(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=lc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new bl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.ga=new dt(_e.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class zl{constructor(e,n,i,r,o,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new zl(e,n,bl.emptySet(n),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class wO{constructor(){this.queries=aE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=ke(n),o=r.queries;r.queries=aE(),o.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function aE(){return new ha(t=>pb(t),rp)}async function Kb(t,e){const n=ke(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.ba()&&e.Da()&&(i=2):(o=new _O,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const u=Ov(l,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Nv(n)}async function Qb(t,e){const n=ke(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function EO(t,e){const n=ke(t);let i=!1;for(const r of e){const o=r.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&Nv(n)}function TO(t,e,n){const i=ke(t),r=i.queries.get(e);if(r)for(const o of r.Sa)o.onError(n);i.queries.delete(e)}function Nv(t){t.Ca.forEach(e=>{e.next()})}var _y,lE;(lE=_y||(_y={})).Ma="default",lE.Cache="cache";class Yb{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new zl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.key=e}}class Jb{constructor(e){this.key=e}}class xO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=mb(e),this.tu=new bl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new oE,r=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,y)=>{const w=r.get(m),T=sp(this.query,y)?y:null,S=!!w&&this.mutatedKeys.has(w.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;w&&T?w.data.isEqual(T.data)?S!==C&&(i.track({type:3,doc:T}),b=!0):this.su(w,T)||(i.track({type:2,doc:T}),b=!0,(h&&this.eu(T,h)>0||f&&this.eu(T,f)<0)&&(u=!0)):!w&&T?(i.track({type:0,doc:T}),b=!0):w&&!T&&(i.track({type:1,doc:w}),b=!0,(h||f)&&(u=!0)),b&&(T?(l=l.add(T),o=C?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,y)=>function(T,S){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:b})}};return C(T)-C(S)}(m.type,y.type)||this.eu(m.doc,y.doc)),this.ou(i),r=r??!1;const u=n&&!r?this._u():[],h=this.Xa.size===0&&this.current&&!r?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new zl(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new Jb(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new Xb(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vv="SyncEngine";class SO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class bO{constructor(e){this.key=e,this.hu=!1}}class IO{constructor(e,n,i,r,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ha(u=>pb(u),rp),this.Iu=new Map,this.Eu=new Set,this.du=new dt(_e.comparator),this.Au=new Map,this.Ru=new bv,this.Vu={},this.mu=new Map,this.fu=jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PO(t,e,n=!0){const i=rI(t);let r;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await Zb(i,e,n,!0),r}async function CO(t,e){const n=rI(t);await Zb(n,e,!0,!1)}async function Zb(t,e,n,i){const r=await KM(t.localStore,ir(e)),o=r.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await kO(t,e,o,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&Bb(t.remoteStore,r),u}async function kO(t,e,n,i,r){t.pu=(y,w,T)=>async function(C,b,A,j){let U=b.view.ru(A);U.Cs&&(U=await eE(C.localStore,b.query,!1).then(({documents:D})=>b.view.ru(D,U)));const W=j&&j.targetChanges.get(b.targetId),Q=j&&j.targetMismatches.get(b.targetId)!=null,Z=b.view.applyChanges(U,C.isPrimaryClient,W,Q);return cE(C,b.targetId,Z.au),Z.snapshot}(t,y,w,T);const o=await eE(t.localStore,e,!0),l=new xO(e,o.Qs),u=l.ru(o.documents),h=Zc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=l.applyChanges(u,t.isPrimaryClient,h);cE(t,n,f.au);const m=new SO(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function RO(t,e,n){const i=ke(t),r=i.Tu.get(e),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter(l=>!rp(l,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await yy(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&kv(i.remoteStore,r.targetId),wy(i,r.targetId)}).catch(Zl)):(wy(i,r.targetId),await yy(i.localStore,r.targetId,!0))}async function AO(t,e){const n=ke(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),kv(n.remoteStore,i.targetId))}async function DO(t,e,n){const i=jO(t);try{const r=await function(l,u){const h=ke(l),f=rt.now(),m=u.reduce((T,S)=>T.add(S.key),Ne());let y,w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Xr(),C=Ne();return h.Ns.getEntries(T,m).next(b=>{S=b,S.forEach((A,j)=>{j.isValidDocument()||(C=C.add(A))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,S)).next(b=>{y=b;const A=[];for(const j of u){const U=G4(j,y.get(j.key).overlayedDocument);U!=null&&A.push(new da(j.key,U,ab(U.value.mapValue),Vi.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,A,u)}).next(b=>{w=b;const A=b.applyToLocalDocumentSet(y,C);return h.documentOverlayCache.saveOverlays(T,b.batchId,A)})}).then(()=>({batchId:w.batchId,changes:yb(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new dt(Me)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(i,r.batchId,n),await th(i,r.changes),await hp(i.remoteStore)}catch(r){const o=Ov(r,"Failed to persist write");n.reject(o)}}async function eI(t,e){const n=ke(t);try{const i=await WM(n.localStore,e);e.targetChanges.forEach((r,o)=>{const l=n.Au.get(o);l&&(qe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?qe(l.hu,14607):r.removedDocuments.size>0&&(qe(l.hu,42227),l.hu=!1))}),await th(n,i,e)}catch(i){await Zl(i)}}function uE(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((o,l)=>{const u=l.view.va(e);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=ke(l);h.onlineState=u;let f=!1;h.queries.forEach((m,y)=>{for(const w of y.Sa)w.va(u)&&(f=!0)}),f&&Nv(h)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function MO(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),o=r&&r.key;if(o){let l=new dt(_e.comparator);l=l.insert(o,un.newNoDocument(o,Ce.min()));const u=Ne().add(o),h=new lp(Ce.min(),new Map,new dt(Me),l,u);await eI(i,h),i.du=i.du.remove(o),i.Au.delete(e),Lv(i)}else await yy(i.localStore,e,!1).then(()=>wy(i,e,n)).catch(Zl)}async function OO(t,e){const n=ke(t),i=e.batch.batchId;try{const r=await HM(n.localStore,e);nI(n,i,null),tI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await th(n,r)}catch(r){await Zl(r)}}async function NO(t,e,n){const i=ke(t);try{const r=await function(l,u){const h=ke(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(y=>(qe(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(i.localStore,e);nI(i,e,n),tI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await th(i,r)}catch(r){await Zl(r)}}function tI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function nI(t,e,n){const i=ke(t);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||iI(t,i)})}function iI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(kv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Lv(t))}function cE(t,e,n){for(const i of n)i instanceof Xb?(t.Ru.addReference(i.key,e),VO(t,i)):i instanceof Jb?(he(Vv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||iI(t,i.key)):Se(19791,{wu:i})}function VO(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(he(Vv,"New document in limbo: "+n),t.Eu.add(i),Lv(t))}function Lv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(it.fromString(e)),i=t.fu.next();t.Au.set(i,new bO(n)),t.du=t.du.insert(n,i),Bb(t.remoteStore,new Ms(ir(_v(n.path)),i,"TargetPurposeLimboResolution",ep.ce))}}async function th(t,e,n){const i=ke(t),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){r.push(f);const m=Pv.As(h.targetId,f);o.push(m)}}))}),await Promise.all(l),i.Pu.H_(r),await async function(h,f){const m=ke(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>J.forEach(f,w=>J.forEach(w.Es,T=>m.persistence.referenceDelegate.addReference(y,w.targetId,T)).next(()=>J.forEach(w.ds,T=>m.persistence.referenceDelegate.removeReference(y,w.targetId,T)))))}catch(y){if(!eu(y))throw y;he(Cv,"Failed to update sequence numbers: "+y)}for(const y of f){const w=y.targetId;if(!y.fromCache){const T=m.Ms.get(w),S=T.snapshotVersion,C=T.withLastLimboFreeSnapshotVersion(S);m.Ms=m.Ms.insert(w,C)}}}(i.localStore,o))}async function LO(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){he(Vv,"User change. New user:",e.toKey());const i=await Fb(n.localStore,e);n.currentUser=e,function(o,l){o.mu.forEach(u=>{u.forEach(h=>{h.reject(new me(ee.CANCELLED,l))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await th(n,i.Ls)}}function FO(t,e){const n=ke(t),i=n.Au.get(e);if(i&&i.hu)return Ne().add(i.key);{let r=Ne();const o=n.Iu.get(e);if(!o)return r;for(const l of o){const u=n.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function rI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MO.bind(null,e),e.Pu.H_=EO.bind(null,e.eventManager),e.Pu.yu=TO.bind(null,e.eventManager),e}function jO(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NO.bind(null,e),e}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=up(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $M(this.persistence,new zM,e.initialUser,this.serializer)}Cu(e){return new Lb(Iv.mi,this.serializer)}Du(e){return new YM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class zO extends bf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof xf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Lb(i=>xf.mi(i,n),this.serializer)}}class Ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LO.bind(null,this.syncEngine),await vO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wO}()}createDatastore(e){const n=up(e.databaseInfo.databaseId),i=function(o){return new tO(o)}(e.databaseInfo);return function(o,l,u,h){return new sO(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,l,u){return new aO(i,r,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>uE(this.syncEngine,n,0),function(){return iE.v()?new iE:new XM}())}createSyncEngine(e,n){return function(r,o,l,u,h,f,m){const y=new IO(r,o,l,u,h,f);return m&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=ke(n);he(ta,"RemoteStore shutting down."),i.Ea.add(5),await eh(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ey.provider={build:()=>new Ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class UO{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=an.UNAUTHENTICATED,this.clientId=dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{he(Qs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(he(Qs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Ov(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gg(t,e){t.asyncQueue.verifyOperationInProgress(),he(Qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Fb(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BO(t);he(Qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>sE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>sE(e.remoteStore,r)),t._onlineComponents=e}async function BO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Qs,"Using user provided OfflineComponentProvider");try{await gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===ee.FAILED_PRECONDITION||r.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await gg(t,new bf)}}else he(Qs,"Using default OfflineComponentProvider"),await gg(t,new zO(void 0));return t._offlineComponents}async function oI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Qs,"Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(he(Qs,"Using default OnlineComponentProvider"),await hE(t,new Ey))),t._onlineComponents}function $O(t){return oI(t).then(e=>e.syncEngine)}async function aI(t){const e=await oI(t),n=e.eventManager;return n.onListen=PO.bind(null,e.syncEngine),n.onUnlisten=RO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AO.bind(null,e.syncEngine),n}function HO(t,e,n={}){const i=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new sI({next:w=>{m.Nu(),l.enqueueAndForget(()=>Qb(o,y));const T=w.docs.has(u);!T&&w.fromCache?f.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&h&&h.source==="server"?f.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new Yb(_v(u.path),m,{includeMetadataChanges:!0,qa:!0});return Kb(o,y)}(await aI(t),t.asyncQueue,e,n,i)),i.promise}function WO(t,e,n={}){const i=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new sI({next:w=>{m.Nu(),l.enqueueAndForget(()=>Qb(o,y)),w.fromCache&&h.source==="server"?f.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new Yb(u,m,{includeMetadataChanges:!0,qa:!0});return Kb(o,y)}(await aI(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="firestore.googleapis.com",fE=!0;class pE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uI,this.ssl=fE}else this.host=e.host,this.ssl=e.ssl??fE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xM)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lI(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new QD;switch(i.type){case"firstParty":return new ZD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=dE.get(n);i&&(he("ComponentProvider","Removing Datastore"),dE.delete(n),i.terminate())}(this),Promise.resolve()}}function qO(t,e,n,i={}){t=Yr(t,dp);const r=la(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;r&&(ov(`https://${u}`),av("Firestore",!0)),o.host!==uI&&o.host!==u&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:r,emulatorOptions:i};if(!Jo(h,l)&&(t._setSettings(h),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=an.MOCK_USER;else{f=VS(i.mockUserToken,t._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new an(y)}t._authCredentials=new YD(new QS(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fp(this.firestore,e,this._query)}}class Vt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Xc(n,Vt._jsonSchema))return new Vt(e,i||null,new _e(it.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Pt("string",Vt._jsonSchemaVersion),referencePath:Pt("string")};class js extends fp{constructor(e,n,i){super(e,n,_v(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new _e(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function GO(t,e,...n){if(t=xn(t),YS("collection","path",e),t instanceof dp){const i=it.fromString(e,...n);return C1(i),new js(t,null,i)}{if(!(t instanceof Vt||t instanceof js))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return C1(i),new js(t.firestore,null,i)}}function cI(t,e,...n){if(t=xn(t),arguments.length===1&&(e=dv.newId()),YS("doc","path",e),t instanceof dp){const i=it.fromString(e,...n);return P1(i),new Vt(t,null,new _e(i))}{if(!(t instanceof Vt||t instanceof js))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return P1(i),new Vt(t.firestore,t instanceof js?t.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zb(this,"async_queue_retry"),this._c=()=>{const i=mg();i&&he(mE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $r;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eu(e))throw e;he(mE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",yE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Mv.createAndSchedule(this,e,n,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&Se(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nu extends dp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new gE,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function KO(t,e){const n=typeof t=="object"?t:cv(),i=typeof t=="string"?t:yf,r=Zf(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=MS("firestore");o&&qO(r,...o)}return r}function Fv(t){if(t._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QO(t),t._firestoreClient}function QO(t){const e=t._freezeSettings(),n=function(r,o,l,u){return new g4(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,lI(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(Zt.fromBase64String(e))}catch(n){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ui(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xc(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Pt("string",ui._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sr._jsonSchemaVersion}}static fromJSON(e){if(Xc(e,sr._jsonSchema))return new sr(e.latitude,e.longitude)}}sr._jsonSchemaVersion="firestore/geoPoint/1.0",sr._jsonSchema={type:Pt("string",sr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xc(e,or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new or(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:Pt("string",or._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=/^__.*__$/;class XO{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new da(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}function hI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class Uv{constructor(e,n,i,r,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return If(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hI(this.Ac)&&YO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JO{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||up(e)}Cc(e,n,i,r=!1){return new Uv({Ac:e,methodName:n,Dc:i,path:Jt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dI(t){const e=t._freezeSettings(),n=up(t._databaseId);return new JO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fI(t,e,n,i,r,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,r);yI("Data must be an object, but it was:",l,i);const u=mI(i,l);let h,f;if(o.merge)h=new Di(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const w=ZO(e,y,n);if(!l.contains(w))throw new me(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);tN(m,w)||m.push(w)}h=new Di(m),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new XO(new li(u),h,f)}class Bv extends zv{_toFieldTransform(e){return new $4(e.path,new Dc)}isEqual(e){return e instanceof Bv}}function pI(t,e){if(gI(t=xn(t)))return yI("Unsupported field value:",e,t),mI(t,e);if(t instanceof zv)return function(i,r){if(!hI(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const u of i){let h=pI(u,r.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return z4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=rt.fromDate(i);return{timestampValue:Tf(r.serializer,o)}}if(i instanceof rt){const o=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tf(r.serializer,o)}}if(i instanceof sr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ui)return{bytesValue:kb(r.serializer,i._byteString)};if(i instanceof Vt){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof or)return function(l,u){return{mapValue:{fields:{[sb]:{stringValue:ob},[vf]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return wv(u.serializer,f)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${fv(i)}`)}(t,e)}function mI(t,e){const n={};return ZS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(t,(i,r)=>{const o=pI(r,e.mc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function gI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof sr||t instanceof ui||t instanceof Vt||t instanceof zv||t instanceof or)}function yI(t,e,n){if(!gI(n)||!XS(n)){const i=fv(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function ZO(t,e,n){if((e=xn(e))instanceof jv)return e._internalPath;if(typeof e=="string")return vI(t,e);throw If("Field path arguments must be of type string or ",t,!1,void 0,n)}const eN=new RegExp("[~\\*/\\[\\]]");function vI(t,e,n){if(e.search(eN)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jv(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function If(t,e,n,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new me(ee.INVALID_ARGUMENT,u+t+h)}function tN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nN extends _I{data(){return super.data()}}function wI(t,e){return typeof e=="string"?vI(t,e):e instanceof jv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rN{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ca(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){const n=e.fields?.[vf].arrayValue?.values?.map(i=>Et(i.doubleValue));return new or(n)}convertGeoPoint(e){return new sr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=np(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);qe(Nb(i),9688,{name:e});const r=new Rc(i.get(1),i.get(3)),o=new _e(i.popFirst(5));return r.isEqual(n)||Qr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qo extends _I{constructor(e,n,i,r,o,l){super(e,n,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(wI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:Pt("string",Qo._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class tf extends Qo{data(e={}){return super.data(e)}}class Il{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new cc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new tf(this._firestore,this._userDataWriter,i.key,i,new cc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new tf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new cc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new tf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new cc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:sN(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){t=Yr(t,Vt);const e=Yr(t.firestore,nu);return HO(Fv(e),t._key).then(n=>lN(e,t,n))}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:Pt("string",Il._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class TI extends rN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function aN(t){t=Yr(t,fp);const e=Yr(t.firestore,nu),n=Fv(e),i=new TI(e);return iN(t._query),WO(n,t._query).then(r=>new Il(e,i,t,r))}function rH(t,e,n){t=Yr(t,Vt);const i=Yr(t.firestore,nu),r=EI(t.converter,e,n);return $v(i,[fI(dI(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Vi.none())])}function sH(t){return $v(Yr(t.firestore,nu),[new Ev(t._key,Vi.none())])}function oH(t,e){const n=Yr(t.firestore,nu),i=cI(t),r=EI(t.converter,e);return $v(n,[fI(dI(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Vi.exists(!1))]).then(()=>i)}function $v(t,e){return function(i,r){const o=new $r;return i.asyncQueue.enqueueAndForget(async()=>DO(await $O(i),r,o)),o.promise}(Fv(t),e)}function lN(t,e,n){const i=n.docs.get(e._key),r=new TI(t);return new Qo(t,r,e._key,i,new cc(n.hasPendingWrites,n.fromCache),e.converter)}function aH(){return new Bv("serverTimestamp")}(function(e,n=!0){(function(r){Jl=r})(ua),Zo(new $s("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new nu(new XD(i.getProvider("auth-internal")),new e4(l,i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(f.options.projectId,m)}(l,r),l);return o={useFetchStreams:n,...o},u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),nr(x1,S1,e),nr(x1,S1,"esm2020")})();function xI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uN=xI,SI=new Qc("auth","Firebase",xI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new lv("@firebase/auth");function cN(t,...e){Pf.logLevel<=De.WARN&&Pf.warn(`Auth (${ua}): ${t}`,...e)}function nf(t,...e){Pf.logLevel<=De.ERROR&&Pf.error(`Auth (${ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,...e){throw Hv(t,...e)}function ar(t,...e){return Hv(t,...e)}function bI(t,e,n){const i={...uN(),[e]:n};return new Qc("auth","Firebase",i).create(e,{appName:t.name})}function zs(t){return bI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return SI.create(t,...e)}function xe(t,e,...n){if(!t)throw Hv(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nf(e),new Error(e)}function Jr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){return typeof self<"u"&&self.location?.href||""}function hN(){return vE()==="http:"||vE()==="https:"}function vE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hN()||I2()||"connection"in navigator)?navigator.onLine:!0}function fN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=x2()||P2()}get(){return dN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){Jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gN=new nh(3e4,6e4);function pa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function eo(t,e,n,i,r={}){return PI(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=Yc({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return b2()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&la(t.emulatorConfig.host)&&(f.credentials="include"),II.fetch()(await CI(t,t.config.apiHost,n,u),f)})}async function PI(t,e,n){t._canInitEmulator=!1;const i={...pN,...e};try{const r=new vN(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Dd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Dd(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw bI(t,m,f);ji(t,m)}}catch(r){if(r instanceof gr)throw r;ji(t,"network-request-failed",{message:String(r)})}}async function pp(t,e,n,i,r={}){const o=await eo(t,e,n,i,r);return"mfaPendingCredential"in o&&ji(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function CI(t,e,n,i){const r=`${e}${n}?${i}`,o=t,l=o.config.emulator?Wv(t.config,r):`${t.config.apiScheme}://${r}`;return mN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function yN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),gN.get())})}}function Dd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ar(t,e,i);return r.customData._tokenResponse=n,r}function _E(t){return t!==void 0&&t.enterprise!==void 0}class _N{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wN(t,e){return eo(t,"GET","/v2/recaptchaConfig",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e){return eo(t,"POST","/v1/accounts:delete",e)}async function Cf(t,e){return eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TN(t,e=!1){const n=xn(t),i=await n.getIdToken(e),r=qv(i);xe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:wc(yg(r.auth_time)),issuedAtTime:wc(yg(r.iat)),expirationTime:wc(yg(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function yg(t){return Number(t)*1e3}function qv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const r=AS(n);return r?JSON.parse(r):(nf("Failed to decode base64 JWT payload"),null)}catch(r){return nf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function wE(t){const e=qv(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof gr&&xN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function xN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t){const e=t.auth,n=await t.getIdToken(),i=await Nc(t,Cf(e,{idToken:n}));xe(i?.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=r.providerUserInfo?.length?kI(r.providerUserInfo):[],l=IN(t.providerData,o),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!l?.length,f=u?h:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new xy(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function bN(t){const e=xn(t);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function kI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e){const n=await PI(t,{},async()=>{const i=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=await CI(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return t.emulatorConfig&&la(t.emulatorConfig.host)&&(h.credentials="include"),II.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CN(t,e){return eo(t,"POST","/v2/accounts:revokeToken",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=wE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await PN(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new Pl;return i&&(xe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(xe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mi{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new SN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new xy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TN(this,e)}reload(){return bN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await kf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await Nc(this,EN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:T,providerData:S,stsTokenManager:C}=n;xe(y&&C,e,"internal-error");const b=Pl.fromJSON(this.name,C);xe(typeof y=="string",e,"internal-error"),Is(i,e.name),Is(r,e.name),xe(typeof w=="boolean",e,"internal-error"),xe(typeof T=="boolean",e,"internal-error"),Is(o,e.name),Is(l,e.name),Is(u,e.name),Is(h,e.name),Is(f,e.name),Is(m,e.name);const A=new Mi({uid:y,auth:e,email:r,emailVerified:w,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:b,createdAt:f,lastLoginAt:m});return S&&Array.isArray(S)&&(A.providerData=S.map(j=>({...j}))),h&&(A._redirectEventId=h),A}static async _fromIdTokenResponse(e,n,i=!1){const r=new Pl;r.updateFromServerResponse(n);const o=new Mi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await kf(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];xe(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?kI(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new Pl;u.updateFromIdToken(i);const h=new Mi({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new xy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function zr(t){Jr(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RI.type="NONE";const TE=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=rf(this.userKey,r.apiKey,o),this.fullPersistenceKey=rf("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cf(this.auth,{idToken:e}).catch(()=>{});return n?Mi._fromGetAccountInfoResponse(this.auth,n,e):null}return Mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Cl(zr(TE),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||zr(TE);const l=rf(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const w=await Cf(e,{idToken:m}).catch(()=>{});if(!w)break;y=await Mi._fromGetAccountInfoResponse(e,w,m)}else y=Mi._fromJSON(e,m);f!==o&&(u=y),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Cl(o,e,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Cl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VI(e))return"Blackberry";if(LI(e))return"Webos";if(DI(e))return"Safari";if((e.includes("chrome/")||MI(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function AI(t=pn()){return/firefox\//i.test(t)}function DI(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MI(t=pn()){return/crios\//i.test(t)}function OI(t=pn()){return/iemobile/i.test(t)}function NI(t=pn()){return/android/i.test(t)}function VI(t=pn()){return/blackberry/i.test(t)}function LI(t=pn()){return/webos/i.test(t)}function Gv(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kN(t=pn()){return Gv(t)&&!!window.navigator?.standalone}function RN(){return C2()&&document.documentMode===10}function FI(t=pn()){return Gv(t)||NI(t)||LI(t)||VI(t)||/windows phone/i.test(t)||OI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t,e=[]){let n;switch(t){case"Browser":n=xE(pn());break;case"Worker":n=`${xE(pn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e={}){return eo(t,"GET","/v2/passwordPolicy",pa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=6;class ON{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new AN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cf(this,{idToken:e}),i=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(zs(this));const n=e?xn(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DN(this),n=new ON(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await CN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(t){return xn(t)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=V2(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VN(t){mp=t}function zI(t){return mp.loadJS(t)}function LN(){return mp.recaptchaEnterpriseScript}function FN(){return mp.gapiScript}function jN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class zN{constructor(){this.enterprise=new UN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BN="recaptcha-enterprise",UI="NO_RECAPTCHA";class $N{constructor(e){this.type=BN,this.auth=iu(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{wN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new _N(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,l,u){const h=window.grecaptcha;_E(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(UI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zN().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!n&&_E(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=LN();h.length!==0&&(h+=u),zI(h).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function bE(t,e,n,i=!1,r=!1){const o=new $N(t);let l;if(r)l=UI;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function IE(t,e,n,i,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bE(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await bE(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e){const n=Zf(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Jo(o,e??{}))return r;ji(r,"already-initialized")}return n.initialize({options:e})}function WN(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function qN(t,e,n){const i=iu(t);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=BI(e),{host:l,port:u}=GN(e),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(Jo(f,i.config.emulator)&&Jo(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,la(l)?(ov(`${o}//${l}${h}`),av("Auth",!0)):KN()}function BI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GN(t){const e=BI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:PE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:PE(l)}}}function PE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function QN(t,e){return eo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e){return pp(t,"POST","/v1/accounts:signInWithPassword",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e){return pp(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}async function JN(t,e){return pp(t,"POST","/v1/accounts:signInWithEmailLink",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Kv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Vc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IE(e,n,"signInWithPassword",YN);case"emailLink":return XN(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return IE(e,i,"signUpPassword",QN);case"emailLink":return JN(e,{idToken:n,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t,e){return pp(t,"POST","/v1/accounts:signInWithIdp",pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="http://localhost";class na extends Kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...o}=n;if(!i||!r)return null;const l=new na(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return kl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,kl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kl(e,n)}buildRequest(){const e={requestUri:ZN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tV(t){const e=sc(oc(t)).link,n=e?sc(oc(e)).deep_link_id:null,i=sc(oc(t)).deep_link_id;return(i?sc(oc(i)).link:null)||i||n||e||t}class Qv{constructor(e){const n=sc(oc(e)),i=n.apiKey??null,r=n.oobCode??null,o=eV(n.mode??null);xe(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tV(e);try{return new Qv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Qv.parseLink(n);return xe(i,"argument-error"),Vc._fromEmailAndCode(e,i.code,i.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends $I{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends ih{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ks.credential(n,i)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends ih{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ih{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return As.credential(n,i)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Mi._fromIdTokenResponse(e,i,r),l=CE(i);return new Ul({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=CE(i);return new Ul({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends gr{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Rf(e,n,i,r)}}function HI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rf._fromErrorAndOperation(t,o,e,i):o})}async function nV(t,e,n=!1){const i=await Nc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ul._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e,n=!1){const{auth:i}=t;if(ai(i.app))return Promise.reject(zs(i));const r="reauthenticate";try{const o=await Nc(t,HI(i,r,e,t),n);xe(o.idToken,i,"internal-error");const l=qv(o.idToken);xe(l,i,"internal-error");const{sub:u}=l;return xe(t.uid===u,i,"user-mismatch"),Ul._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ji(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(t,e,n=!1){if(ai(t.app))return Promise.reject(zs(t));const i="signIn",r=await HI(t,i,e),o=await Ul._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function rV(t,e){return WI(iu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t){const e=iu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lH(t,e,n){return ai(t.app)?Promise.reject(zs(t)):rV(xn(t),ru.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&sV(t),i})}function oV(t,e,n,i){return xn(t).onIdTokenChanged(e,n,i)}function aV(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}function uH(t,e,n,i){return xn(t).onAuthStateChanged(e,n,i)}function cH(t){return xn(t).signOut()}const Af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Af,"1"),this.storage.removeItem(Af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=1e3,uV=10;class GI extends qI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);RN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,uV):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GI.type="LOCAL";const cV=GI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends qI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KI.type="SESSION";const QI=KI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new gp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await hV(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=Yv("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function fV(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function pV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mV(){return navigator?.serviceWorker?.controller||null}function gV(){return YI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firebaseLocalStorageDb",yV=1,Df="firebaseLocalStorage",JI="fbase_key";class rh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yp(t,e){return t.transaction([Df],e?"readwrite":"readonly").objectStore(Df)}function vV(){const t=indexedDB.deleteDatabase(XI);return new rh(t).toPromise()}function Sy(){const t=indexedDB.open(XI,yV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Df,{keyPath:JI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Df)?e(i):(i.close(),await vV(),e(await Sy()))})})}async function kE(t,e,n){const i=yp(t,!0).put({[JI]:e,value:n});return new rh(i).toPromise()}async function _V(t,e){const n=yp(t,!1).get(e),i=await new rh(n).toPromise();return i===void 0?null:i.value}function RE(t,e){const n=yp(t,!0).delete(e);return new rh(n).toPromise()}const wV=800,EV=3;class ZI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>EV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(gV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pV(),!this.activeServiceWorker)return;this.sender=new dV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sy();return await kE(e,Af,"1"),await RE(e,Af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>kE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>_V(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=yp(r,!1).getAll();return new rh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZI.type="LOCAL";const TV=ZI;new nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t,e){return e?zr(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SV(t){return WI(t.auth,new Xv(t),t.bypassAuthState)}function bV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),iV(n,new Xv(t),t.bypassAuthState)}async function IV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),nV(n,new Xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SV;case"linkViaPopup":case"linkViaRedirect":return IV;case"reauthViaPopup":case"reauthViaRedirect":return bV;default:ji(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new nh(2e3,1e4);class gl extends eP{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PV.get())};e()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="pendingRedirect",sf=new Map;class kV extends eP{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=sf.get(this.auth._key());if(!e){try{const i=await RV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}sf.set(this.auth._key(),e)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RV(t,e){const n=MV(e),i=DV(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function AV(t,e){sf.set(t._key(),e)}function DV(t){return zr(t._redirectPersistence)}function MV(t){return rf(CV,t.config.apiKey,t.name)}async function OV(t,e,n=!1){if(ai(t.app))return Promise.reject(zs(t));const i=iu(t),r=xV(i,e),l=await new kV(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=600*1e3;class VV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tP(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NV&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e={}){return eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zV=/^https?/;async function UV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FV(t);for(const n of e)try{if(BV(n))return}catch{}ji(t,"unauthorized-domain")}function BV(t){const e=Ty(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!zV.test(n))return!1;if(jV.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new nh(3e4,6e4);function DE(){const t=lr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HV(t){return new Promise((e,n)=>{function i(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),n(ar(t,"network-request-failed"))},timeout:$V.get()})}if(lr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(lr().gapi?.load)i();else{const r=jN("iframefcb");return lr()[r]=()=>{gapi.load?i():n(ar(t,"network-request-failed"))},zI(`${FN()}?onload=${r}`).catch(o=>n(o))}}).catch(e=>{throw of=null,e})}let of=null;function WV(t){return of=of||HV(t),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new nh(5e3,15e3),GV="__/auth/iframe",KV="emulator/auth/iframe",QV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XV(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wv(e,KV):`https://${t.config.authDomain}/${GV}`,i={apiKey:e.apiKey,appName:t.name,v:ua},r=YV.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Yc(i).slice(1)}`}async function JV(t){const e=await WV(t),n=lr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:XV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QV,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=ar(t,"network-request-failed"),u=lr().setTimeout(()=>{o(l)},qV.get());function h(){lr().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e3=500,t3=600,n3="_blank",i3="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r3(t,e,n,i=e3,r=t3){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...ZV,width:i.toString(),height:r.toString(),top:o,left:l},f=pn().toLowerCase();n&&(u=MI(f)?n3:n),AI(f)&&(e=e||i3,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[T,S])=>`${w}${T}=${S},`,"");if(kN(f)&&u!=="_self")return s3(e||"",u),new ME(null);const y=window.open(e||"",u,m);xe(y,t,"popup-blocked");try{y.focus()}catch{}return new ME(y)}function s3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="__/auth/handler",a3="emulator/auth/handler",l3=encodeURIComponent("fac");async function OE(t,e,n,i,r,o){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ua,eventId:r};if(e instanceof $I){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",N2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof ih){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${l3}=${encodeURIComponent(h)}`:"";return`${u3(t)}?${Yc(u).slice(1)}${f}`}function u3({config:t}){return t.emulator?Wv(t,a3):`https://${t.authDomain}/${o3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="webStorageSupport";class c3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QI,this._completeRedirectFn=OV,this._overrideRedirectResult=AV}async _openPopup(e,n,i,r){Jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await OE(e,n,i,Ty(),r);return r3(e,o,Yv())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await OE(e,n,i,Ty(),r);return fV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Jr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await JV(e),i=new VV(e);return n.register("authEvent",r=>(xe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vg,{type:vg},r=>{const o=r?.[0]?.[vg];o!==void 0&&n(!!o),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FI()||DI()||Gv()}}const h3=c3;var NE="@firebase/auth",VE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p3(t){Zo(new $s("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jI(t)},f=new NN(i,r,o,h);return WN(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Zo(new $s("auth-internal",e=>{const n=iu(e.getProvider("auth").getImmediate());return(i=>new d3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(NE,VE,f3(t)),nr(NE,VE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=300,g3=NS("authIdTokenMaxAge")||m3;let LE=null;const y3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>g3)return;const r=n?.token;LE!==r&&(LE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function v3(t=cv()){const e=Zf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HN(t,{popupRedirectResolver:h3,persistence:[TV,cV,QI]}),i=NS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=y3(o.toString());aV(n,l,()=>l(n.currentUser)),oV(n,u=>l(u))}}const r=DS("auth");return r&&qN(n,`http://${r}`),n}function _3(){return document.getElementsByTagName("head")?.[0]??document}VN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=ar("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",_3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p3("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="firebasestorage.googleapis.com",w3="storageBucket",E3=120*1e3,T3=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends gr{constructor(e,n,i=0){super(_g(e),`Firebase Storage: ${n} (${_g(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pr||(pr={}));function _g(t){return"storage/"+t}function x3(){const t="An unknown error occurred, please check the error payload for server response.";return new yr(pr.UNKNOWN,t)}function S3(){return new yr(pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function b3(){return new yr(pr.CANCELED,"User canceled the upload/download.")}function I3(t){return new yr(pr.INVALID_URL,"Invalid URL '"+t+"'.")}function P3(t){return new yr(pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function FE(t){return new yr(pr.INVALID_ARGUMENT,t)}function iP(){return new yr(pr.APP_DELETED,"The Firebase app was deleted.")}function C3(t){return new yr(pr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Oi.makeFromUrl(e,n)}catch{return new Oi(e,"")}if(i.path==="")return i;throw P3(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(W){W.path_=decodeURIComponent(W.path)}const m="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${m}/b/${r}/o${w}`,"i"),S={bucket:1,path:3},C=n===nP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",A=new RegExp(`^https?://${C}/${r}/${b}`,"i"),U=[{regex:u,indices:h,postModify:o},{regex:T,indices:S,postModify:f},{regex:A,indices:{bucket:1,path:2},postModify:f}];for(let W=0;W<U.length;W++){const Q=U[W],Z=Q.regex.exec(e);if(Z){const D=Z[Q.indices.bucket];let P=Z[Q.indices.path];P||(P=""),i=new Oi(D,P),Q.postModify(i);break}}if(i==null)throw I3(e);return i}}class k3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e,n){let i=1,r=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...b){f||(f=!0,e.apply(null,b))}function y(b){r=setTimeout(()=>{r=null,t(T,h())},b)}function w(){o&&clearTimeout(o)}function T(b,...A){if(f){w();return}if(b){w(),m.call(null,b,...A);return}if(h()||l){w(),m.call(null,b,...A);return}i<64&&(i*=2);let U;u===1?(u=2,U=0):U=(i+Math.random())*1e3,y(U)}let S=!1;function C(b){S||(S=!0,w(),!f&&(r!==null?(b||(u=2),clearTimeout(r),y(0)):b||(u=1)))}return y(0),o=setTimeout(()=>{l=!0,C(!0)},n),C}function A3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){return t!==void 0}function jE(t,e,n,i){if(i<e)throw FE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw FE(`Invalid value for '${t}'. Expected ${n} or less.`)}function M3(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Mf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mf||(Mf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,i,r,o,l,u,h,f,m,y,w=!0,T=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,C)=>{this.resolve_=S,this.reject_=C,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Md(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Mf.NO_ERROR,h=o.getStatus();if(!u||O3(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Mf.ABORT;i(!1,new Md(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Md(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());D3(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=x3();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(r.canceled){const h=this.appDelete_?iP():b3();l(h)}else{const h=S3();l(h)}};this.canceled_?n(!1,new Md(!1,null,!0)):this.backoffId_=R3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Md{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function V3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function j3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function z3(t,e,n,i,r,o,l=!0,u=!1){const h=M3(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return F3(m,e),V3(m,n),L3(m,o),j3(m,i),new N3(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this._service=e,n instanceof Oi?this._location=n:this._location=Oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Of(e,n)}get root(){const e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B3(this._location.path)}get storage(){return this._service}get parent(){const e=U3(this._location.path);if(e===null)return null;const n=new Oi(this._location.bucket,e);return new Of(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw C3(e)}}function zE(t,e){const n=e?.[w3];return n==null?null:Oi.makeFromBucketSpec(n,t)}function $3(t,e,n,i={}){t.host=`${e}:${n}`;const r=la(e);r&&(ov(`https://${t.host}/b`),av("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:VS(o,t.app.options.projectId))}class H3{constructor(e,n,i,r,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=nP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=E3,this._maxUploadRetryTime=T3,this._requests=new Set,r!=null?this._bucket=Oi.makeFromBucketSpec(r,this._host):this._bucket=zE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=zE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Of(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new k3(iP());{const l=z3(e,this._appId,i,r,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const UE="@firebase/storage",BE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="storage";function W3(t=cv(),e){t=xn(t);const i=Zf(t,rP).getImmediate({identifier:e}),r=MS("storage");return r&&q3(i,...r),i}function q3(t,e,n,i={}){$3(t,e,n,i)}function G3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new H3(n,i,r,e,ua)}function K3(){Zo(new $s(rP,G3,"PUBLIC").setMultipleInstances(!0)),nr(UE,BE,""),nr(UE,BE,"esm2020")}K3();const Jv=V.createContext({});function Zv(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const vp=V.createContext(null),e_=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Q3 extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y3({children:t,isPresent:e}){const n=V.useId(),i=V.useRef(null),r=V.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=V.useContext(e_);return V.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:f}=r.current;if(e||!i.current||!l||!u)return;i.current.dataset.motionPopId=n;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),R.jsx(Q3,{isPresent:e,childRef:i,sizeRef:r,children:V.cloneElement(t,{ref:i})})}const X3=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:l})=>{const u=Zv(J3),h=V.useId(),f=V.useCallback(y=>{u.set(y,!0);for(const w of u.values())if(!w)return;i&&i()},[u,i]),m=V.useMemo(()=>({id:h,initial:e,isPresent:n,custom:r,onExitComplete:f,register:y=>(u.set(y,!1),()=>u.delete(y))}),o?[Math.random(),f]:[n,f]);return V.useMemo(()=>{u.forEach((y,w)=>u.set(w,!1))},[n]),V.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),l==="popLayout"&&(t=R.jsx(Y3,{isPresent:n,children:t})),R.jsx(vp.Provider,{value:m,children:t})};function J3(){return new Map}function sP(t=!0){const e=V.useContext(vp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,o=V.useId();V.useEffect(()=>{t&&r(o)},[t]);const l=V.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,l]:[!0]}const Od=t=>t.key||"";function $E(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const t_=typeof window<"u",oP=t_?V.useLayoutEffect:V.useEffect,n_=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1})=>{const[u,h]=sP(l),f=V.useMemo(()=>$E(t),[t]),m=l&&!u?[]:f.map(Od),y=V.useRef(!0),w=V.useRef(f),T=Zv(()=>new Map),[S,C]=V.useState(f),[b,A]=V.useState(f);oP(()=>{y.current=!1,w.current=f;for(let W=0;W<b.length;W++){const Q=Od(b[W]);m.includes(Q)?T.delete(Q):T.get(Q)!==!0&&T.set(Q,!1)}},[b,m.length,m.join("-")]);const j=[];if(f!==S){let W=[...f];for(let Q=0;Q<b.length;Q++){const Z=b[Q],D=Od(Z);m.includes(D)||(W.splice(Q,0,Z),j.push(Z))}o==="wait"&&j.length&&(W=j),A($E(W)),C(f);return}const{forceRender:U}=V.useContext(Jv);return R.jsx(R.Fragment,{children:b.map(W=>{const Q=Od(W),Z=l&&!u?!1:f===b||m.includes(Q),D=()=>{if(T.has(Q))T.set(Q,!0);else return;let P=!0;T.forEach(k=>{k||(P=!1)}),P&&(U?.(),A(w.current),l&&h?.(),i&&i())};return R.jsx(X3,{isPresent:Z,initial:!y.current||n?void 0:!1,custom:Z?void 0:e,presenceAffectsLayout:r,mode:o,onExitComplete:Z?void 0:D,children:W},Q)})})},$n=t=>t;let aP=$n;function i_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Hr=t=>t*1e3,Wr=t=>t/1e3,Z3={useManualTiming:!1};function eL(t){let e=new Set,n=new Set,i=!1,r=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),t()),f(l)}const h={schedule:(f,m=!1,y=!1)=>{const T=y&&i?e:n;return m&&o.add(f),T.has(f)||T.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(u),e.clear(),i=!1,r&&(r=!1,h.process(f))}};return h}const Nd=["read","resolveKeyframes","update","preRender","render","postRender"],tL=40;function lP(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Nd.reduce((A,j)=>(A[j]=eL(o),A),{}),{read:u,resolveKeyframes:h,update:f,preRender:m,render:y,postRender:w}=l,T=()=>{const A=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(A-r.timestamp,tL),1),r.timestamp=A,r.isProcessing=!0,u.process(r),h.process(r),f.process(r),m.process(r),y.process(r),w.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(T))},S=()=>{n=!0,i=!0,r.isProcessing||t(T)};return{schedule:Nd.reduce((A,j)=>{const U=l[j];return A[j]=(W,Q=!1,Z=!1)=>(n||S(),U.schedule(W,Q,Z)),A},{}),cancel:A=>{for(let j=0;j<Nd.length;j++)l[Nd[j]].cancel(A)},state:r,steps:l}}const{schedule:st,cancel:Ys,state:Qt,steps:wg}=lP(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0),r_=V.createContext({strict:!1}),HE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$l={};for(const t in HE)$l[t]={isEnabled:e=>HE[t].some(n=>!!e[n])};function by(t){for(const e in t)$l[e]={...$l[e],...t[e]}}function nL({children:t,features:e,strict:n=!1}){const[,i]=V.useState(!Eg(e)),r=V.useRef(void 0);if(!Eg(e)){const{renderer:o,...l}=e;r.current=o,by(l)}return V.useEffect(()=>{Eg(e)&&e().then(({renderer:o,...l})=>{by(l),r.current=o,i(!0)})},[]),R.jsx(r_.Provider,{value:{renderer:r.current,strict:n},children:t})}function Eg(t){return typeof t=="function"}const iL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iL.has(t)}let uP=t=>!Nf(t);function rL(t){t&&(uP=e=>e.startsWith("on")?!Nf(e):t(e))}try{rL(require("@emotion/is-prop-valid").default)}catch{}function sL(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(uP(r)||n===!0&&Nf(r)||!e&&!Nf(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function oL(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const _p=V.createContext({});function Lc(t){return typeof t=="string"||Array.isArray(t)}function wp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const s_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o_=["initial",...s_];function Ep(t){return wp(t.animate)||o_.some(e=>Lc(t[e]))}function cP(t){return!!(Ep(t)||t.variants)}function aL(t,e){if(Ep(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Lc(n)?n:void 0,animate:Lc(i)?i:void 0}}return t.inherit!==!1?e:{}}function lL(t){const{initial:e,animate:n}=aL(t,V.useContext(_p));return V.useMemo(()=>({initial:e,animate:n}),[WE(e),WE(n)])}function WE(t){return Array.isArray(t)?t.join(" "):t}const uL=Symbol.for("motionComponentSymbol");function yl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cL(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):yl(n)&&(n.current=i))},[e])}const a_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hL="framerAppearId",hP="data-"+a_(hL),{schedule:l_}=lP(queueMicrotask,!1),dP=V.createContext({});function dL(t,e,n,i,r){var o,l;const{visualElement:u}=V.useContext(_p),h=V.useContext(r_),f=V.useContext(vp),m=V.useContext(e_).reducedMotion,y=V.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const w=y.current,T=V.useContext(dP);w&&!w.projection&&r&&(w.type==="html"||w.type==="svg")&&fL(y.current,n,r,T);const S=V.useRef(!1);V.useInsertionEffect(()=>{w&&S.current&&w.update(n,f)});const C=n[hP],b=V.useRef(!!C&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,C))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,C)));return oP(()=>{w&&(S.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),l_.render(w.render),b.current&&w.animationState&&w.animationState.animateChanges())}),V.useEffect(()=>{w&&(!b.current&&w.animationState&&w.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,C)}),b.current=!1))}),w}function fL(t,e,n,i){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fP(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&yl(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function fP(t){if(t)return t.options.allowProjection!==!1?t.projection:fP(t.parent)}function pL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var o,l;t&&by(t);function u(f,m){let y;const w={...V.useContext(e_),...f,layoutId:mL(f)},{isStatic:T}=w,S=lL(f),C=i(f,T);if(!T&&t_){gL();const b=yL(w);y=b.MeasureLayout,S.visualElement=dL(r,C,w,e,b.ProjectionNode)}return R.jsxs(_p.Provider,{value:S,children:[y&&S.visualElement?R.jsx(y,{visualElement:S.visualElement,...w}):null,n(r,f,cL(C,S.visualElement,m),C,T,S.visualElement)]})}u.displayName=`motion.${typeof r=="string"?r:`create(${(l=(o=r.displayName)!==null&&o!==void 0?o:r.name)!==null&&l!==void 0?l:""})`}`;const h=V.forwardRef(u);return h[uL]=r,h}function mL({layoutId:t}){const e=V.useContext(Jv).id;return e&&t!==void 0?e+"-"+t:t}function gL(t,e){V.useContext(r_).strict}function yL(t){const{drag:e,layout:n}=$l;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const vL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u_(t){return typeof t!="string"||t.includes("-")?!1:!!(vL.indexOf(t)>-1||/[A-Z]/u.test(t))}function qE(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function c_(t,e,n,i){if(typeof e=="function"){const[r,o]=qE(i);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=qE(i);e=e(n!==void 0?n:t.custom,r,o)}return e}const Iy=t=>Array.isArray(t),_L=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),wL=t=>Iy(t)?t[t.length-1]||0:t,cn=t=>!!(t&&t.getVelocity);function af(t){const e=cn(t)?t.get():t;return _L(e)?e.toValue():e}function EL({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,o){const l={latestValues:TL(i,r,o,t),renderState:e()};return n&&(l.onMount=u=>n({props:i,current:u,...l}),l.onUpdate=u=>n(u)),l}const pP=t=>(e,n)=>{const i=V.useContext(_p),r=V.useContext(vp),o=()=>EL(t,e,i,r);return n?o():Zv(o)};function TL(t,e,n,i){const r={},o=i(t,{});for(const w in o)r[w]=af(o[w]);let{initial:l,animate:u}=t;const h=Ep(t),f=cP(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!wp(y)){const w=Array.isArray(y)?y:[y];for(let T=0;T<w.length;T++){const S=c_(t,w[T]);if(S){const{transitionEnd:C,transition:b,...A}=S;for(const j in A){let U=A[j];if(Array.isArray(U)){const W=m?U.length-1:0;U=U[W]}U!==null&&(r[j]=U)}for(const j in C)r[j]=C[j]}}}return r}const su=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ma=new Set(su),mP=t=>e=>typeof e=="string"&&e.startsWith(t),gP=mP("--"),xL=mP("var(--"),h_=t=>xL(t)?SL.test(t.split("/*")[0].trim()):!1,SL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Zr=(t,e,n)=>n>e?e:n<t?t:n,ou={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fc={...ou,transform:t=>Zr(0,1,t)},Vd={...ou,default:1},sh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ps=sh("deg"),ur=sh("%"),Te=sh("px"),bL=sh("vh"),IL=sh("vw"),GE={...ur,parse:t=>ur.parse(t)/100,transform:t=>ur.transform(t*100)},PL={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},CL={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:Vd,scaleX:Vd,scaleY:Vd,scaleZ:Vd,skew:Ps,skewX:Ps,skewY:Ps,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Fc,originX:GE,originY:GE,originZ:Te},KE={...ou,transform:Math.round},d_={...PL,...CL,zIndex:KE,size:Te,fillOpacity:Fc,strokeOpacity:Fc,numOctaves:KE},kL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RL=su.length;function AL(t,e,n){let i="",r=!0;for(let o=0;o<RL;o++){const l=su[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=yP(u,d_[l]);if(!h){r=!1;const m=kL[l]||l;i+=`${m}(${f}) `}n&&(e[l]=f)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function f_(t,e,n){const{style:i,vars:r,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const f=e[h];if(ma.has(h)){l=!0;continue}else if(gP(h)){r[h]=f;continue}else{const m=yP(f,d_[h]);h.startsWith("origin")?(u=!0,o[h]=m):i[h]=m}}if(e.transform||(l||n?i.transform=AL(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${f} ${m}`}}const DL={offset:"stroke-dashoffset",array:"stroke-dasharray"},ML={offset:"strokeDashoffset",array:"strokeDasharray"};function OL(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?DL:ML;t[o.offset]=Te.transform(-i);const l=Te.transform(e),u=Te.transform(n);t[o.array]=`${l} ${u}`}function QE(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function NL(t,e,n){const i=QE(e,t.x,t.width),r=QE(n,t.y,t.height);return`${i} ${r}`}function p_(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},m,y){if(f_(t,f,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:T,dimensions:S}=t;w.transform&&(S&&(T.transform=w.transform),delete w.transform),S&&(r!==void 0||o!==void 0||T.transform)&&(T.transformOrigin=NL(S,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),l!==void 0&&OL(w,l,u,h,!1)}const m_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),vP=()=>({...m_(),attrs:{}}),g_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _P(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const wP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EP(t,e,n,i){_P(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(wP.has(r)?r:a_(r),e.attrs[r])}const Vf={};function VL(t){Object.assign(Vf,t)}function TP(t,{layout:e,layoutId:n}){return ma.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vf[t]||t==="opacity")}function y_(t,e,n){var i;const{style:r}=t,o={};for(const l in r)(cn(r[l])||e.style&&cn(e.style[l])||TP(l,t)||((i=n?.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[l]=r[l]);return o}function xP(t,e,n){const i=y_(t,e,n);for(const r in t)if(cn(t[r])||cn(e[r])){const o=su.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=t[r]}return i}function LL(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const YE=["x","y","width","height","cx","cy","r"],FL={useVisualState:pP({scrapeMotionValuesFromProps:xP,createRenderState:vP,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let o=!!t.drag;if(!o){for(const u in r)if(ma.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<YE.length;u++){const h=YE[u];t[h]!==e[h]&&(l=!0)}l&&st.read(()=>{LL(n,i),st.render(()=>{p_(i,r,g_(n.tagName),t.transformTemplate),EP(n,i)})})}})},jL={useVisualState:pP({scrapeMotionValuesFromProps:y_,createRenderState:m_})};function SP(t,e,n){for(const i in e)!cn(e[i])&&!TP(i,n)&&(t[i]=e[i])}function zL({transformTemplate:t},e){return V.useMemo(()=>{const n=m_();return f_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function UL(t,e){const n=t.style||{},i={};return SP(i,n,t),Object.assign(i,zL(t,e)),i}function BL(t,e){const n={},i=UL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function $L(t,e,n,i){const r=V.useMemo(()=>{const o=vP();return p_(o,e,g_(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};SP(o,t.style,t),r.style={...o,...r.style}}return r}function HL(t=!1){return(n,i,r,{latestValues:o},l)=>{const h=(u_(n)?$L:BL)(i,o,l,n),f=sL(i,typeof n=="string",t),m=n!==V.Fragment?{...f,...h,ref:r}:{},{children:y}=i,w=V.useMemo(()=>cn(y)?y.get():y,[y]);return V.createElement(n,{...m,children:w})}}function WL(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const l={...u_(i)?FL:jL,preloadedFeatures:t,useRender:HL(r),createVisualElement:e,Component:i};return pL(l)}}function bP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Tp(t,e,n){const i=t.getProps();return c_(i,e,n!==void 0?n:i.custom,t)}const qL=i_(()=>window.ScrollTimeline!==void 0);class GL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(qL()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class KL extends GL{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function v_(t,e){return t?t[e]||t.default||t:void 0}const Py=2e4;function IP(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Py;)e+=n,i=t.next(e);return e>=Py?1/0:e}function __(t){return typeof t=="function"}function XE(t,e){t.timeline=e,t.onfinish=null}const w_=t=>Array.isArray(t)&&typeof t[0]=="number",QL={linearEasing:void 0};function YL(t,e){const n=i_(t);return()=>{var i;return(i=QL[e])!==null&&i!==void 0?i:n()}}const Lf=YL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),PP=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)i+=t(Bl(0,r-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function CP(t){return!!(typeof t=="function"&&Lf()||!t||typeof t=="string"&&(t in Cy||Lf())||w_(t)||Array.isArray(t)&&t.every(CP))}const hc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Cy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hc([0,.65,.55,1]),circOut:hc([.55,0,1,.45]),backIn:hc([.31,.01,.66,-.59]),backOut:hc([.33,1.53,.69,.99])};function kP(t,e){if(t)return typeof t=="function"&&Lf()?PP(t,e):w_(t)?hc(t):Array.isArray(t)?t.map(n=>kP(n,e)||Cy.easeOut):Cy[t]}const Ci={x:!1,y:!1};function RP(){return Ci.x||Ci.y}function AP(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const o=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function DP(t,e){const n=AP(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function JE(t){return e=>{e.pointerType==="touch"||RP()||t(e)}}function XL(t,e,n={}){const[i,r,o]=DP(t,n),l=JE(u=>{const{target:h}=u,f=e(u);if(typeof f!="function"||!h)return;const m=JE(y=>{f(y),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,r)});return i.forEach(u=>{u.addEventListener("pointerenter",l,r)}),o}const MP=(t,e)=>e?t===e?!0:MP(t,e.parentElement):!1,E_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZL(t){return JL.has(t.tagName)||t.tabIndex!==-1}const dc=new WeakSet;function ZE(t){return e=>{e.key==="Enter"&&t(e)}}function Tg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const e6=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=ZE(()=>{if(dc.has(n))return;Tg(n,"down");const r=ZE(()=>{Tg(n,"up")}),o=()=>Tg(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function eT(t){return E_(t)&&!RP()}function t6(t,e,n={}){const[i,r,o]=DP(t,n),l=u=>{const h=u.currentTarget;if(!eT(u)||dc.has(h))return;dc.add(h);const f=e(u),m=(T,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),!(!eT(T)||!dc.has(h))&&(dc.delete(h),typeof f=="function"&&f(T,{success:S}))},y=T=>{m(T,n.useGlobalTarget||MP(h,T.target))},w=T=>{m(T,!1)};window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",w,r)};return i.forEach(u=>{!ZL(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),u.addEventListener("focus",f=>e6(f,r),r)}),o}function n6(t){return t==="x"||t==="y"?Ci[t]?null:(Ci[t]=!0,()=>{Ci[t]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}const OP=new Set(["width","height","top","left","right","bottom",...su]);let lf;function i6(){lf=void 0}const cr={now:()=>(lf===void 0&&cr.set(Qt.isProcessing||Z3.useManualTiming?Qt.timestamp:performance.now()),lf),set:t=>{lf=t,queueMicrotask(i6)}};function T_(t,e){t.indexOf(e)===-1&&t.push(e)}function x_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class S_{constructor(){this.subscriptions=[]}add(e){return T_(this.subscriptions,e),()=>x_(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function NP(t,e){return e?t*(1e3/e):0}const tT=30,r6=t=>!isNaN(parseFloat(t));class s6{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=cr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=r6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new S_);const i=this.events[e].add(n);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tT);return NP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jc(t,e){return new s6(t,e)}function o6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jc(n))}function a6(t,e){const n=Tp(t,e);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const l in o){const u=wL(o[l]);o6(t,l,u)}}function l6(t){return!!(cn(t)&&t.add)}function ky(t,e){const n=t.getValue("willChange");if(l6(n))return n.add(e)}function VP(t){return t.props[hP]}const LP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,u6=1e-7,c6=12;function h6(t,e,n,i,r){let o,l,u=0;do l=e+(n-e)/2,o=LP(l,i,r)-t,o>0?n=l:e=l;while(Math.abs(o)>u6&&++u<c6);return l}function oh(t,e,n,i){if(t===e&&n===i)return $n;const r=o=>h6(o,0,1,t,n);return o=>o===0||o===1?o:LP(r(o),e,i)}const FP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jP=t=>e=>1-t(1-e),zP=oh(.33,1.53,.69,.99),b_=jP(zP),UP=FP(b_),BP=t=>(t*=2)<1?.5*b_(t):.5*(2-Math.pow(2,-10*(t-1))),I_=t=>1-Math.sin(Math.acos(t)),$P=jP(I_),HP=FP(I_),WP=t=>/^0[^.\s]+$/u.test(t);function d6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WP(t):!0}const Ec=t=>Math.round(t*1e5)/1e5,P_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function f6(t){return t==null}const p6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,C_=(t,e)=>n=>!!(typeof n=="string"&&p6.test(n)&&n.startsWith(t)||e&&!f6(n)&&Object.prototype.hasOwnProperty.call(n,e)),qP=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,o,l,u]=i.match(P_);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},m6=t=>Zr(0,255,t),xg={...ou,transform:t=>Math.round(m6(t))},Ho={test:C_("rgb","red"),parse:qP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+xg.transform(t)+", "+xg.transform(e)+", "+xg.transform(n)+", "+Ec(Fc.transform(i))+")"};function g6(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Ry={test:C_("#"),parse:g6,transform:Ho.transform},vl={test:C_("hsl","hue"),parse:qP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ur.transform(Ec(e))+", "+ur.transform(Ec(n))+", "+Ec(Fc.transform(i))+")"},on={test:t=>Ho.test(t)||Ry.test(t)||vl.test(t),parse:t=>Ho.test(t)?Ho.parse(t):vl.test(t)?vl.parse(t):Ry.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ho.transform(t):vl.transform(t)},y6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function v6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(P_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(y6))===null||n===void 0?void 0:n.length)||0)>0}const GP="number",KP="color",_6="var",w6="var(",nT="${}",E6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const u=e.replace(E6,h=>(on.test(h)?(i.color.push(o),r.push(KP),n.push(on.parse(h))):h.startsWith(w6)?(i.var.push(o),r.push(_6),n.push(h)):(i.number.push(o),r.push(GP),n.push(parseFloat(h))),++o,nT)).split(nT);return{values:n,split:u,indexes:i,types:r}}function QP(t){return zc(t).values}function YP(t){const{split:e,types:n}=zc(t),i=e.length;return r=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],r[l]!==void 0){const u=n[l];u===GP?o+=Ec(r[l]):u===KP?o+=on.transform(r[l]):o+=r[l]}return o}}const T6=t=>typeof t=="number"?0:t;function x6(t){const e=QP(t);return YP(t)(e.map(T6))}const Xs={test:v6,parse:QP,createTransformer:YP,getAnimatableNone:x6},S6=new Set(["brightness","contrast","saturate","opacity"]);function b6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(P_)||[];if(!i)return t;const r=n.replace(i,"");let o=S6.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const I6=/\b([a-z-]*)\(.*?\)/gu,Ay={...Xs,getAnimatableNone:t=>{const e=t.match(I6);return e?e.map(b6).join(" "):t}},P6={...d_,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:Ay,WebkitFilter:Ay},k_=t=>P6[t];function XP(t,e){let n=k_(t);return n!==Ay&&(n=Xs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const C6=new Set(["auto","none","0"]);function k6(t,e,n){let i=0,r;for(;i<t.length&&!r;){const o=t[i];typeof o=="string"&&!C6.has(o)&&zc(o).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=XP(n,r)}const iT=t=>t===ou||t===Te,rT=(t,e)=>parseFloat(t.split(", ")[e]),sT=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return rT(r[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?rT(o[1],t):0}},R6=new Set(["x","y","z"]),A6=su.filter(t=>!R6.has(t));function D6(t){const e=[];return A6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Hl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sT(4,13),y:sT(5,14)};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const Yo=new Set;let Dy=!1,My=!1;function JP(){if(My){const t=Array.from(Yo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=D6(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,l])=>{var u;(u=i.getValue(o))===null||u===void 0||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}My=!1,Dy=!1,Yo.forEach(t=>t.complete()),Yo.clear()}function ZP(){Yo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(My=!0)})}function M6(){ZP(),JP()}class R_{constructor(e,n,i,r,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yo.add(this),Dy||(Dy=!0,st.read(ZP),st.resolveKeyframes(JP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=r?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&l===void 0&&r.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const eC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),O6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N6(t){const e=O6.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function tC(t,e,n=1){const[i,r]=N6(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return eC(l)?parseFloat(l):l}return h_(r)?tC(r,e,n+1):r}const nC=t=>e=>e.test(t),V6={test:t=>t==="auto",parse:t=>t},iC=[ou,Te,ur,Ps,IL,bL,V6],oT=t=>iC.find(nC(t));class rC extends R_{constructor(e,n,i,r,o){super(e,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),h_(f))){const m=tC(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!OP.has(i)||e.length!==2)return;const[r,o]=e,l=oT(r),u=oT(o);if(l!==u)if(iT(l)&&iT(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)d6(e[r])&&i.push(r);i.length&&k6(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Hl[i](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{n.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const aT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xs.test(t)||t==="0")&&!t.startsWith("url("));function L6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function F6(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=aT(r,e),u=aT(o,e);return!l||!u?!1:L6(t)||(n==="spring"||__(n))&&i}const j6=t=>t!==null;function xp(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(j6),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const z6=40;class sC{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cr.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>z6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&M6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=cr.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:f}=this.options;if(!f&&!F6(e,i,r,o))if(l)this.options.duration=0;else{h&&h(xp(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(t,e,n)=>t+(e-t)*n;function Sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function U6({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,l=0;if(!e)r=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;r=Sg(h,u,t+1/3),o=Sg(h,u,t),l=Sg(h,u,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Ff(t,e){return n=>n>0?e:t}const bg=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},B6=[Ry,Ho,vl],$6=t=>B6.find(e=>e.test(t));function lT(t){const e=$6(t);if(!e)return!1;let n=e.parse(t);return e===vl&&(n=U6(n)),n}const uT=(t,e)=>{const n=lT(t),i=lT(e);if(!n||!i)return Ff(t,e);const r={...n};return o=>(r.red=bg(n.red,i.red,o),r.green=bg(n.green,i.green,o),r.blue=bg(n.blue,i.blue,o),r.alpha=ct(n.alpha,i.alpha,o),Ho.transform(r))},H6=(t,e)=>n=>e(t(n)),ah=(...t)=>t.reduce(H6),Oy=new Set(["none","hidden"]);function W6(t,e){return Oy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function q6(t,e){return n=>ct(t,e,n)}function A_(t){return typeof t=="number"?q6:typeof t=="string"?h_(t)?Ff:on.test(t)?uT:Q6:Array.isArray(t)?oC:typeof t=="object"?on.test(t)?uT:G6:Ff}function oC(t,e){const n=[...t],i=n.length,r=t.map((o,l)=>A_(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)n[l]=r[l](o);return n}}function G6(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=A_(t[r])(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function K6(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][r[l]],h=(n=t.values[u])!==null&&n!==void 0?n:0;i[o]=h,r[l]++}return i}const Q6=(t,e)=>{const n=Xs.createTransformer(e),i=zc(t),r=zc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Oy.has(t)&&!r.values.length||Oy.has(e)&&!i.values.length?W6(t,e):ah(oC(K6(i,r),r.values),n):Ff(t,e)};function aC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):A_(t)(t,e)}const Y6=5;function lC(t,e,n){const i=Math.max(e-Y6,0);return NP(n-t(i),e-i)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ig=.001;function X6({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:i=gt.mass}){let r,o,l=1-e;l=Zr(gt.minDamping,gt.maxDamping,l),t=Zr(gt.minDuration,gt.maxDuration,Wr(t)),l<1?(r=f=>{const m=f*l,y=m*t,w=m-n,T=Ny(f,l),S=Math.exp(-y);return Ig-w/T*S},o=f=>{const y=f*l*t,w=y*n+n,T=Math.pow(l,2)*Math.pow(f,2)*t,S=Math.exp(-y),C=Ny(Math.pow(f,2),l);return(-r(f)+Ig>0?-1:1)*((w-T)*S)/C}):(r=f=>{const m=Math.exp(-f*t),y=(f-n)*t+1;return-Ig+m*y},o=f=>{const m=Math.exp(-f*t),y=(n-f)*(t*t);return m*y});const u=5/t,h=Z6(r,o,u);if(t=Hr(t),isNaN(h))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:t}}}const J6=12;function Z6(t,e,n){let i=n;for(let r=1;r<J6;r++)i=i-t(i)/e(i);return i}function Ny(t,e){return t*Math.sqrt(1-e*e)}const e5=["duration","bounce"],t5=["stiffness","damping","mass"];function cT(t,e){return e.some(n=>t[n]!==void 0)}function n5(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!cT(t,t5)&&cT(t,e5))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*Zr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:gt.mass,stiffness:r,damping:o}}else{const n=X6(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function uC(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:y,velocity:w,isResolvedFromDuration:T}=n5({...n,velocity:-Wr(n.velocity||0)}),S=w||0,C=f/(2*Math.sqrt(h*m)),b=l-o,A=Wr(Math.sqrt(h/m)),j=Math.abs(b)<5;i||(i=j?gt.restSpeed.granular:gt.restSpeed.default),r||(r=j?gt.restDelta.granular:gt.restDelta.default);let U;if(C<1){const Q=Ny(A,C);U=Z=>{const D=Math.exp(-C*A*Z);return l-D*((S+C*A*b)/Q*Math.sin(Q*Z)+b*Math.cos(Q*Z))}}else if(C===1)U=Q=>l-Math.exp(-A*Q)*(b+(S+A*b)*Q);else{const Q=A*Math.sqrt(C*C-1);U=Z=>{const D=Math.exp(-C*A*Z),P=Math.min(Q*Z,300);return l-D*((S+C*A*b)*Math.sinh(P)+Q*b*Math.cosh(P))/Q}}const W={calculatedDuration:T&&y||null,next:Q=>{const Z=U(Q);if(T)u.done=Q>=y;else{let D=0;C<1&&(D=Q===0?Hr(S):lC(U,Q,Z));const P=Math.abs(D)<=i,k=Math.abs(l-Z)<=r;u.done=P&&k}return u.value=u.done?l:Z,u},toString:()=>{const Q=Math.min(IP(W),Py),Z=PP(D=>W.next(Q*D).value,Q,30);return Q+"ms "+Z}};return W}function hT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const y=t[0],w={done:!1,value:y},T=P=>u!==void 0&&P<u||h!==void 0&&P>h,S=P=>u===void 0?h:h===void 0||Math.abs(u-P)<Math.abs(h-P)?u:h;let C=n*e;const b=y+C,A=l===void 0?b:l(b);A!==b&&(C=A-y);const j=P=>-C*Math.exp(-P/i),U=P=>A+j(P),W=P=>{const k=j(P),N=U(P);w.done=Math.abs(k)<=f,w.value=w.done?A:N};let Q,Z;const D=P=>{T(w.value)&&(Q=P,Z=uC({keyframes:[w.value,S(w.value)],velocity:lC(U,P,w.value),damping:r,stiffness:o,restDelta:f,restSpeed:m}))};return D(0),{calculatedDuration:null,next:P=>{let k=!1;return!Z&&Q===void 0&&(k=!0,W(P),D(P)),Q!==void 0&&P>=Q?Z.next(P-Q):(!k&&W(P),w)}}}const i5=oh(.42,0,1,1),r5=oh(0,0,.58,1),cC=oh(.42,0,.58,1),s5=t=>Array.isArray(t)&&typeof t[0]!="number",o5={linear:$n,easeIn:i5,easeInOut:cC,easeOut:r5,circIn:I_,circInOut:HP,circOut:$P,backIn:b_,backInOut:UP,backOut:zP,anticipate:BP},dT=t=>{if(w_(t)){aP(t.length===4);const[e,n,i,r]=t;return oh(e,n,i,r)}else if(typeof t=="string")return o5[t];return t};function a5(t,e,n){const i=[],r=n||aC,o=t.length-1;for(let l=0;l<o;l++){let u=r(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||$n:e;u=ah(h,u)}i.push(u)}return i}function l5(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(aP(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=a5(e,i,r),h=u.length,f=m=>{if(l&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const w=Bl(t[y],t[y+1],m);return u[y](w)};return n?m=>f(Zr(t[0],t[o-1],m)):f}function u5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Bl(0,e,i);t.push(ct(n,1,r))}}function c5(t){const e=[0];return u5(e,t.length-1),e}function h5(t,e){return t.map(n=>n*e)}function d5(t,e){return t.map(()=>e||cC).splice(0,t.length-1)}function jf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=s5(i)?i.map(dT):dT(i),o={done:!1,value:e[0]},l=h5(n&&n.length===e.length?n:c5(e),t),u=l5(l,e,{ease:Array.isArray(r)?r:d5(e,r)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const f5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>Ys(e),now:()=>Qt.isProcessing?Qt.timestamp:cr.now()}},p5={decay:hT,inertia:hT,tween:jf,keyframes:jf,spring:uC},m5=t=>t/100;class D_ extends sC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:i,element:r,keyframes:o}=this.options,l=r?.KeyframeResolver||R_,u=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,u,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=this.options,u=__(n)?n:p5[n]||jf;let h,f;u!==jf&&typeof e[0]!="number"&&(h=ah(m5,aC(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});o==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=IP(m));const{calculatedDuration:y}=m,w=y+r,T=w*(i+1)-r;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:w,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:f,totalDuration:m,resolvedDuration:y}=i;if(this.startTime===null)return o.next(0);const{delay:w,repeat:T,repeatType:S,repeatDelay:C,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const A=this.currentTime-w*(this.speed>=0?1:-1),j=this.speed>=0?A<0:A>m;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let U=this.currentTime,W=o;if(T){const P=Math.min(this.currentTime,m)/y;let k=Math.floor(P),N=P%1;!N&&P>=1&&(N=1),N===1&&k--,k=Math.min(k,T+1),!!(k%2)&&(S==="reverse"?(N=1-N,C&&(N-=C/y)):S==="mirror"&&(W=l)),U=Zr(0,1,N)*y}const Q=j?{done:!1,value:h[0]}:W.next(U);u&&(Q.value=u(Q.value));let{done:Z}=Q;!j&&f!==null&&(Z=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return D&&r!==void 0&&(Q.value=xp(h,this.options,r)),b&&b(Q.value),D&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?Wr(e.calculatedDuration):0}get time(){return Wr(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=f5,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const g5=new Set(["opacity","clipPath","filter","transform"]);function y5(t,e,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const f={[e]:n};h&&(f.offset=h);const m=kP(u,r);return Array.isArray(m)&&(f.easing=m),t.animate(f,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const v5=i_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zf=10,_5=2e4;function w5(t){return __(t.type)||t.type==="spring"||!CP(t.ease)}function E5(t,e){const n=new D_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let o=0;for(;!i.done&&o<_5;)i=n.sample(o),r.push(i.value),o+=zf;return{times:void 0,keyframes:r,duration:o-zf,ease:"linear"}}const hC={anticipate:BP,backInOut:UP,circInOut:HP};function T5(t){return t in hC}class fT extends sC{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:o}=this.options;this.resolver=new rC(o,(l,u)=>this.onKeyframesResolved(l,u),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:o,type:l,motionValue:u,name:h,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Lf()&&T5(o)&&(o=hC[o]),w5(this.options)){const{onComplete:y,onUpdate:w,motionValue:T,element:S,...C}=this.options,b=E5(e,C);e=b.keyframes,e.length===1&&(e[1]=e[0]),i=b.duration,r=b.times,o=b.ease,l="keyframes"}const m=y5(u.owner.current,h,e,{...this.options,duration:i,times:r,ease:o});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(XE(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set(xp(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:r,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Wr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Wr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Hr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return $n;const{animation:i}=n;XE(i,e)}return $n}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:o,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:y,element:w,...T}=this.options,S=new D_({...T,keyframes:i,duration:r,type:o,ease:l,times:u,isGenerator:!0}),C=Hr(this.time);f.setWithVelocity(S.sample(C-zf).value,S.sample(C).value,zf)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:l,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return v5()&&i&&g5.has(i)&&!h&&!f&&!r&&o!=="mirror"&&l!==0&&u!=="inertia"}}const x5={type:"spring",stiffness:500,damping:25,restSpeed:10},S5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),b5={type:"keyframes",duration:.8},I5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P5=(t,{keyframes:e})=>e.length>2?b5:ma.has(t)?t.startsWith("scale")?S5(e[1]):x5:I5;function C5({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const M_=(t,e,n,i={},r,o)=>l=>{const u=v_(i,t)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Hr(h);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:r};C5(u)||(m={...m,...P5(t,m)}),m.duration&&(m.duration=Hr(m.duration)),m.repeatDelay&&(m.repeatDelay=Hr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),y&&!o&&e.get()!==void 0){const w=xp(m.keyframes,u);if(w!==void 0)return st.update(()=>{m.onUpdate(w),m.onComplete()}),new KL([])}return!o&&fT.supports(m)?new fT(m):new D_(m)};function k5({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function dC(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const f=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const y in h){const w=t.getValue(y,(o=t.latestValues[y])!==null&&o!==void 0?o:null),T=h[y];if(T===void 0||m&&k5(m,y))continue;const S={delay:n,...v_(l||{},y)};let C=!1;if(window.MotionHandoffAnimation){const A=VP(t);if(A){const j=window.MotionHandoffAnimation(A,y,st);j!==null&&(S.startTime=j,C=!0)}}ky(t,y),w.start(M_(y,w,T,t.shouldReduceMotion&&OP.has(y)?{type:!1}:S,t,C));const b=w.animation;b&&f.push(b)}return u&&Promise.all(f).then(()=>{st.update(()=>{u&&a6(t,u)})}),f}function Vy(t,e,n={}){var i;const r=Tp(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const l=r?()=>Promise.all(dC(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:w}=o;return R5(t,e,m+f,y,w,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,m]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function R5(t,e,n=0,i=0,r=1,o){const l=[],u=(t.variantChildren.size-1)*i,h=r===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(t.variantChildren).sort(A5).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(Vy(f,e,{...o,delay:n+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function A5(t,e){return t.sortNodePosition(e)}function D5(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>Vy(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=Vy(t,e,n);else{const r=typeof e=="function"?Tp(t,e,n.custom):e;i=Promise.all(dC(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const M5=o_.length;function fC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<M5;n++){const i=o_[n],r=t.props[i];(Lc(r)||r===!1)&&(e[i]=r)}return e}const O5=[...s_].reverse(),N5=s_.length;function V5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>D5(t,n,i)))}function L5(t){let e=V5(t),n=pT(),i=!0;const r=h=>(f,m)=>{var y;const w=Tp(t,m,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(w){const{transition:T,transitionEnd:S,...C}=w;f={...f,...C,...S}}return f};function o(h){e=h(t)}function l(h){const{props:f}=t,m=fC(t.parent)||{},y=[],w=new Set;let T={},S=1/0;for(let b=0;b<N5;b++){const A=O5[b],j=n[A],U=f[A]!==void 0?f[A]:m[A],W=Lc(U),Q=A===h?j.isActive:null;Q===!1&&(S=b);let Z=U===m[A]&&U!==f[A]&&W;if(Z&&i&&t.manuallyAnimateOnMount&&(Z=!1),j.protectedKeys={...T},!j.isActive&&Q===null||!U&&!j.prevProp||wp(U)||typeof U=="boolean")continue;const D=F5(j.prevProp,U);let P=D||A===h&&j.isActive&&!Z&&W||b>S&&W,k=!1;const N=Array.isArray(U)?U:[U];let F=N.reduce(r(A),{});Q===!1&&(F={});const{prevResolvedValues:$={}}=j,O={...$,...F},Ue=be=>{P=!0,w.has(be)&&(k=!0,w.delete(be)),j.needsAnimating[be]=!0;const se=t.getValue(be);se&&(se.liveStyle=!1)};for(const be in O){const se=F[be],ge=$[be];if(T.hasOwnProperty(be))continue;let ne=!1;Iy(se)&&Iy(ge)?ne=!bP(se,ge):ne=se!==ge,ne?se!=null?Ue(be):w.add(be):se!==void 0&&w.has(be)?Ue(be):j.protectedKeys[be]=!0}j.prevProp=U,j.prevResolvedValues=F,j.isActive&&(T={...T,...F}),i&&t.blockInitialAnimation&&(P=!1),P&&(!(Z&&D)||k)&&y.push(...N.map(be=>({animation:be,options:{type:A}})))}if(w.size){const b={};w.forEach(A=>{const j=t.getBaseTarget(A),U=t.getValue(A);U&&(U.liveStyle=!0),b[A]=j??null}),y.push({animation:b})}let C=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(y):Promise.resolve()}function u(h,f){var m;if(n[h].isActive===f)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(w=>{var T;return(T=w.animationState)===null||T===void 0?void 0:T.setActive(h,f)}),n[h].isActive=f;const y=l(h);for(const w in n)n[w].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=pT(),i=!0}}}function F5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bP(e,t):!1}function Mo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pT(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}class j5 extends to{constructor(e){super(e),e.animationState||(e.animationState=L5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let z5=0;class U5 extends to{constructor(){super(...arguments),this.id=z5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pC={animation:{Feature:j5},exit:{Feature:U5}};function Uc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function lh(t){return{point:{x:t.pageX,y:t.pageY}}}const B5=t=>e=>E_(e)&&t(e,lh(e));function Tc(t,e,n,i){return Uc(t,e,B5(n),i)}const mT=(t,e)=>Math.abs(t-e);function $5(t,e){const n=mT(t.x,e.x),i=mT(t.y,e.y);return Math.sqrt(n**2+i**2)}class mC{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Cg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=$5(y.offset,{x:0,y:0})>=3;if(!w&&!T)return;const{point:S}=y,{timestamp:C}=Qt;this.history.push({...S,timestamp:C});const{onStart:b,onMove:A}=this.handlers;w||(b&&b(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Pg(w,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Cg(y.type==="pointercancel"?this.lastMoveEventInfo:Pg(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,b),S&&S(y,b)},!E_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const l=lh(e),u=Pg(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=Qt;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Cg(u,this.history)),this.removeListeners=ah(Tc(this.contextWindow,"pointermove",this.handlePointerMove),Tc(this.contextWindow,"pointerup",this.handlePointerUp),Tc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function Pg(t,e){return e?{point:e(t.point)}:t}function gT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cg({point:t},e){return{point:t,delta:gT(t,gC(e)),offset:gT(t,H5(e)),velocity:W5(e,.1)}}function H5(t){return t[0]}function gC(t){return t[t.length-1]}function W5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=gC(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Hr(e)));)n--;if(!i)return{x:0,y:0};const o=Wr(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const yC=1e-4,q5=1-yC,G5=1+yC,vC=.01,K5=0-vC,Q5=0+vC;function Wn(t){return t.max-t.min}function Y5(t,e,n){return Math.abs(t-e)<=n}function yT(t,e,n,i=.5){t.origin=i,t.originPoint=ct(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=q5&&t.scale<=G5||isNaN(t.scale))&&(t.scale=1),(t.translate>=K5&&t.translate<=Q5||isNaN(t.translate))&&(t.translate=0)}function xc(t,e,n,i){yT(t.x,e.x,n.x,i?i.originX:void 0),yT(t.y,e.y,n.y,i?i.originY:void 0)}function vT(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function X5(t,e,n){vT(t.x,e.x,n.x),vT(t.y,e.y,n.y)}function _T(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function Sc(t,e,n){_T(t.x,e.x,n.x),_T(t.y,e.y,n.y)}function J5(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ct(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ct(n,t,i.max):Math.min(t,n)),t}function wT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Z5(t,{top:e,left:n,bottom:i,right:r}){return{x:wT(t.x,n,r),y:wT(t.y,e,i)}}function ET(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function e9(t,e){return{x:ET(t.x,e.x),y:ET(t.y,e.y)}}function t9(t,e){let n=.5;const i=Wn(t),r=Wn(e);return r>i?n=Bl(e.min,e.max-i,t.min):i>r&&(n=Bl(t.min,t.max-r,e.min)),Zr(0,1,n)}function n9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ly=.35;function i9(t=Ly){return t===!1?t=0:t===!0&&(t=Ly),{x:TT(t,"left","right"),y:TT(t,"top","bottom")}}function TT(t,e,n){return{min:xT(t,e),max:xT(t,n)}}function xT(t,e){return typeof t=="number"?t:t[e]||0}const ST=()=>({translate:0,scale:1,origin:0,originPoint:0}),_l=()=>({x:ST(),y:ST()}),bT=()=>({min:0,max:0}),wt=()=>({x:bT(),y:bT()});function oi(t){return[t("x"),t("y")]}function _C({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function r9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function s9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function kg(t){return t===void 0||t===1}function Fy({scale:t,scaleX:e,scaleY:n}){return!kg(t)||!kg(e)||!kg(n)}function zo(t){return Fy(t)||wC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wC(t){return IT(t.x)||IT(t.y)}function IT(t){return t&&t!=="0%"}function Uf(t,e,n){const i=t-n,r=e*i;return n+r}function PT(t,e,n,i,r){return r!==void 0&&(t=Uf(t,r,i)),Uf(t,n,i)+e}function jy(t,e=0,n=1,i,r){t.min=PT(t.min,e,n,i,r),t.max=PT(t.max,e,n,i,r)}function EC(t,{x:e,y:n}){jy(t.x,e.translate,e.scale,e.originPoint),jy(t.y,n.translate,n.scale,n.originPoint)}const CT=.999999999999,kT=1.0000000000001;function o9(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,l;for(let u=0;u<r;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&El(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,EC(t,l)),i&&zo(o.latestValues)&&El(t,o.latestValues))}e.x<kT&&e.x>CT&&(e.x=1),e.y<kT&&e.y>CT&&(e.y=1)}function wl(t,e){t.min=t.min+e,t.max=t.max+e}function RT(t,e,n,i,r=.5){const o=ct(t.min,t.max,r);jy(t,e,n,o,i)}function El(t,e){RT(t.x,e.x,e.scaleX,e.scale,e.originX),RT(t.y,e.y,e.scaleY,e.scale,e.originY)}function TC(t,e){return _C(s9(t.getBoundingClientRect(),e))}function a9(t,e,n){const i=TC(t,n),{scroll:r}=e;return r&&(wl(i.x,r.offset.x),wl(i.y,r.offset.y)),i}const xC=({current:t})=>t?t.ownerDocument.defaultView:null,l9=new WeakMap;class u9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lh(m).point)},o=(m,y)=>{const{drag:w,dragPropagation:T,onDragStart:S}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=n6(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oi(b=>{let A=this.getAxisMotionValue(b).get()||0;if(ur.test(A)){const{projection:j}=this.visualElement;if(j&&j.layout){const U=j.layout.layoutBox[b];U&&(A=Wn(U)*(parseFloat(A)/100))}}this.originPoint[b]=A}),S&&st.postRender(()=>S(m,y)),ky(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:S,onDrag:C}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:b}=y;if(T&&this.currentDirection===null){this.currentDirection=c9(b),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,b),this.updateAxis("y",y.point,b),this.visualElement.render(),C&&C(m,y)},u=(m,y)=>this.stop(m,y),h=()=>oi(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new mC(e,{onSessionStart:r,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:xC(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&st.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Ld(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=J5(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&yl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=Z5(r.layoutBox,n):this.constraints=!1,this.elastic=i9(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&oi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=n9(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=a9(i,r.root,this.visualElement.getTransformPagePoint());let l=e9(r.layout.layoutBox,o);if(n){const u=n(r9(l));this.hasMutatedConstraints=!!u,u&&(l=_C(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=oi(m=>{if(!Ld(m,n,this.currentDirection))return;let y=h&&h[m]||{};l&&(y={min:0,max:0});const w=r?200:1e6,T=r?40:1e7,S={type:"inertia",velocity:i?e[m]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,S)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ky(this.visualElement,e),i.start(M_(e,i,0,n,this.visualElement,!1))}stopAnimation(){oi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){oi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){oi(n=>{const{drag:i}=this.getProps();if(!Ld(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[n];o.set(e[n]-ct(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!yl(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};oi(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();r[l]=t9({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),oi(l=>{if(!Ld(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(ct(h,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;l9.set(this.visualElement,this);const e=this.visualElement.current,n=Tc(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();yl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),st.read(i);const l=Uc(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(oi(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=Ly,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Ld(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function c9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class h9 extends to{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new u9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const AT=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class d9 extends to{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new mC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:AT(e),onStart:AT(n),onMove:i,onEnd:(o,l)=>{delete this.session,r&&st.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=Tc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ic={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=DT(t,e.target.x),i=DT(t,e.target.y);return`${n}% ${i}%`}},f9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Xs.parse(t);if(r.length>5)return i;const o=Xs.createTransformer(t),l=typeof r[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;r[0+l]/=u,r[1+l]/=h;const f=ct(u,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}};class p9 extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;VL(m9),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,l=i.projection;return l&&(l.isPresent=o,r||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||st.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SC(t){const[e,n]=sP(),i=V.useContext(Jv);return R.jsx(p9,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(dP),isPresent:e,safeToRemove:n})}const m9={borderRadius:{...ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ic,borderTopRightRadius:ic,borderBottomLeftRadius:ic,borderBottomRightRadius:ic,boxShadow:f9};function g9(t,e,n){const i=cn(t)?t:jc(t);return i.start(M_("",i,e,n)),i.animation}function y9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const v9=(t,e)=>t.depth-e.depth;class _9{constructor(){this.children=[],this.isDirty=!1}add(e){T_(this.children,e),this.isDirty=!0}remove(e){x_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(v9),this.isDirty=!1,this.children.forEach(e)}}function w9(t,e){const n=cr.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(Ys(i),t(o-e))};return st.read(i,!0),()=>Ys(i)}const bC=["TopLeft","TopRight","BottomLeft","BottomRight"],E9=bC.length,MT=t=>typeof t=="string"?parseFloat(t):t,OT=t=>typeof t=="number"||Te.test(t);function T9(t,e,n,i,r,o){r?(t.opacity=ct(0,n.opacity!==void 0?n.opacity:1,x9(i)),t.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,S9(i))):o&&(t.opacity=ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<E9;l++){const u=`border${bC[l]}Radius`;let h=NT(e,u),f=NT(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||OT(h)===OT(f)?(t[u]=Math.max(ct(MT(h),MT(f),i),0),(ur.test(f)||ur.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,i))}function NT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const x9=IC(0,.5,$P),S9=IC(.5,.95,$n);function IC(t,e,n){return i=>i<t?0:i>e?1:n(Bl(t,e,i))}function VT(t,e){t.min=e.min,t.max=e.max}function ri(t,e){VT(t.x,e.x),VT(t.y,e.y)}function LT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function FT(t,e,n,i,r){return t-=e,t=Uf(t,1/n,i),r!==void 0&&(t=Uf(t,1/r,i)),t}function b9(t,e=0,n=1,i=.5,r,o=t,l=t){if(ur.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ct(o.min,o.max,i);t===o&&(u-=e),t.min=FT(t.min,e,n,u,r),t.max=FT(t.max,e,n,u,r)}function jT(t,e,[n,i,r],o,l){b9(t,e[n],e[i],e[r],e.scale,o,l)}const I9=["x","scaleX","originX"],P9=["y","scaleY","originY"];function zT(t,e,n,i){jT(t.x,e,I9,n?n.x:void 0,i?i.x:void 0),jT(t.y,e,P9,n?n.y:void 0,i?i.y:void 0)}function UT(t){return t.translate===0&&t.scale===1}function PC(t){return UT(t.x)&&UT(t.y)}function BT(t,e){return t.min===e.min&&t.max===e.max}function C9(t,e){return BT(t.x,e.x)&&BT(t.y,e.y)}function $T(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CC(t,e){return $T(t.x,e.x)&&$T(t.y,e.y)}function HT(t){return Wn(t.x)/Wn(t.y)}function WT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class k9{constructor(){this.members=[]}add(e){T_(this.members,e),e.scheduleRender()}remove(e){if(x_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R9(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((r||o||l)&&(i=`translate3d(${r}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:w,skewX:T,skewY:S}=n;f&&(i=`perspective(${f}px) ${i}`),m&&(i+=`rotate(${m}deg) `),y&&(i+=`rotateX(${y}deg) `),w&&(i+=`rotateY(${w}deg) `),T&&(i+=`skewX(${T}deg) `),S&&(i+=`skewY(${S}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Uo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fc=typeof window<"u"&&window.MotionDebug!==void 0,Rg=["","X","Y","Z"],A9={visibility:"hidden"},qT=1e3;let D9=0;function Ag(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function kC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=VP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(r||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&kC(i)}function RC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=e?.()){this.id=D9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fc&&(Uo.totalNodes=Uo.resolvedTargetDeltas=Uo.recalculatedProjection=0),this.nodes.forEach(N9),this.nodes.forEach(z9),this.nodes.forEach(U9),this.nodes.forEach(V9),fc&&window.MotionDebug.record(Uo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new _9)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new S_),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=y9(l),this.instance=l;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),t){let y;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=w9(w,250),uf.hasAnimatedSinceResize&&(uf.hasAnimatedSinceResize=!1,this.nodes.forEach(KT))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||q9,{onLayoutAnimationStart:b,onLayoutAnimationComplete:A}=m.getProps(),j=!this.targetLayout||!CC(this.targetLayout,S)||T,U=!w&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||w&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,U);const W={...v_(C,"layout"),onPlay:b,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else w||KT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B9),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GT);return}this.isUpdating||this.nodes.forEach(F9),this.isUpdating=!1,this.nodes.forEach(j9),this.nodes.forEach(M9),this.nodes.forEach(O9),this.clearAllSnapshots();const u=cr.now();Qt.delta=Zr(0,1e3/60,u-Qt.timestamp),Qt.timestamp=u,Qt.isProcessing=!0,wg.update.process(Qt),wg.preRender.process(Qt),wg.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L9),this.sharedNodes.forEach($9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!PC(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(u||zo(this.latestValues)||m)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),G9(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return wt();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(K9))){const{scroll:m}=this.root;m&&(wl(h.x,m.offset.x),wl(h.y,m.offset.y))}return h}removeElementScroll(l){var u;const h=wt();if(ri(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:w}=m;m!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&ri(h,l),wl(h.x,y.offset.x),wl(h.y,y.offset.y))}return h}applyTransform(l,u=!1){const h=wt();ri(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&El(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),zo(m.latestValues)&&El(h,m.latestValues)}return zo(this.latestValues)&&El(h,this.latestValues),h}removeTransform(l){const u=wt();ri(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!zo(f.latestValues))continue;Fy(f.latestValues)&&f.updateSnapshot();const m=wt(),y=f.measurePageBox();ri(m,y),zT(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return zo(this.latestValues)&&zT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=Qt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Sc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),EC(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Sc(this.relativeTargetOrigin,this.target,T.target),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fc&&Uo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fy(this.parent.latestValues)||wC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;ri(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;o9(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=wt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LT(this.prevProjectionDelta.x,this.projectionDelta.x),LT(this.prevProjectionDelta.y,this.projectionDelta.y)),xc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!WT(this.projectionDelta.x,this.prevProjectionDelta.x)||!WT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),fc&&Uo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_l(),this.projectionDelta=_l(),this.projectionDeltaWithTransform=_l()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},y=_l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=wt(),T=h?h.source:void 0,S=this.layout?this.layout.source:void 0,C=T!==S,b=this.getStack(),A=!b||b.members.length<=1,j=!!(C&&!A&&this.options.crossfade===!0&&!this.path.some(W9));this.animationProgress=0;let U;this.mixTargetDelta=W=>{const Q=W/1e3;QT(y.x,l.x,Q),QT(y.y,l.y,Q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H9(this.relativeTarget,this.relativeTargetOrigin,w,Q),U&&C9(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=wt()),ri(U,this.relativeTarget)),C&&(this.animationValues=m,T9(m,f,this.latestValues,Q,j,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{uf.hasAnimatedSinceResize=!0,this.currentAnimation=g9(0,qT,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&AC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||wt();const y=Wn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const w=Wn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}ri(u,h),El(u,m),xc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new k9),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Ag("z",l,f,this.animationValues);for(let m=0;m<Rg.length;m++)Ag(`rotate${Rg[m]}`,l,f,this.animationValues),Ag(`skew${Rg[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return A9;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=af(l?.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=af(l?.pointerEvents)||""),this.hasProjected&&!zo(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=R9(this.projectionDeltaWithTransform,this.treeScale,w),m&&(f.transform=m(w,f.transform));const{x:T,y:S}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,y.animationValues?f.opacity=y===this?(h=(u=w.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:f.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const C in Vf){if(w[C]===void 0)continue;const{correct:b,applyTo:A}=Vf[C],j=f.transform==="none"?w[C]:b(w[C],y);if(A){const U=A.length;for(let W=0;W<U;W++)f[A[W]]=j}else f[C]=j}return this.options.layoutId&&(f.pointerEvents=y===this?af(l?.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(GT),this.root.sharedNodes.clear()}}}function M9(t){t.updateLayout()}function O9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?oi(y=>{const w=l?n.measuredBox[y]:n.layoutBox[y],T=Wn(w);w.min=i[y].min,w.max=w.min+T}):AC(o,n.layoutBox,i)&&oi(y=>{const w=l?n.measuredBox[y]:n.layoutBox[y],T=Wn(i[y]);w.max=w.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=_l();xc(u,i,n.layoutBox);const h=_l();l?xc(h,t.applyTransform(r,!0),n.measuredBox):xc(h,i,n.layoutBox);const f=!PC(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:T}=y;if(w&&T){const S=wt();Sc(S,n.layoutBox,w.layoutBox);const C=wt();Sc(C,i,T.layoutBox),CC(S,C)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function N9(t){fc&&Uo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function V9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function L9(t){t.clearSnapshot()}function GT(t){t.clearMeasurements()}function F9(t){t.isLayoutDirty=!1}function j9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function KT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function z9(t){t.resolveTargetDelta()}function U9(t){t.calcProjection()}function B9(t){t.resetSkewAndRotation()}function $9(t){t.removeLeadSnapshot()}function QT(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YT(t,e,n,i){t.min=ct(e.min,n.min,i),t.max=ct(e.max,n.max,i)}function H9(t,e,n,i){YT(t.x,e.x,n.x,i),YT(t.y,e.y,n.y,i)}function W9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const q9={duration:.45,ease:[.4,0,.1,1]},XT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),JT=XT("applewebkit/")&&!XT("chrome/")?Math.round:$n;function ZT(t){t.min=JT(t.min),t.max=JT(t.max)}function G9(t){ZT(t.x),ZT(t.y)}function AC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Y5(HT(e),HT(n),.2)}function K9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Q9=RC({attachResizeListener:(t,e)=>Uc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dg={current:void 0},DC=RC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dg.current){const t=new Q9({});t.mount(window),t.setOptions({layoutScroll:!0}),Dg.current=t}return Dg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Y9={pan:{Feature:d9},drag:{Feature:h9,ProjectionNode:DC,MeasureLayout:SC}};function ex(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&st.postRender(()=>o(e,lh(e)))}class X9 extends to{mount(){const{current:e}=this.node;e&&(this.unmount=XL(e,n=>(ex(this.node,n,"Start"),i=>ex(this.node,i,"End"))))}unmount(){}}class J9 extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ah(Uc(this.node.current,"focus",()=>this.onFocus()),Uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tx(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&st.postRender(()=>o(e,lh(e)))}class Z9 extends to{mount(){const{current:e}=this.node;e&&(this.unmount=t6(e,n=>(tx(this.node,n,"Start"),(i,{success:r})=>tx(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zy=new WeakMap,Mg=new WeakMap,eF=t=>{const e=zy.get(t.target);e&&e(t)},tF=t=>{t.forEach(eF)};function nF({root:t,...e}){const n=t||document;Mg.has(n)||Mg.set(n,{});const i=Mg.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(tF,{root:t,...e})),i[r]}function iF(t,e,n){const i=nF(e);return zy.set(t,n),i.observe(t),()=>{zy.delete(t),i.unobserve(t)}}const rF={some:0,all:1};class sF extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:rF[r]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=f?m:y;w&&w(h)};return iF(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oF(e,n))&&this.startObserver()}unmount(){}}function oF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const MC={inView:{Feature:sF},tap:{Feature:Z9},focus:{Feature:J9},hover:{Feature:X9}},aF={layout:{ProjectionNode:DC,MeasureLayout:SC}},Uy={current:null},OC={current:!1};function lF(){if(OC.current=!0,!!t_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uy.current=t.matches;t.addListener(e),e()}else Uy.current=!1}const uF=[...iC,on,Xs],cF=t=>uF.find(nC(t)),nx=new WeakMap;function hF(t,e,n){for(const i in e){const r=e[i],o=n[i];if(cn(r))t.addValue(i,r);else if(cn(o))t.addValue(i,jc(r,{owner:t}));else if(o!==r)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(i);t.addValue(i,jc(l!==void 0?l:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const ix=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dF{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=R_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=cr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,st.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Ep(n),this.isVariantNode=cP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in w){const S=w[T];h[T]!==void 0&&cn(S)&&S.set(h[T],!1)}}mount(e){this.current=e,nx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),OC.current||lF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Uy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nx.delete(this.current),this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ma.has(e),r=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $l){const n=$l[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ix.length;i++){const r=ix[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=e[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=hF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=jc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(eC(r)||WP(r))?r=parseFloat(r):!cF(r)&&Xs.test(n)&&(r=XP(e,n)),this.setBaseTarget(e,cn(r)?r.get():r)),cn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const l=c_(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(r=l[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!cn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new S_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class NC extends dF{constructor(){super(...arguments),this.KeyframeResolver=rC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fF(t){return window.getComputedStyle(t)}class pF extends NC{constructor(){super(...arguments),this.type="html",this.renderInstance=_P}readValueFromInstance(e,n){if(ma.has(n)){const i=k_(n);return i&&i.default||0}else{const i=fF(e),r=(gP(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TC(e,n)}build(e,n,i){f_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return y_(e,n,i)}}class mF extends NC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ma.has(n)){const i=k_(n);return i&&i.default||0}return n=wP.has(n)?n:a_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return xP(e,n,i)}build(e,n,i){p_(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){EP(e,n,i,r)}mount(e){this.isSVGTag=g_(e.tagName),super.mount(e)}}const VC=(t,e)=>u_(t)?new mF(e):new pF(e,{allowProjection:t!==V.Fragment}),gF=WL({...pC,...MC,...Y9,...aF},VC),Ze=oL(gF),yF={renderer:VC,...pC,...MC},vF={some:0,all:1};function _F(t,e,{root:n,margin:i,amount:r="some"}={}){const o=AP(t),l=new WeakMap,u=f=>{f.forEach(m=>{const y=l.get(m.target);if(m.isIntersecting!==!!y)if(m.isIntersecting){const w=e(m);typeof w=="function"?l.set(m.target,w):h.unobserve(m.target)}else typeof y=="function"&&(y(m),l.delete(m.target))})},h=new IntersectionObserver(u,{root:n,rootMargin:i,threshold:typeof r=="number"?r:vF[r]});return o.forEach(f=>h.observe(f)),()=>h.disconnect()}function LC(t,{root:e,margin:n,amount:i,once:r=!1}={}){const[o,l]=V.useState(!1);return V.useEffect(()=>{if(!t.current||r&&o)return;const u=()=>(l(!0),r?void 0:()=>l(!1)),h={root:e&&e.current||void 0,margin:n,amount:i};return _F(t.current,u,h)},[e,t,n,r,i]),o}class FC extends et.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?R.jsx("div",{className:"bg-slate-100 text-slate-800 min-h-screen flex flex-col justify-center items-center p-6 text-center font-sans",children:R.jsxs("div",{className:"max-w-md mx-auto",children:[R.jsx("div",{className:"mb-8",children:R.jsx("svg",{className:"w-24 h-24 mx-auto text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),R.jsx("h1",{className:"text-4xl font-bold mb-4 text-slate-700",children:"Oops, something went wrong!"}),R.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"An unexpected error has occurred. Please refresh the page or try again later."}),R.jsxs("div",{className:"flex justify-center gap-4",children:[R.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md",children:"Refresh Page"}),R.jsx("a",{href:"/",className:"bg-slate-200 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-300 transition-colors",children:"Go to Home"})]})]})}):this.props.children}}const wF=et.memo(()=>R.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[R.jsx("div",{className:"absolute top-1/2 left-1/2 w-[150vmax] h-[150vmax] bg-radial-gradient-blue animate-spin-pulse-combo"}),R.jsx("div",{className:"absolute top-1/2 left-1/2 w-[120vmax] h-[120vmax] bg-radial-gradient-purple animate-reverse-spin opacity-40"})]})),rx=et.memo(()=>{const t=({delay:e})=>R.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full animate-pulse-bounce",style:{animationDelay:e}});return R.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:R.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[R.jsx(t,{delay:"0s"}),R.jsx(t,{delay:"0.2s"}),R.jsx(t,{delay:"0.4s"})]})})}),EF=({href:t,label:e,children:n,onClick:i})=>R.jsxs("a",{href:t,onClick:i,className:"group relative flex items-center justify-center p-2 rounded-full text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300","aria-label":e,children:[n,R.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-slate-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:e})]}),TF=et.memo(({isMobileMenuOpen:t,toggleMobileMenu:e,closeMobileMenu:n})=>{const i=r=>{r.preventDefault();const o=r.currentTarget.getAttribute("href"),l=document.querySelector(o);n(),l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)};return R.jsxs("header",{className:"bg-white/80 backdrop-blur-md fixed top-0 w-full z-50 border-b border-slate-200/80",children:[R.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[R.jsx(EF,{href:"#home",label:"Home",onClick:i,children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),R.jsxs("div",{className:"hidden md:flex space-x-6 items-center font-medium text-slate-600",children:[R.jsx("a",{href:"#about",onClick:i,className:"hover:text-blue-600 transition-colors",children:"About"}),R.jsx("a",{href:"#experience",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Experience"}),R.jsx("a",{href:"#skills",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Skills"}),R.jsx("a",{href:"#projects",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Projects"}),R.jsx("a",{href:"#contact",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Contact"})]}),R.jsx("div",{className:"md:hidden",children:R.jsx("button",{onClick:e,className:"text-slate-600 focus:outline-none p-1",children:R.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),R.jsx(n_,{children:t&&R.jsxs(Ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-lg px-6 py-4 space-y-3 text-slate-600 font-medium",children:[R.jsx("a",{href:"#about",onClick:i,className:"block py-2 hover:text-blue-600",children:"About"}),R.jsx("a",{href:"#experience",onClick:i,className:"block py-2 hover:text-blue-600",children:"Experience"}),R.jsx("a",{href:"#skills",onClick:i,className:"block py-2 hover:text-blue-600",children:"Skills"}),R.jsx("a",{href:"#projects",onClick:i,className:"block py-2 hover:text-blue-600",children:"Projects"}),R.jsx("a",{href:"#contact",onClick:i,className:"block py-2 hover:text-blue-600",children:"Contact"})]})})]})});function Sp(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(f){try{h(i.next(f))}catch(m){o(m)}}function u(f){try{h(i.throw(f))}catch(m){o(m)}}function h(f){var m;f.done?r(f.value):(m=f.value,m instanceof n?m:new n(function(y){y(m)})).then(l,u)}h((i=i.apply(t,[])).next())})}function Us(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(f){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&m[0]?i.return:m[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,m[1])).done)return r;switch(i=0,r&&(m=[2&m[0],r.value]),m[0]){case 0:case 1:r=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,i=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!((r=r.length>0&&r[r.length-1])||m[0]!==6&&m[0]!==2)){l=0;continue}if(m[0]===3&&(!r||m[1]>r[0]&&m[1]<r[3])){l.label=m[1];break}if(m[0]===6&&l.label<r[1]){l.label=r[1],r=m;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(m);break}r[2]&&l.ops.pop(),l.trys.pop();continue}m=e.call(t,l)}catch(y){m=[6,y],i=0}finally{n=r=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([h,f])}}}function By(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function er(t,e,n){if(arguments.length===2)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function sx(t,e,n,i,r){for(var o=[],l=5;l<arguments.length;l++)o[l-5]=arguments[l];return Sp(this,void 0,void 0,function(){var u,h,f,m,y,w;return Us(this,function(T){switch(T.label){case 0:T.trys.push([0,12,13,14]),u=By(o),h=u.next(),T.label=1;case 1:if(h.done)return[3,11];switch(f=h.value,typeof f){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,xF(t,e,f,n,i,r)];case 3:return T.sent(),[3,10];case 4:return[4,jC(f)];case 5:return T.sent(),[3,10];case 6:return[4,f.apply(void 0,er([t,e,n,i,r],Ri(o),!1))];case 7:return T.sent(),[3,10];case 8:return[4,f];case 9:T.sent(),T.label=10;case 10:return h=u.next(),[3,1];case 11:return[3,14];case 12:return m=T.sent(),y={error:m},[3,14];case 13:try{h&&!h.done&&(w=u.return)&&w.call(u)}finally{if(y)throw y.error}return[7];case 14:return[2]}})})}function xF(t,e,n,i,r,o){return Sp(this,void 0,void 0,function(){var l,u;return Us(this,function(h){switch(h.label){case 0:return l=t.textContent||"",u=function(f,m){var y=Ri(m).slice(0);return er(er([],Ri(f),!1),[NaN],!1).findIndex(function(w,T){return y[T]!==w})}(l,n),[4,SF(t,er(er([],Ri(IF(l,e,u)),!1),Ri(bF(n,e,u)),!1),i,r,o)];case 1:return h.sent(),[2]}})})}function jC(t){return Sp(this,void 0,void 0,function(){return Us(this,function(e){switch(e.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return e.sent(),[2]}})})}function SF(t,e,n,i,r){return Sp(this,void 0,void 0,function(){var o,l,u,h,f,m,y,w,T,S,C,b,A;return Us(this,function(j){switch(j.label){case 0:if(o=e,r){for(l=0,u=1;u<e.length;u++)if(h=Ri([e[u-1],e[u]],2),f=h[0],(m=h[1]).length>f.length||m===""){l=u;break}o=e.slice(l,e.length)}j.label=1;case 1:j.trys.push([1,6,7,8]),y=By(function(U){var W,Q,Z,D,P,k,N;return Us(this,function(F){switch(F.label){case 0:W=function($){return Us(this,function(O){switch(O.label){case 0:return[4,{op:function(Ue){return requestAnimationFrame(function(){return Ue.textContent=$})},opCode:function(Ue){var yt=Ue.textContent||"";return $===""||yt.length>$.length?"DELETE":"WRITING"}}];case 1:return O.sent(),[2]}})},F.label=1;case 1:F.trys.push([1,6,7,8]),Q=By(U),Z=Q.next(),F.label=2;case 2:return Z.done?[3,5]:(D=Z.value,[5,W(D)]);case 3:F.sent(),F.label=4;case 4:return Z=Q.next(),[3,2];case 5:return[3,8];case 6:return P=F.sent(),k={error:P},[3,8];case 7:try{Z&&!Z.done&&(N=Q.return)&&N.call(Q)}finally{if(k)throw k.error}return[7];case 8:return[2]}})}(o)),w=y.next(),j.label=2;case 2:return w.done?[3,5]:(T=w.value,S=T.opCode(t)==="WRITING"?n+n*(Math.random()-.5):i+i*(Math.random()-.5),T.op(t),[4,jC(S)]);case 3:j.sent(),j.label=4;case 4:return w=y.next(),[3,2];case 5:return[3,8];case 6:return C=j.sent(),b={error:C},[3,8];case 7:try{w&&!w.done&&(A=y.return)&&A.call(y)}finally{if(b)throw b.error}return[7];case 8:return[2]}})})}function bF(t,e,n){var i,r;return n===void 0&&(n=0),Us(this,function(o){switch(o.label){case 0:i=e(t),r=i.length,o.label=1;case 1:return n<r?[4,i.slice(0,++n).join("")]:[3,3];case 2:return o.sent(),[3,1];case 3:return[2]}})}function IF(t,e,n){var i,r;return n===void 0&&(n=0),Us(this,function(o){switch(o.label){case 0:i=e(t),r=i.length,o.label=1;case 1:return r>n?[4,i.slice(0,--r).join("")]:[3,3];case 2:return o.sent(),[3,1];case 3:return[2]}})}var PF="index-module_type__E-SaG";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var CF=V.memo(V.forwardRef(function(t,e){var n=t.sequence,i=t.repeat,r=t.className,o=t.speed,l=o===void 0?40:o,u=t.deletionSpeed,h=t.omitDeletionAnimation,f=h!==void 0&&h,m=t.preRenderFirstString,y=m!==void 0&&m,w=t.wrapper,T=w===void 0?"span":w,S=t.splitter,C=S===void 0?function(ne){return er([],Ri(ne),!1)}:S,b=t.cursor,A=b===void 0||b,j=t.style,U=function(ne,B){var X={};for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&B.indexOf(ue)<0&&(X[ue]=ne[ue]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function"){var Pe=0;for(ue=Object.getOwnPropertySymbols(ne);Pe<ue.length;Pe++)B.indexOf(ue[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ne,ue[Pe])&&(X[ue[Pe]]=ne[ue[Pe]])}return X}(t,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),W=U["aria-label"],Q=U["aria-hidden"],Z=U.role;u||(u=l);var D=new Array(2).fill(40);[l,u].forEach(function(ne,B){switch(typeof ne){case"number":D[B]=Math.abs(ne-100);break;case"object":var X=ne.type,ue=ne.value;if(typeof ue!="number")break;X==="keyStrokeDelayInMs"&&(D[B]=ue)}});var P,k,N,F,$,O,Ue=D[0],yt=D[1],ft=function(ne,B){B===void 0&&(B=null);var X=V.useRef(B);return V.useEffect(function(){ne&&(typeof ne=="function"?ne(X.current):ne.current=X.current)},[ne]),X}(e),be=PF;P=r?"".concat(A?be+" ":"").concat(r):A?be:"",k=V.useRef(function(){var ne,B=n;i===1/0?ne=sx:typeof i=="number"&&(B=Array(1+i).fill(n).flat());var X=ne?er(er([],Ri(B),!1),[ne],!1):er([],Ri(B),!1);return sx.apply(void 0,er([ft.current,C,Ue,yt,f],Ri(X),!1)),function(){ft.current}}),N=V.useRef(),F=V.useRef(!1),$=V.useRef(!1),O=Ri(V.useState(0),2)[1],F.current&&($.current=!0),V.useEffect(function(){return F.current||(N.current=k.current(),F.current=!0),O(function(ne){return ne+1}),function(){$.current&&N.current&&N.current()}},[]);var se=T,ge=y?n.find(function(ne){return typeof ne=="string"})||"":null;return et.createElement(se,{"aria-hidden":Q,"aria-label":W,role:Z,style:j,className:P,children:W?et.createElement("span",{"aria-hidden":"true",ref:ft,children:ge}):ge,ref:W?void 0:ft})}),function(t,e){return!0});const Wo="generated",kF="pointerdown",RF="pointerup",$y="pointerleave",AF="pointerout",ia="pointermove",DF="touchstart",ox="touchend",MF="touchmove",OF="touchcancel",NF="resize",VF="visibilitychange",hi="tsParticles - Error",Os=100,Nt=.5,hn=1e3,ln={x:0,y:0,z:0},Fd={a:1,b:0,c:0,d:1},Wl="random",cf="mid",dn=2,LF=Math.PI*dn,Og=60,zC="true",ax="false",Ng="canvas",lx=0,Fr=2,ux=4,FF=1,cx=1,hx=1,jF=4,UC=1,hf=255,qo=360,Hy=100,Wy=100,dx=0,qy=0,zF=60,UF=0,Bf=.25,fx=Nt+Bf,px=0,BF=1,$F=0,HF=0,WF=1,O_=1,qF=1,mx=1,$f=0,BC=1,GF=0,KF=120,QF=0,YF=0,XF=1e4,JF=0,ZF=1,Hf=0,$C=1,ej=1,tj=0,gx=1,nj=0,ij=0,yx=-Bf,vx=1.5,_x=0,rj=1,sj=0,Gy=0,HC=1,oj=1,Wf=1,aj=500,wx=50,lj=0,Ky=1,WC=0,Ex=1,uj=0,Oo=255,Vg=3,Lg=6,cj=1,hj=1,dj=0,fj=0,pj=0,mj=0;var Yt;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(Yt||(Yt={}));function qC(t){return typeof t=="boolean"}function Js(t){return typeof t=="string"}function Zs(t){return typeof t=="number"}function Tl(t){return typeof t=="object"&&t!==null}function vr(t){return Array.isArray(t)}function le(t){return t==null}class Un{constructor(e,n,i){if(this._updateFromAngle=(r,o)=>{this.x=Math.cos(r)*o,this.y=Math.sin(r)*o},!Zs(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:ln.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??ln.z;else throw new Error(`${hi} Vector3d not initialized correctly`)}static get origin(){return Un.create(ln.x,ln.y,ln.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Un.create(e.x,e.y,e.z)}static create(e,n,i){return new Un(e,n,i)}add(e){return Un.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Un.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Un.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Fr+this.y**Fr}mult(e){return Un.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=Hf&&this.multTo(UC/e)}rotate(e){return Un.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),ln.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:ln.z}sub(e){return Un.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Ht extends Un{constructor(e,n){super(e,n,ln.z)}static get origin(){return Ht.create(ln.x,ln.y)}static clone(e){return Ht.create(e.x,e.y)}static create(e,n){return new Ht(e,n)}}let gj=Math.random;const GC={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)};function Ke(){return di(gj(),0,1-Number.EPSILON)}function yj(t){return GC.nextFrame(t)}function vj(t){GC.cancel(t)}function di(t,e,n){return Math.min(Math.max(t,e),n)}function Fg(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function Bn(t){const e=tr(t),n=0;let i=bp(t);return e===i&&(i=n),Ke()*(e-i)+i}function ve(t){return Zs(t)?t:Bn(t)}function bp(t){return Zs(t)?t:t.min}function tr(t){return Zs(t)?t:t.max}function $e(t,e){if(t===e||e===void 0&&Zs(t))return t;const n=bp(t),i=tr(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:$e(n,i)}function Tn(t,e){const n=t.x-e.x,i=t.y-e.y,r=2;return{dx:n,dy:i,distance:Math.sqrt(n**r+i**r)}}function Hn(t,e){return Tn(t,e).distance}function Bs(t){return t*Math.PI/180}function _j(t,e,n){if(Zs(t))return Bs(t);switch(t){case Yt.top:return-Math.PI*Nt;case Yt.topRight:return-Math.PI*Bf;case Yt.right:return UF;case Yt.bottomRight:return Math.PI*Bf;case Yt.bottom:return Math.PI*Nt;case Yt.bottomLeft:return Math.PI*fx;case Yt.left:return Math.PI;case Yt.topLeft:return-Math.PI*fx;case Yt.inside:return Math.atan2(n.y-e.y,n.x-e.x);case Yt.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return Ke()*LF}}function wj(t){const e=Ht.origin;return e.length=1,e.angle=t,e}function Tx(t,e,n,i){return Ht.create(t.x*(n-i)/(n+i)+e.x*dn*i/(n+i),t.y)}function Ej(t){return{x:t.position?.x??Ke()*t.size.width,y:t.position?.y??Ke()*t.size.height}}function KC(t){return t?t.endsWith("%")?parseFloat(t)/Os:parseFloat(t):1}var Go;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(Go||(Go={}));var It;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(It||(It={}));var ra;(function(t){t.none="none",t.max="max",t.min="min"})(ra||(ra={}));var Oe;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(Oe||(Oe={}));var ql;(function(t){t.precise="precise",t.percent="percent"})(ql||(ql={}));var Rl;(function(t){t.max="max",t.min="min",t.random="random"})(Rl||(Rl={}));const Tj={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function sa(){return Tj}function xj(t){const e=new Map;return(...n)=>{const i=JSON.stringify(n);if(e.has(i))return e.get(i);const r=t(...n);return e.set(i,r),r}}function xx(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:o,velocity:l,factor:u}=t;return i.min<o.min||i.min>o.max||i.max<o.min||i.max>o.max||(n.max>=r.min&&n.max<=(r.max+r.min)*Nt&&l>px||n.min<=r.max&&n.min>(r.max+r.min)*Nt&&l<px)&&(e.velocity=l*-u,e.bounced=!0),e}function Sj(t,e){const n=qn(e,i=>t.matches(i));return vr(n)?n.some(i=>i):n}function oa(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function bj(){return!oa()&&typeof matchMedia<"u"}function QC(t){if(bj())return matchMedia(t)}function Ij(t){if(!(oa()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function Pj(t){if(!(oa()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Tt(t,e){return t===e||vr(e)&&e.indexOf(t)>-1}async function Sx(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function Cj(t){return Math.floor(Ke()*t.length)}function Ip(t,e,n=!0){return t[e!==void 0&&n?e%t.length:Cj(t)]}function N_(t,e,n,i,r){return kj(uh(t,i??0),e,n,r)}function kj(t,e,n,i){let r=!0;return(!i||i===Oe.bottom)&&(r=t.top<e.height+n.x),r&&(!i||i===Oe.left)&&(r=t.right>n.x),r&&(!i||i===Oe.right)&&(r=t.left<e.width+n.y),r&&(!i||i===Oe.top)&&(r=t.bottom>n.y),r}function uh(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function mn(t,...e){for(const n of e){if(n==null)continue;if(!Tl(n)){t=n;continue}const i=Array.isArray(n);i&&(Tl(t)||!t||!Array.isArray(t))?t=[]:!i&&(Tl(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const o=n,l=o[r],u=t;u[r]=Tl(l)&&Array.isArray(l)?l.map(h=>mn(u[r],h)):mn(u[r],l)}}return t}function V_(t,e){return!!JC(e,n=>n.enable&&Tt(t,n.mode))}function L_(t,e,n){qn(e,i=>{const r=i.mode;i.enable&&Tt(t,r)&&Rj(i,n)})}function Rj(t,e){const n=t.selectors;qn(n,i=>{e(i,t)})}function YC(t,e){if(!(!e||!t))return JC(t,n=>Sj(e,n.selectors))}function Qy(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:Ht.create(ve(t.options.bounce.horizontal.value),ve(t.options.bounce.vertical.value))}}function XC(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,o]=[t.position,e.position],{dx:l,dy:u}=Tn(o,r);if(n*l+i*u<0)return;const f=-Math.atan2(u,l),m=t.mass,y=e.mass,w=t.velocity.rotate(f),T=e.velocity.rotate(f),S=Tx(w,T,m,y),C=Tx(T,w,m,y),b=S.rotate(-f),A=C.rotate(-f);t.velocity.x=b.x*t.factor.x,t.velocity.y=b.y*t.factor.y,e.velocity.x=A.x*e.factor.x,e.velocity.y=A.y*e.factor.y}function Aj(t,e){const n=t.getPosition(),i=t.getRadius(),r=uh(n,i),o=t.options.bounce,l=xx({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:ve(o.horizontal.value)});l.bounced&&(l.velocity!==void 0&&(t.velocity.x=l.velocity),l.position!==void 0&&(t.position.x=l.position));const u=xx({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:ve(o.vertical.value)});u.bounced&&(u.velocity!==void 0&&(t.velocity.y=u.velocity),u.position!==void 0&&(t.position.y=u.position))}function qn(t,e){return vr(t)?t.map((i,r)=>e(i,r)):e(t,0)}function ci(t,e,n){return vr(t)?Ip(t,e,n):t}function JC(t,e){return vr(t)?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}function ZC(t,e){const n=t.value,i=t.animation,r={delayTime:ve(i.delay)*hn,enable:i.enable,value:ve(t.value)*e,max:tr(n)*e,min:bp(n)*e,loops:0,maxLoops:ve(i.count),time:0},o=1;if(i.enable){switch(r.decay=o-ve(i.decay),i.mode){case Go.increase:r.status=It.increasing;break;case Go.decrease:r.status=It.decreasing;break;case Go.random:r.status=Ke()>=Nt?It.increasing:It.decreasing;break}const l=i.mode===Go.auto;switch(i.startValue){case Rl.min:r.value=r.min,l&&(r.status=It.increasing);break;case Rl.max:r.value=r.max,l&&(r.status=It.decreasing);break;case Rl.random:default:r.value=Bn(r),l&&(r.status=Ke()>=Nt?It.increasing:It.decreasing);break}}return r.initialValue=r.value,r}function Dj(t,e){if(!(t.mode===ql.percent)){const{mode:r,...o}=t;return o}return"x"in t?{x:t.x/Os*e.width,y:t.y/Os*e.height}:{width:t.width/Os*e.width,height:t.height/Os*e.height}}function ek(t,e){return Dj(t,e)}function Mj(t,e,n,i,r){switch(e){case ra.max:n>=r&&t.destroy();break;case ra.min:n<=i&&t.destroy();break}}function F_(t,e,n,i,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const m=(e.velocity??0)*r.factor,y=e.min,w=e.max,T=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case It.increasing:e.value>=w?(n?e.status=It.decreasing:e.value-=w,e.loops||(e.loops=0),e.loops++):e.value+=m;break;case It.decreasing:e.value<=y?(n?e.status=It.increasing:e.value+=w,e.loops||(e.loops=0),e.loops++):e.value-=m}e.velocity&&T!==1&&(e.velocity*=T),Mj(t,i,e.value,y,w),t.destroyed||(e.value=di(e.value,y,w))}}function Oj(t){const e=document.createElement("div").style;if(!t)return e;for(const n in t){const i=t[n];if(!Object.prototype.hasOwnProperty.call(t,n)||le(i))continue;const r=t.getPropertyValue?.(i);if(!r)continue;const o=t.getPropertyPriority?.(i);o?e.setProperty?.(i,r,o):e.setProperty?.(i,r)}return e}function Nj(t){const e=document.createElement("div").style,n=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:t.toString(n),"z-index":t.toString(n),top:"0",left:"0"};for(const r in i){const o=i[r];e.setProperty(r,o)}return e}const Vj=xj(Nj);var Yy;(function(t){t.darken="darken",t.enlighten="enlighten"})(Yy||(Yy={}));function Lj(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function Li(t,e,n,i=!0){if(!e)return;const r=Js(e)?{value:e}:e;if(Js(r.value))return tk(t,r.value,n,i);if(vr(r.value))return Li(t,{value:Ip(r.value,n,i)});for(const o of t.colorManagers.values()){const l=o.handleRangeColor(r);if(l)return l}}function tk(t,e,n,i=!0){if(!e)return;const r=Js(e)?{value:e}:e;if(Js(r.value))return r.value===Wl?ik():Fj(t,r.value);if(vr(r.value))return tk(t,{value:Ip(r.value,n,i)});for(const o of t.colorManagers.values()){const l=o.handleColor(r);if(l)return l}}function Bc(t,e,n,i=!0){const r=Li(t,e,n,i);return r?nk(r):void 0}function nk(t){const e=t.r/hf,n=t.g/hf,i=t.b/hf,r=Math.max(e,n,i),o=Math.min(e,n,i),l={h:dx,l:(r+o)*Nt,s:qy};return r!==o&&(l.s=l.l<Nt?(r-o)/(r+o):(r-o)/(dn-r-o),l.h=e===r?(n-i)/(r-o):l.h=n===r?dn+(i-e)/(r-o):dn*dn+(e-n)/(r-o)),l.l*=Wy,l.s*=Hy,l.h*=zF,l.h<dx&&(l.h+=qo),l.h>=qo&&(l.h-=qo),l}function Fj(t,e){return Lj(t,e)}function Gl(t){const e=(t.h%qo+qo)%qo,n=Math.max(qy,Math.min(Hy,t.s)),i=Math.max(uj,Math.min(Wy,t.l)),r=e/qo,o=n/Hy,l=i/Wy;if(n===qy){const S=Math.round(l*Oo);return{r:S,g:S,b:S}}const u=(S,C,b)=>{if(b<0&&b++,b>1&&b--,b*Lg<1)return S+(C-S)*Lg*b;if(b*dn<1)return C;if(b*Vg<1*dn){const U=dn/Vg;return S+(C-S)*(U-b)*Lg}return S},h=l<Nt?l*(cj+o):l+o-l*o,f=dn*l-h,m=hj/Vg,y=Math.min(Oo,Oo*u(f,h,r+m)),w=Math.min(Oo,Oo*u(f,h,r)),T=Math.min(Oo,Oo*u(f,h,r-m));return{r:Math.round(y),g:Math.round(w),b:Math.round(T)}}function jj(t){const e=Gl(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function ik(t){const e=dj,n=hf+Ky;return{b:Math.floor(Bn($e(e,n))),g:Math.floor(Bn($e(e,n))),r:Math.floor(Bn($e(e,n)))}}function qr(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??O_})`}function $c(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??O_})`}function j_(t,e,n,i){let r=t,o=e;return r.r===void 0&&(r=Gl(t)),o.r===void 0&&(o=Gl(e)),{b:Fg(r.b,o.b,n,i),g:Fg(r.g,o.g,n,i),r:Fg(r.r,o.r,n,i)}}function Xy(t,e,n){if(n===Wl)return ik();if(n===cf){const i=t.getFillColor()??t.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return j_(i,r,t.getRadius(),e.getRadius());{const o=i??r;if(o)return Gl(o)}}else return n}function rk(t,e,n,i){const r=Js(e)?e:e.value;return r===Wl?i?Li(t,{value:r}):n?Wl:cf:r===cf?cf:Li(t,{value:r})}function bx(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function sk(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(jg(i.h,e.h,n),jg(i.s,e.s,n),jg(i.l,e.l,n)),i}function jg(t,e,n){t.enable=e.enable,t.enable?(t.velocity=ve(e.speed)/Os*n,t.decay=$C-ve(e.decay),t.status=It.increasing,t.loops=pj,t.maxLoops=ve(e.count),t.time=mj,t.delayTime=ve(e.delay)*hn,e.sync||(t.velocity*=Ke(),t.value*=Ke()),t.initialValue=t.value,t.offset=$e(e.offset)):t.velocity=fj}function zg(t,e,n,i){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=i.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const m=t.offset?Bn(t.offset):0,y=(t.velocity??0)*i.factor+m*3.6,w=t.decay??1,T=tr(e),S=bp(e);!n||t.status===It.increasing?(t.value+=y,t.value>T&&(t.loops||(t.loops=0),t.loops++,n?t.status=It.decreasing:t.value-=T)):(t.value-=y,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=It.increasing)),t.velocity&&w!==1&&(t.velocity*=w),t.value=di(t.value,S,T)}function ok(t,e){if(!t)return;const{h:n,s:i,l:r}=t,o={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&zg(n,o.h,!1,e),i&&zg(i,o.s,!0,e),r&&zg(r,o.l,!0,e)}function bc(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function zj(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(ln.x,ln.y,e.width,e.height)}function Uj(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,ln.x,ln.y,e.width,e.height),t.globalAlpha=1)}function Ug(t,e){t.clearRect(ln.x,ln.y,e.width,e.height)}function Bj(t){const{container:e,context:n,particle:i,delta:r,colorStyles:o,backgroundMask:l,composite:u,radius:h,opacity:f,shadow:m,transform:y}=t,w=i.getPosition(),T=i.rotation+(i.pathRotation?i.velocity.angle:lj),S={sin:Math.sin(T),cos:Math.cos(T)},C=!!T,b={a:S.cos*(y.a??Fd.a),b:C?S.sin*(y.b??Ky):y.b??Fd.b,c:C?-S.sin*(y.c??Ky):y.c??Fd.c,d:S.cos*(y.d??Fd.d)};n.setTransform(b.a,b.b,b.c,b.d,w.x,w.y),l&&(n.globalCompositeOperation=u);const A=i.shadowColor;m.enable&&A&&(n.shadowBlur=m.blur,n.shadowColor=qr(A),n.shadowOffsetX=m.offset.x,n.shadowOffsetY=m.offset.y),o.fill&&(n.fillStyle=o.fill);const j=i.strokeWidth??WC;n.lineWidth=j,o.stroke&&(n.strokeStyle=o.stroke);const U={container:e,context:n,particle:i,radius:h,opacity:f,delta:r,transformData:b,strokeWidth:j};Hj(U),Wj(U),$j(U),n.globalCompositeOperation="source-over",n.resetTransform()}function $j(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,transformData:u}=t;if(!i.effect)return;const h=e.effectDrawers.get(i.effect);h&&h.draw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...u}})}function Hj(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,strokeWidth:u,transformData:h}=t;if(!i.shape)return;const f=e.shapeDrawers.get(i.shape);f&&(n.beginPath(),f.draw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...h}}),i.shapeClose&&n.closePath(),u>WC&&n.stroke(),i.shapeFill&&n.fill())}function Wj(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,transformData:u}=t;if(!i.shape)return;const h=e.shapeDrawers.get(i.shape);h?.afterDraw&&h.afterDraw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...u}})}function qj(t,e,n){e.draw&&e.draw(t,n)}function Gj(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function Kj(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===Yy.darken?-Ex:Ex)*n}}function Qj(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??BF)*i)}function Ix(t,e,n=!1){if(!e)return;const i=t;if(!i)return;const r=i.style;if(!r)return;const o=new Set;for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&o.add(r[l]);for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&o.add(e[l]);for(const l of o){const u=e.getPropertyValue(l);u?r.setProperty(l,u,n?"important":""):r.removeProperty(l)}}class Yj{constructor(e,n){this.container=e,this._applyPostDrawUpdaters=o=>{for(const l of this._postDrawUpdaters)l.afterDraw?.(o)},this._applyPreDrawUpdaters=(o,l,u,h,f,m)=>{for(const y of this._preDrawUpdaters){if(y.getColorStyles){const{fill:w,stroke:T}=y.getColorStyles(l,o,u,h);w&&(f.fill=w),T&&(f.stroke=T)}if(y.getTransformValues){const w=y.getTransformValues(l);for(const T in w)Qj(m,w,T)}y.beforeDraw?.(l)}},this._applyResizePlugins=()=>{for(const o of this._resizePlugins)o.resize?.()},this._getPluginParticleColors=o=>{let l,u;for(const h of this._colorPlugins)if(!l&&h.particleFillColor&&(l=Bc(this._engine,h.particleFillColor(o))),!u&&h.particleStrokeColor&&(u=Bc(this._engine,h.particleStrokeColor(o))),l&&u)break;return[l,u]},this._initCover=async()=>{const o=this.container.actualOptions,l=o.backgroundMask.cover,u=l.color;if(u){const h=Li(this._engine,u);if(h){const f={...h,a:l.opacity};this._coverColorStyle=qr(f,f.a)}}else await new Promise((h,f)=>{if(!l.image)return;const m=document.createElement("img");m.addEventListener("load",()=>{this._coverImage={image:m,opacity:l.opacity},h()}),m.addEventListener("error",y=>{f(y.error)}),m.src=l.image})},this._initStyle=()=>{const o=this.element,l=this.container.actualOptions;if(o){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const u in l.style){if(!u||!l.style||!Object.prototype.hasOwnProperty.call(l.style,u))continue;const h=l.style[u];h&&o.style.setProperty(u,h,"important")}}},this._initTrail=async()=>{const o=this.container.actualOptions,l=o.particles.move.trail,u=l.fill;if(!l.enable)return;const h=UC/l.length;if(u.color){const f=Li(this._engine,u.color);if(!f)return;this._trailFill={color:{...f},opacity:h}}else await new Promise((f,m)=>{if(!u.image)return;const y=document.createElement("img");y.addEventListener("load",()=>{this._trailFill={image:y,opacity:h},f()}),y.addEventListener("error",w=>{m(w.error)}),y.src=u.image})},this._paintBase=o=>{this.draw(l=>zj(l,this.size,o))},this._paintImage=(o,l)=>{this.draw(u=>Uj(u,this.size,o,l))},this._repairStyle=()=>{const o=this.element;if(!o)return;this._safeMutationObserver(u=>u.disconnect()),this._initStyle(),this.initBackground();const l=this._pointerEvents;o.style.pointerEvents=l,o.setAttribute("pointer-events",l),this._safeMutationObserver(u=>{!o||!(o instanceof Node)||u.observe(o,{attributes:!0})})},this._resetOriginalStyle=()=>{const o=this.element,l=this._originalStyle;!o||!l||Ix(o,l,!0)},this._safeMutationObserver=o=>{this._mutationObserver&&o(this._mutationObserver)},this._setFullScreenStyle=()=>{const o=this.element;o&&Ix(o,Vj(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=n,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>HF&&i?i.color?this._paintBase(qr(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{Ug(r,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=$F)return;const r=e.getFillColor(),o=e.getStrokeColor()??r;let[l,u]=this._getPluginParticleColors(e);l||(l=r),u||(u=o),!(!l&&!u)&&this.draw(h=>{const f=this.container,m=f.actualOptions,y=e.options.zIndex,w=WF-e.zIndexFactor,T=w**y.opacityRate,S=e.bubble.opacity??e.opacity?.value??O_,C=e.strokeOpacity??S,b=S*T,A=C*T,j={},U={fill:l?$c(l,b):void 0};U.stroke=u?$c(u,A):U.fill,this._applyPreDrawUpdaters(h,e,i,b,U,j),Bj({container:f,context:h,particle:e,delta:n,colorStyles:U,backgroundMask:m.backgroundMask.enable,composite:m.backgroundMask.composite,radius:i*w**y.sizeRate,opacity:b,shadow:e.options.shadow,transform:j}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>Gj(r,e,n,i))}drawPlugin(e,n){this.draw(i=>qj(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=Pj(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){sa().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const o=Li(this._engine,n.color);r.backgroundColor=o?qr(o,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Wo in e.dataset?e.dataset[Wo]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Oj(this.element.style);const n=this._standardSize;n.height=e.offsetHeight,n.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=n.height*i,e.width=r.width=n.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(o=>o.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(o=>{!this.element||!(this.element instanceof Node)||o.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Ug(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,o={width:i.width*r,height:i.height*r};if(i.height===n.height&&i.width===n.width&&o.height===this.element.height&&o.width===this.element.width)return!1;const l={...n};n.height=i.height,n.width=i.width;const u=this.size;return this.element.width=u.width=o.width,this.element.height=u.height=o.height,this.container.started&&e.particles.setResizeFactor({width:n.width/l.width,height:n.height/l.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Ug(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var Al;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(Al||(Al={}));function si(t,e,n,i,r){if(i){let o={passive:!0};qC(r)?o.capture=r:r!==void 0&&(o=r),t.addEventListener(e,n,o)}else{const o=r;t.removeEventListener(e,n,o)}}class Xj{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const o=i.interactivity.mouse,l=o.position;if(!l)return;o.clickPosition={...l},o.clickTime=new Date().getTime();const u=r.interactivity.events.onClick;qn(u.mode,h=>this.container.handleClickMode(h))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),aj)},this._handleThemeChange=n=>{const i=n,r=this.container,o=r.options,l=o.defaultThemes,u=i.matches?l.dark:l.light;o.themes.find(f=>f.name===u)?.default.auto&&r.loadTheme(u)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*hn)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,o=this.container,l=o.actualOptions,u=o.interactivity.element;if(!u)return;const h=u,f=o.canvas;f.setPointerEvents(h===f.element?"initial":"none"),(l.interactivity.events.onHover.enable||l.interactivity.events.onClick.enable)&&(si(u,ia,r.mouseMove,i),si(u,DF,r.touchStart,i),si(u,MF,r.touchMove,i),l.interactivity.events.onClick.enable?(si(u,ox,r.touchEndClick,i),si(u,RF,r.mouseUp,i),si(u,kF,r.mouseDown,i)):si(u,ox,r.touchEnd,i),si(u,n,r.mouseLeave,i),si(u,OF,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,o=r.actualOptions,l=o.interactivity.detectsOn,u=r.canvas.element;let h=$y;l===Al.window?(r.interactivity.element=window,h=AF):l===Al.parent&&u?r.interactivity.element=u.parentElement??u.parentNode:r.interactivity.element=u,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(h,n),document&&si(document,VF,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=QC("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){si(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){si(window,NF,i.resize,n);return}const l=r.canvas.element;this._resizeObserver&&!n?(l&&this._resizeObserver.unobserve(l),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&l&&(this._resizeObserver=new ResizeObserver(u=>{u.find(f=>f.target===l)&&this._handleWindowResize()}),this._resizeObserver.observe(l))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:o}=i.interactivity;o.inside=!0;let l=!1;const u=o.position;if(!(!u||!r.interactivity.events.onClick.enable)){for(const h of i.plugins.values())if(h.clickPositionValid&&(l=h.clickPositionValid(u),l))break;l||this._doMouseTouchClick(n),o.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=$y,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,o=i.interactivity,l=i.canvas.element;if(!o?.element)return;o.mouse.inside=!0;let u;if(n.type.startsWith("pointer")){this._canPush=!0;const f=n;if(o.element===window){if(l){const m=l.getBoundingClientRect();u={x:f.clientX-m.left,y:f.clientY-m.top}}}else if(r.interactivity.detectsOn===Al.parent){const m=f.target,y=f.currentTarget;if(m&&y&&l){const w=m.getBoundingClientRect(),T=y.getBoundingClientRect(),S=l.getBoundingClientRect();u={x:f.offsetX+dn*w.left-(T.left+S.left),y:f.offsetY+dn*w.top-(T.top+S.top)}}else u={x:f.offsetX??f.clientX,y:f.offsetY??f.clientY}}else f.target===l&&(u={x:f.offsetX??f.clientX,y:f.offsetY??f.clientY})}else if(this._canPush=n.type!=="touchmove",l){const f=n,m=f.touches[f.touches.length-HC],y=l.getBoundingClientRect();u={x:m.clientX-(y.left??$f),y:m.clientY-(y.top??$f)}}const h=i.retina.pixelRatio;u&&(u.x*=h,u.y*=h),o.mouse.position=u,o.status=ia},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.delete(o.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.delete(o.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.set(o.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var En;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(En||(En={}));class gn{constructor(){this.value=""}static create(e,n){const i=new gn;return i.load(e),n!==void 0&&(Js(n)||vr(n)?i.load({value:n}):i.load(n)),i}load(e){le(e)||le(e.value)||(this.value=e.value)}}class Jj{constructor(){this.color=new gn,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){le(e)||(e.color!==void 0&&(this.color=gn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Zj{constructor(){this.opacity=1}load(e){le(e)||(e.color!==void 0&&(this.color=gn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class ez{constructor(){this.composite="destination-out",this.cover=new Zj,this.enable=!1}load(e){if(!le(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Js(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class tz{constructor(){this.enable=!0,this.zIndex=0}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class nz{constructor(){this.enable=!1,this.mode=[]}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var Kl;(function(t){t.circle="circle",t.rectangle="rectangle"})(Kl||(Kl={}));class Px{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Kl.circle}load(e){le(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class iz{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class rz{constructor(){this.enable=!1,this.mode=[],this.parallax=new iz}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class sz{constructor(){this.delay=.5,this.enable=!0}load(e){le(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class oz{constructor(){this.onClick=new nz,this.onDiv=new Px,this.onHover=new rz,this.resize=new sz}load(e){if(le(e))return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=qn(n,i=>{const r=new Px;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class az{constructor(e,n){this._engine=e,this._container=n}load(e){if(le(e)||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class ak{constructor(e,n){this.detectsOn=Al.window,this.events=new oz,this.modes=new az(e,n)}load(e){if(le(e))return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class lz{load(e){le(e)||(e.position&&(this.position={x:e.position.x??wx,y:e.position.y??wx,mode:e.position.mode??ql.percent}),e.options&&(this.options=mn({},e.options)))}}var Ko;(function(t){t.screen="screen",t.canvas="canvas"})(Ko||(Ko={}));class uz{constructor(){this.maxWidth=1/0,this.options={},this.mode=Ko.canvas}load(e){le(e)||(le(e.maxWidth)||(this.maxWidth=e.maxWidth),le(e.mode)||(e.mode===Ko.screen?this.mode=Ko.screen:this.mode=Ko.canvas),le(e.options)||(this.options=mn({},e.options)))}}var Ds;(function(t){t.any="any",t.dark="dark",t.light="light"})(Ds||(Ds={}));class cz{constructor(){this.auto=!1,this.mode=Ds.any,this.value=!1}load(e){le(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class hz{constructor(){this.name="",this.default=new cz}load(e){le(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=mn({},e.options)))}}class z_{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){le(e)||(e.count!==void 0&&(this.count=$e(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=$e(e.speed)),e.decay!==void 0&&(this.decay=$e(e.decay)),e.delay!==void 0&&(this.delay=$e(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class U_ extends z_{constructor(){super(),this.mode=Go.auto,this.startValue=Rl.random}load(e){super.load(e),!le(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class Bg extends z_{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!le(e)&&e.offset!==void 0&&(this.offset=$e(e.offset))}}class dz{constructor(){this.h=new Bg,this.s=new Bg,this.l=new Bg}load(e){le(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Hc extends gn{constructor(){super(),this.animation=new dz}static create(e,n){const i=new Hc;return i.load(e),n!==void 0&&(Js(n)||vr(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),le(e))return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var Dl;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Dl||(Dl={}));class fz{constructor(){this.speed=2}load(e){le(e)||e.speed!==void 0&&(this.speed=e.speed)}}class pz{constructor(){this.enable=!0,this.retries=0}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class ga{constructor(){this.value=0}load(e){le(e)||le(e.value)||(this.value=$e(e.value))}}class mz extends ga{constructor(){super(),this.animation=new z_}load(e){if(super.load(e),le(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class lk extends mz{constructor(){super(),this.animation=new U_}load(e){super.load(e)}}class Cx extends ga{constructor(){super(),this.value=1}}class uk{constructor(){this.horizontal=new Cx,this.vertical=new Cx}load(e){le(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class gz{constructor(){this.absorb=new fz,this.bounce=new uk,this.enable=!1,this.maxSpeed=50,this.mode=Dl.bounce,this.overlap=new pz}load(e){le(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=$e(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class yz{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(le(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=mn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class vz{constructor(){this.offset=0,this.value=90}load(e){le(e)||(e.offset!==void 0&&(this.offset=$e(e.offset)),e.value!==void 0&&(this.value=$e(e.value)))}}class _z{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!le(e)&&(e.distance!==void 0&&(this.distance=$e(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class wz{constructor(){this.x=50,this.y=50,this.mode=ql.percent,this.radius=0}load(e){le(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class Ez{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){le(e)||(e.acceleration!==void 0&&(this.acceleration=$e(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=$e(e.maxSpeed)))}}class Tz{constructor(){this.clamp=!0,this.delay=new ga,this.enable=!1,this.options={}}load(e){le(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=mn(this.options,e.options)))}}class xz{load(e){le(e)||(e.color!==void 0&&(this.color=gn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Sz{constructor(){this.enable=!1,this.length=10,this.fill=new xz}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Ct;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Ct||(Ct={}));class bz{constructor(){this.default=Ct.out}load(e){le(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class Iz{constructor(){this.acceleration=0,this.enable=!1}load(e){le(e)||(e.acceleration!==void 0&&(this.acceleration=$e(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=mn({},e.position)))}}class Pz{constructor(){this.angle=new vz,this.attract=new _z,this.center=new wz,this.decay=0,this.distance={},this.direction=Yt.none,this.drift=0,this.enable=!1,this.gravity=new Ez,this.path=new Tz,this.outModes=new bz,this.random=!1,this.size=!1,this.speed=2,this.spin=new Iz,this.straight=!1,this.trail=new Sz,this.vibrate=!1,this.warp=!1}load(e){if(le(e))return;this.angle.load(Zs(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=$e(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Zs(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=$e(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(Tl(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=$e(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Cz extends U_{constructor(){super(),this.destroy=ra.none,this.speed=2}load(e){super.load(e),!le(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class kz extends lk{constructor(){super(),this.animation=new Cz,this.value=1}load(e){if(le(e))return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class Rz{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(le(e))return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const i=e.height;i!==void 0&&(this.height=i)}}var Wc;(function(t){t.delete="delete",t.wait="wait"})(Wc||(Wc={}));class Az{constructor(){this.mode=Wc.delete,this.value=0}load(e){le(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Dz{constructor(){this.density=new Rz,this.limit=new Az,this.value=0}load(e){le(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class Mz{constructor(){this.blur=0,this.color=new gn,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){le(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=gn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class Oz{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(le(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=mn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Nz extends U_{constructor(){super(),this.destroy=ra.none,this.speed=5}load(e){super.load(e),!le(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Vz extends lk{constructor(){super(),this.animation=new Nz,this.value=3}load(e){if(super.load(e),le(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class kx{constructor(){this.width=0}load(e){le(e)||(e.color!==void 0&&(this.color=Hc.create(this.color,e.color)),e.width!==void 0&&(this.width=$e(e.width)),e.opacity!==void 0&&(this.opacity=$e(e.opacity)))}}class Lz extends ga{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!le(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Fz{constructor(e,n){this._engine=e,this._container=n,this.bounce=new uk,this.collisions=new gz,this.color=new Hc,this.color.value="#fff",this.effect=new yz,this.groups={},this.move=new Pz,this.number=new Dz,this.opacity=new kz,this.reduceDuplicates=!1,this.shadow=new Mz,this.shape=new Oz,this.size=new Vz,this.stroke=new kx,this.zIndex=new Lz}load(e){if(le(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=mn(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Hc.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=mn({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=qn(n,i=>{const r=new kx;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const o of i)o.loadOptions&&o.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const o of r)o.loadParticlesOptions&&o.loadParticlesOptions(this,e)}}}function ck(t,...e){for(const n of e)t.load(n)}function hk(t,e,...n){const i=new Fz(t,e);return ck(i,...n),i}class jz{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===Ds.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new Jj,this.backgroundMask=new ez,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new tz,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new ak(e,n),this.manualParticles=[],this.particles=hk(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(le(e))return;e.preset!==void 0&&qn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=$e(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=$e(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;qC(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const u=new lz;return u.load(l),u})),this.particles.load(e.particles),this.style=mn(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const o=this._engine.interactors.get(this._container);if(o)for(const l of o)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const u=new uz;u.load(l),this.responsive.push(u)}if(this.responsive.sort((l,u)=>l.maxWidth-u.maxWidth),e.themes!==void 0)for(const l of e.themes){const u=this.themes.find(h=>h.name===l.name);if(u)u.load(l);else{const h=new hz;h.load(l),this.themes.push(h)}}this.defaultThemes.dark=this._findDefaultTheme(Ds.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(Ds.light)?.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(o=>o.mode===Ko.screen&&screen?o.maxWidth>screen.availWidth:o.maxWidth*n>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=QC("(prefers-color-scheme: dark)"),i=n?.matches,r=this._findDefaultTheme(i?Ds.dark:Ds.light);r&&this.load(r.options)}}}var Ql;(function(t){t.external="external",t.particles="particles"})(Ql||(Ql={}));class zz{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case Ql.external:this._externalInteractors.push(e);break;case Ql.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var Fi;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(Fi||(Fi={}));function Uz(t,e,n,i){const r=e.options[t];if(r)return mn({close:e.close,fill:e.fill},ci(r,n,i))}function Bz(t,e,n,i){const r=e.options[t];if(r)return mn({close:e.close,fill:e.fill},ci(r,n,i))}function Rx(t){if(!Tt(t.outMode,t.checkModes))return;const e=t.radius*dn;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class $z{constructor(e,n){this.container=n,this._calcPosition=(i,r,o,l=lx)=>{for(const S of i.plugins.values()){const C=S.particlePosition!==void 0?S.particlePosition(r,this):void 0;if(C)return Un.create(C.x,C.y,o)}const u=i.canvas.size,h=Ej({size:u,position:r}),f=Un.create(h.x,h.y,o),m=this.getRadius(),y=this.options.move.outModes,w=S=>{Rx({outMode:S,checkModes:[Ct.bounce],coord:f.x,maxCoord:i.canvas.size.width,setCb:C=>f.x+=C,radius:m})},T=S=>{Rx({outMode:S,checkModes:[Ct.bounce],coord:f.y,maxCoord:i.canvas.size.height,setCb:C=>f.y+=C,radius:m})};return w(y.left??y.default),w(y.right??y.default),T(y.top??y.default),T(y.bottom??y.default),this._checkOverlap(f,l)?this._calcPosition(i,void 0,o,l+ej):f},this._calculateVelocity=()=>{const i=wj(this.direction),r=i.copy(),o=this.options.move;if(o.direction===Yt.inside||o.direction===Yt.outside)return r;const l=Bs(ve(o.angle.value)),u=Bs(ve(o.angle.offset)),h={left:u-l*Nt,right:u+l*Nt};return o.straight||(r.angle+=Bn($e(h.left,h.right))),o.random&&typeof o.speed=="number"&&(r.length*=Ke()),r},this._checkOverlap=(i,r=lx)=>{const o=this.options.collisions,l=this.getRadius();if(!o.enable)return!1;const u=o.overlap;if(u.enable)return!1;const h=u.retries;if(h>=tj&&r>h)throw new Error(`${hi} particle is overlapping and can't be placed`);return!!this.container.particles.find(f=>Hn(i,f.position)<l+f.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?dn*gx:gx,o=this.roll.horizontal?Math.PI*Nt:Hf;return Math.floor(((this.roll.angle??Hf)+o)/(Math.PI/r))%dn?this.backColor?this.backColor:this.roll.alter?Kj(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,o=ve(this.options.zIndex.value);this.position=this._calcPosition(r,i,di(o,nj,r.zLayers)),this.initialPosition=this.position.copy();const l=r.canvas.size;switch(this.moveCenter={...ek(this.options.move.center,l),radius:this.options.move.center.radius??ij,mode:this.options.move.center.mode??ql.percent},this.direction=_j(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Yt.inside:this.outType=Fi.inside;break;case Yt.outside:this.outType=Fi.outside;break}this.offset=Ht.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;n.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const o of n.plugins.values())o.particleDestroyed?.(this,e);for(const o of n.particles.updaters)o.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(En.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,i=n.canvas;for(const r of n.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??bx(this.color))}getMass(){return this.getRadius()**Fr*Math.PI*Nt}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??bx(this.strokeColor))}init(e,n,i,r){const o=this.container,l=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Fi.normal,this.ignoresResizeRatio=!0;const u=o.retina.pixelRatio,h=o.actualOptions,f=hk(this._engine,o,h.particles),{reduceDuplicates:m}=f,y=f.effect.type,w=f.shape.type;this.effect=ci(y,this.id,m),this.shape=ci(w,this.id,m);const T=f.effect,S=f.shape;if(i){if(i.effect?.type){const D=i.effect.type,P=ci(D,this.id,m);P&&(this.effect=P,T.load(i.effect))}if(i.shape?.type){const D=i.shape.type,P=ci(D,this.id,m);P&&(this.shape=P,S.load(i.shape))}}if(this.effect===Wl){const D=[...this.container.effectDrawers.keys()];this.effect=D[Math.floor(Ke()*D.length)]}if(this.shape===Wl){const D=[...this.container.shapeDrawers.keys()];this.shape=D[Math.floor(Ke()*D.length)]}this.effectData=Uz(this.effect,T,this.id,m),this.shapeData=Bz(this.shape,S,this.id,m),f.load(i);const C=this.effectData;C&&f.load(C.particles);const b=this.shapeData;b&&f.load(b.particles);const A=new ak(l,o);A.load(o.actualOptions.interactivity),A.load(f.interactivity),this.interactivity=A,this.effectFill=C?.fill??f.effect.fill,this.effectClose=C?.close??f.effect.close,this.shapeFill=b?.fill??f.shape.fill,this.shapeClose=b?.close??f.shape.close,this.options=f;const j=this.options.move.path;this.pathDelay=ve(j.delay.value)*hn,j.generator&&(this.pathGenerator=this._engine.getPathGenerator(j.generator),this.pathGenerator&&o.addPath(j.generator,this.pathGenerator)&&this.pathGenerator.init(o)),o.retina.initParticle(this),this.size=ZC(this.options.size,u),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=$C-ve(this.options.move.decay);const U=o.particles;U.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/o.zLayers,this.sides=24;let W=o.effectDrawers.get(this.effect);W||(W=this._engine.getEffectDrawer(this.effect),W&&o.effectDrawers.set(this.effect,W)),W?.loadEffect&&W.loadEffect(this);let Q=o.shapeDrawers.get(this.shape);Q||(Q=this._engine.getShapeDrawer(this.shape),Q&&o.shapeDrawers.set(this.shape,Q)),Q?.loadShape&&Q.loadShape(this);const Z=Q?.getSidesCount;Z&&(this.sides=Z(this)),this.spawning=!1,this.shadowColor=Li(this._engine,this.options.shadow.color);for(const D of U.updaters)D.init(this);for(const D of U.movers)D.init?.(this);W?.particleInit?.(o,this),Q?.particleInit?.(o,this);for(const D of o.plugins.values())D.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}class Hz{constructor(e,n){this.position=e,this.particle=n}}var Ml;(function(t){t.circle="circle",t.rectangle="rectangle"})(Ml||(Ml={}));class dk{constructor(e,n,i){this.position={x:e,y:n},this.type=i}}class fn extends dk{constructor(e,n,i){super(e,n,Ml.circle),this.radius=i}contains(e){return Hn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},o=this.radius;if(e instanceof fn||e.type===Ml.circle){const l=e,u=o+l.radius,h=Math.sqrt(r.x**Fr+r.y**Fr);return u>h}else if(e instanceof zi||e.type===Ml.rectangle){const l=e,{width:u,height:h}=l.size;return Math.pow(r.x-u,Fr)+Math.pow(r.y-h,Fr)<=o**Fr||r.x<=o+u&&r.y<=o+h||r.x<=u||r.y<=h}return!1}}class zi extends dk{constructor(e,n,i,r){super(e,n,Ml.rectangle),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof fn)return e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,o=e.position,l=e instanceof zi?e.size:{width:0,height:0},u=l.width,h=l.height;return o.x<r.x+n&&o.x+u>r.x&&o.y<r.y+i&&o.y+h>r.y}}class qf{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:o,height:l}=this.rectangle.size,{capacity:u}=this;for(let h=0;h<jF;h++){const f=h%dn;this._subs.push(new qf(new zi(i+o*Nt*f,r+l*Nt*(Math.round(h*Nt)-f),o*Nt,l*Nt),u))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&Hn(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,n));return i}queryCircle(e,n,i){return this.query(new fn(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new zi(e.x,e.y,n.width,n.height),i)}}const Ax=t=>{const{height:e,width:n}=t;return new zi(yx*n,yx*e,vx*n,vx*e)};class Wz{constructor(e,n){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,o,l,u)=>{const h=r.number;if(!r.number.density?.enable){l===void 0?this._limit=h.limit.value:(u?.number.limit?.value??h.limit.value)&&this._groupLimits.set(l,u?.number.limit?.value??h.limit.value);return}const f=this._initDensityFactor(h.density),m=h.value,y=h.limit.value>_x?h.limit.value:m,w=Math.min(m,y)*f+o,T=Math.min(this.count,this.filter(S=>S.group===l).length);l===void 0?this._limit=h.limit.value*f:this._groupLimits.set(l,h.limit.value*f),T<w?this.push(Math.abs(w-T),void 0,r,l):T>w&&this.removeQuantity(T-w,l)},this._initDensityFactor=r=>{const o=this._container;if(!o.canvas.element||!r.enable)return oj;const l=o.canvas.element,u=o.retina.pixelRatio;return l.width*l.height/(r.height*r.width*u**Fr)},this._pushParticle=(r,o,l,u)=>{try{let h=this._pool.pop();h||(h=new $z(this._engine,this._container)),h.init(this._nextId,r,o,l);let f=!0;return u&&(f=u(h)),f?(this._array.push(h),this._zArray.push(h),this._nextId++,this._engine.dispatchEvent(En.particleAdded,{container:this._container,data:{particle:h}}),h):void 0}catch(h){sa().warning(`${hi} adding particle: ${h}`)}},this._removeParticle=(r,o,l)=>{const u=this._array[r];if(!u||u.group!==o)return!1;const h=this._zArray.indexOf(u);return this._array.splice(r,Wf),this._zArray.splice(h,Wf),u.destroy(l),this._engine.dispatchEvent(En.particleRemoved,{container:this._container,data:{particle:u}}),this._addToPool(u),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new zz(e,n),this._pluginsInitialized=!1;const i=n.canvas.size;this.quadTree=new qf(Ax(i),ux),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?ek(i.position,e.canvas.size):void 0,i.options))}addParticle(e,n,i,r){const o=this._container.actualOptions.particles.number.limit.mode,l=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,u=this.count;if(l>_x)switch(o){case Wc.delete:{const h=u+rj-l;h>sj&&this.removeQuantity(h);break}case Wc.wait:if(u>=l)return;break}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,i=n.canvas;i.clear(),this.update(e);for(const r of n.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const r of e.plugins.values())if(i=r.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const r=n.particles,o=r.groups;for(const l in o){const u=o[l];for(let h=this.count,f=0;f<u.number?.value&&h<r.number.value;h++,f++)this.addParticle(void 0,u,l)}for(let l=this.count;l<r.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const n of e.pathGenerators.values())n.init(e)}push(e,n,i,r){for(let o=0;o<e;o++)this.addParticle(n?.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=FF,i,r){if(e<Gy||e>this.count)return;let o=0;for(let l=e;o<n&&l<this.count;l++)this._removeParticle(l,i,r)&&(l--,o++)}removeQuantity(e,n){this.removeAt(Gy,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups,i=e.manualParticles.length;for(const r in n)this._applyDensity(n[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const n=this._container,i=new Set;this.quadTree=new qf(Ax(n.canvas.size),ux);for(const o of n.pathGenerators.values())o.update();for(const o of n.plugins.values())o.update?.(e);const r=this._resizeFactor;for(const o of this._array){r&&!o.ignoresResizeRatio&&(o.position.x*=r.width,o.position.y*=r.height,o.initialPosition.x*=r.width,o.initialPosition.y*=r.height),o.ignoresResizeRatio=!1,this._interactionManager.reset(o);for(const l of this._container.plugins.values()){if(o.destroyed)break;l.particleUpdate?.(o,e)}for(const l of this.movers)l.isEnabled(o)&&l.move(o,e);if(o.destroyed){i.add(o);continue}this.quadTree.insert(new Hz(o.getPosition(),o))}if(i.size){const o=l=>!i.has(l);this._array=this.filter(o),this._zArray=this._zArray.filter(o);for(const l of i)this._engine.dispatchEvent(En.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const o of this._array){for(const l of this.updaters)l.update(o,e);!o.destroyed&&!o.spawning&&this._interactionManager.particlesInteract(o,e)}if(delete this._resizeFactor,this._needsSort){const o=this._zArray;o.sort((l,u)=>u.position.z-l.position.z||l.id-u.id),this._lastZIndex=o[o.length-HC].position.z,this._needsSort=!1}}}class qz{constructor(e){this.container=e,this.pixelRatio=cx,this.reduceFactor=hx}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||oa()?cx:devicePixelRatio,this.reduceFactor=hx;const i=this.pixelRatio,r=e.canvas;if(r.element){const u=r.element;r.size.width=u.offsetWidth*i,r.size.height=u.offsetHeight*i}const o=n.particles,l=o.move;this.maxSpeed=ve(l.gravity.maxSpeed)*i,this.sizeAnimationSpeed=ve(o.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,o=r.distance,l=e.retina;l.moveDrift=ve(r.drift)*i,l.moveSpeed=ve(r.speed)*i,l.sizeAnimationSpeed=ve(n.size.animation.speed)*i;const u=l.maxDistance;u.horizontal=o.horizontal!==void 0?o.horizontal*i:void 0,u.vertical=o.vertical!==void 0?o.vertical*i:void 0,l.maxSpeed=ve(r.gravity.maxSpeed)*i}}function mt(t){return t&&!t.destroyed}function Gz(t,e=Og,n=!1){return{value:t,factor:n?Og/e:Og*t/hn}}function ul(t,e,...n){const i=new jz(t,e);return ck(i,...n),i}class Kz{constructor(e,n,i){this._intersectionManager=r=>{if(!(!mt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const o of r)o.target===this.interactivity.element&&(o.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+hn/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=r;const o=Gz(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(o.value),this._lastFrameTime=r,o.value>hn){this.draw(!1);return}if(this.particles.draw(o),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(o){sa().error(`${hi} in animation loop`,o)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new qz(this),this.canvas=new Yj(this,this._engine),this.particles=new Wz(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=ul(this._engine,this),this.actualOptions=ul(this._engine,this),this._eventListeners=new Xj(this),this._intersectionObserver=Ij(r=>this._intersectionManager(r)),this._engine.dispatchEvent(En.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&mt(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!mt(this))return;const n=this.interactivity.element;if(!n)return;const i=(y,w,T)=>{if(!mt(this))return;const S=this.retina.pixelRatio,C={x:w.x*S,y:w.y*S},b=this.particles.quadTree.queryCircle(C,T*S);e(y,b)},r=y=>{if(!mt(this))return;const w=y,T={x:w.offsetX||w.clientX,y:w.offsetY||w.clientY};i(y,T,qF)},o=()=>{mt(this)&&(f=!0,m=!1)},l=()=>{mt(this)&&(m=!0)},u=y=>{if(mt(this)){if(f&&!m){const w=y;let T=w.touches[w.touches.length-mx];if(!T&&(T=w.changedTouches[w.changedTouches.length-mx],!T))return;const S=this.canvas.element,C=S?S.getBoundingClientRect():void 0,b={x:T.clientX-(C?C.left:$f),y:T.clientY-(C?C.top:$f)};i(y,b,Math.max(T.radiusX,T.radiusY))}f=!1,m=!1}},h=()=>{mt(this)&&(f=!1,m=!1)};let f=!1,m=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",o),this._clickHandlers.set("touchmove",l),this._clickHandlers.set("touchend",u),this._clickHandlers.set("touchcancel",h);for(const[y,w]of this._clickHandlers)n.addEventListener(y,w)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!mt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(mt(this)){for(const[e,n]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,n);this._clickHandlers.clear()}}destroy(e=!0){if(mt(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const n of this.effectDrawers.values())n.destroy?.(this);for(const n of this.shapeDrawers.values())n.destroy?.(this);for(const n of this.effectDrawers.keys())this.effectDrawers.delete(n);for(const n of this.shapeDrawers.keys())this.shapeDrawers.delete(n);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const n=this._engine.items,i=n.findIndex(r=>r===this);i>=GF&&n.splice(i,BC)}this._engine.dispatchEvent(En.containerDestroyed,{container:this})}}draw(e){if(!mt(this))return;let n=e;const i=r=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(r)};this._drawAnimationFrame=yj(r=>i(r))}async export(e,n={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}sa().error(`${hi} - Export plugin with type ${e} not found`)}handleClickMode(e){if(mt(this)){this.particles.handleClickMode(e);for(const n of this.plugins.values())n.handleClickMode?.(e)}}async init(){if(!mt(this))return;const e=this._engine.getSupportedEffects();for(const f of e){const m=this._engine.getEffectDrawer(f);m&&this.effectDrawers.set(f,m)}const n=this._engine.getSupportedShapes();for(const f of n){const m=this._engine.getShapeDrawer(f);m&&this.shapeDrawers.set(f,m)}await this.particles.initPlugins(),this._options=ul(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ul(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[f,m]of i)this.plugins.set(f,m);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:o,delay:l,fpsLimit:u,smooth:h}=this.actualOptions;this.zLayers=r,this._duration=ve(o)*hn,this._delay=ve(l)*hn,this._lifeTime=0,this.fpsLimit=u>QF?u:KF,this._smooth=h;for(const f of this.effectDrawers.values())await f.init?.(this);for(const f of this.shapeDrawers.values())await f.init?.(this);for(const f of this.plugins.values())await f.init?.();this._engine.dispatchEvent(En.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const f of this.plugins.values())f.particlesSetup?.();this._engine.dispatchEvent(En.particlesSetup,{container:this})}async loadTheme(e){mt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(mt(this)&&(this._drawAnimationFrame!==void 0&&(vj(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(En.containerPaused,{container:this})}}play(e){if(!mt(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(En.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(mt(this))return this.stop(),this.start()}async reset(e){if(mt(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=ul(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=ul(this._engine,this,this._options),this.refresh()}async start(){!mt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const i of this.plugins.values())await i.start?.();this._engine.dispatchEvent(En.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){if(!(!mt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(En.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class Qz{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){this._listeners.get(e)?.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,o=i.indexOf(n);o<Gy||(r===Wf?this._listeners.delete(e):i.splice(o,Wf))}}async function $g(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=await Promise.all([...n.values()].map(o=>o(t))),e.set(t,r)),r}async function Yz(t){const e=ci(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(sa().error(`${hi} ${n.status} while retrieving config file`),t.fallback)}const Xz=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===Ng)e=t,e.dataset[Wo]||(e.dataset[Wo]=ax);else{const i=t.getElementsByTagName(Ng);i.length?(e=i[YF],e.dataset[Wo]=ax):(e=document.createElement(Ng),e.dataset[Wo]=zC,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},Jz=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[Wo]=zC,document.body.append(n),n)};class Zz{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Qz,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,n=!0){this.colorManagers.set(e.key,e),await this.refresh(n)}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(En.configAdded,{data:{name:n,config:e}})}async addEasing(e,n,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,n),await this.refresh(i))}async addEffect(e,n,i=!0){qn(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,n)}),await this.refresh(i)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this._initializers.interactors.set(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this._initializers.movers.set(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this._initializers.updaters.set(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(r)}async addShape(e,n=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(n)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,await i.getPlugin(e));return n}getEasing(e){return this.easingFunctions.get(e)??(n=>n)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return $g(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return $g(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return $g(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,i=n[e];if(!i||i.destroyed){n.splice(e,BC);return}return i}async load(e){const n=e.id??e.element?.id??`tsparticles${Math.floor(Ke()*XF)}`,{index:i,url:r}=e,o=r?await Yz({fallback:e.options,url:r,index:i}):e.options,l=ci(o,i),{items:u}=this,h=u.findIndex(w=>w.id.description===n),f=new Kz(this,n,l);if(h>=JF){const w=this.item(h),T=w?ZF:Hf;w&&!w.destroyed&&w.destroy(!1),u.splice(h,T,f)}else u.push(f);const m=Jz(n,e.element),y=Xz(m);return f.canvas.loadCanvas(y),await f.start(),f}loadOptions(e,n){this.plugins.forEach(i=>i.loadOptions?.(e,n))}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);r&&r.forEach(o=>o.loadOptions?.(n,...i))}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${hi} can only set click handlers after calling tsParticles.load()`);n.forEach(i=>i.addClickHandler(e))}}function e8(){const t=new Zz;return t.init(),t}class _r{constructor(e){this.type=Ql.external,this.container=e}}class B_{constructor(e){this.type=Ql.particles,this.container=e}}var Ai;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Ai||(Ai={}));var Dx;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(Dx||(Dx={}));var Xo;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(Xo||(Xo={}));const $_=e8();oa()||(window.tsParticles=$_);const t8=t=>{const e=t.id??"tsparticles";return V.useEffect(()=>{let n;return $_.load({id:e,url:t.url,options:t.options}).then(i=>{var r;n=i,(r=t.particlesLoaded)==null||r.call(t,i)}),()=>{n?.destroy()}},[e,t,t.url,t.options]),R.jsx("div",{id:e,className:t.className})};async function n8(t){await t($_)}const Jy=.5,i8=2,Ns=0,Ni=1,Mx=60,Ox=0,r8=.01,s8=Math.PI*i8;function o8(t){const e=t.initialPosition,{dx:n,dy:i}=Tn(e,t.position),r=Math.abs(n),o=Math.abs(i),{maxDistance:l}=t.retina,u=l.horizontal,h=l.vertical;if(!u&&!h)return;const f=(u&&r>=u)??!1,m=(h&&o>=h)??!1;if((f||m)&&!t.misplaced)t.misplaced=!!u&&r>u||!!h&&o>h,u&&(t.velocity.x=t.velocity.y*Jy-t.velocity.x),h&&(t.velocity.y=t.velocity.x*Jy-t.velocity.y);else if((!u||r<u)&&(!h||o<h)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const y=t.position,w=t.velocity;u&&(y.x<e.x&&w.x<Ns||y.x>e.x&&w.x>Ns)&&(w.x*=-Ke()),h&&(y.y<e.y&&w.y<Ns||y.y>e.y&&w.y>Ns)&&(w.y*=-Ke())}}function a8(t,e,n,i,r,o,l){u8(t,l);const u=t.gravity,h=u?.enable&&u.inverse?-Ni:Ni;r&&n&&(t.velocity.x+=r*l.factor/(Mx*n)),u?.enable&&n&&(t.velocity.y+=h*(u.acceleration*l.factor)/(Mx*n));const f=t.moveDecay;t.velocity.multTo(f);const m=t.velocity.mult(n);u?.enable&&i>Ns&&(!u.inverse&&m.y>=Ns&&m.y>=i||u.inverse&&m.y<=Ns&&m.y<=-i)&&(m.y=h*i,n&&(t.velocity.y=m.y/n));const y=t.options.zIndex,w=(Ni-t.zIndexFactor)**y.velocityRate;m.multTo(w),m.multTo(o);const{position:T}=t;T.addTo(m),e.vibrate&&(T.x+=Math.sin(T.x*Math.cos(T.y))*o,T.y+=Math.cos(T.y*Math.sin(T.x))*o)}function l8(t,e,n){const i=t.container;if(!t.spin)return;const r=t.spin.direction===Ai.clockwise,o={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*o.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*o.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const l=Math.max(i.canvas.size.width,i.canvas.size.height),u=l*Jy;t.spin.radius>u?(t.spin.radius=u,t.spin.acceleration*=-Ni):t.spin.radius<Ox&&(t.spin.radius=Ox,t.spin.acceleration*=-Ni),t.spin.angle+=e*r8*(Ni-t.spin.radius/l)}function u8(t,e){const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const o=t.pathGenerator?.generate(t,e);o&&t.velocity.addTo(o),i.clamp&&(t.velocity.x=di(t.velocity.x,-Ni,Ni),t.velocity.y=di(t.velocity.y,-Ni,Ni)),t.lastPathTime-=t.pathDelay}function c8(t){return t.slow.inRange?t.slow.factor:Ni}function h8(t){const e=t.container,n=t.options,i=n.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},o=.01,l={x:r.x*o*e.canvas.size.width,y:r.y*o*e.canvas.size.height},u=t.getPosition(),h=Hn(u,l),f=ve(i.acceleration);t.retina.spinAcceleration=f*e.retina.pixelRatio,t.spin={center:l,direction:t.velocity.x>=Ns?Ai.clockwise:Ai.counterClockwise,angle:Ke()*s8,radius:h,acceleration:t.retina.spinAcceleration}}const d8=2,f8=1,p8=1;class m8{init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:ve(i.acceleration),inverse:i.inverse},h8(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){const i=e.options,r=i.move;if(!r.enable)return;const o=e.container,l=o.retina.pixelRatio;e.retina.moveSpeed??=ve(r.speed)*l,e.retina.moveDrift??=ve(e.options.move.drift)*l;const u=c8(e),h=o.retina.reduceFactor,f=e.retina.moveSpeed,m=e.retina.moveDrift,y=tr(i.size.value)*l,w=r.size?e.getRadius()/y:f8,T=n.factor||p8,S=f*w*u*T/d8,C=e.retina.maxSpeed??o.retina.maxSpeed;r.spin.enable?l8(e,S,h):a8(e,r,S,C,m,h,n),o8(e)}}async function g8(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new m8),e)}const y8=2,v8=Math.PI*y8,_8=0,Nx={x:0,y:0};function w8(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:_8,max:v8});const r=n.circleRange;e.arc(Nx.x,Nx.y,i,r.min,r.max,!1)}const E8=12,T8=360,Vx=0;class x8{constructor(){this.validTypes=["circle"]}draw(e){w8(e)}getSidesCount(){return E8}particleInit(e,n){const i=n.shapeData,r=i?.angle??{max:T8,min:Vx};n.circleRange=Tl(r)?{min:Bs(r.min),max:Bs(r.max)}:{min:Vx,max:Bs(r)}}}async function S8(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new x8,e)}class b8{constructor(e,n){this._container=e,this._engine=n}init(e){const n=Bc(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=sk(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:o}=e;return!e.destroyed&&!e.spawning&&(o?.h.value!==void 0&&n.enable||o?.s.value!==void 0&&i.enable||o?.l.value!==void 0&&r.enable)}update(e,n){ok(e.color,n)}}async function I8(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new b8(n,t)),e)}var Bo;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(Bo||(Bo={}));const P8=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,C8=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,jd=16,k8=1,R8=255;class A8{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const n=e.replace(P8,(r,o,l,u,h)=>o+o+l+l+u+u+(h!==void 0?h+h:"")),i=C8.exec(n);return i?{a:i[Bo.a]!==void 0?parseInt(i[Bo.a],jd)/R8:k8,b:parseInt(i[Bo.b],jd),g:parseInt(i[Bo.g],jd),r:parseInt(i[Bo.r],jd)}:void 0}}async function D8(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new A8,e)}var xl;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(xl||(xl={}));class M8{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Gl(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Gl({h:ve(i.h),l:ve(i.l),s:ve(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=4,o=1,l=10;return i?jj({a:i.length>r?KC(i[xl.a]):o,h:parseInt(i[xl.h],l),l:parseInt(i[xl.l],l),s:parseInt(i[xl.s],l)}):void 0}}async function O8(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new M8,e)}class N8{constructor(e){this.container=e}init(e){const n=e.options.opacity,i=1;e.opacity=ZC(n,i);const r=n.animation;r.enable&&(e.opacity.velocity=ve(r.speed)/Os*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Ke()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||F_(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function V8(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new N8(n)),e)}const Gf=0,Ol=0;function L8(t){if(t.outMode!==Ct.bounce&&t.outMode!==Ct.split||t.direction!==Oe.left&&t.direction!==Oe.right)return;t.bounds.right<Ol&&t.direction===Oe.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===Oe.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===Oe.right&&t.bounds.right>=t.canvasSize.width&&e>Gf||t.direction===Oe.left&&t.bounds.left<=Ol&&e<Gf){const r=ve(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===Oe.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=Ol&&t.direction===Oe.left&&(t.particle.position.x=i),t.outMode===Ct.split&&t.particle.destroy()}function F8(t){if(t.outMode!==Ct.bounce&&t.outMode!==Ct.split||t.direction!==Oe.bottom&&t.direction!==Oe.top)return;t.bounds.bottom<Ol&&t.direction===Oe.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===Oe.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===Oe.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>Gf||t.direction===Oe.top&&t.bounds.top<=Ol&&e<Gf){const r=ve(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===Oe.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=Ol&&t.direction===Oe.top&&(t.particle.position.y=i),t.outMode===Ct.split&&t.particle.destroy()}class j8{constructor(e){this.container=e,this.modes=[Ct.bounce,Ct.split]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;let l=!1;for(const w of o.plugins.values())if(w.particleBounce!==void 0&&(l=w.particleBounce(e,i,n)),l)break;if(l)return;const u=e.getPosition(),h=e.offset,f=e.getRadius(),m=uh(u,f),y=o.canvas.size;L8({particle:e,outMode:r,direction:n,bounds:m,canvasSize:y,offset:h,size:f}),F8({particle:e,outMode:r,direction:n,bounds:m,canvasSize:y,offset:h,size:f})}}const zd=0;class z8{constructor(e){this.container=e,this.modes=[Ct.destroy]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;switch(e.outType){case Fi.normal:case Fi.outside:if(N_(e.position,o.canvas.size,Ht.origin,e.getRadius(),n))return;break;case Fi.inside:{const{dx:l,dy:u}=Tn(e.position,e.moveCenter),{x:h,y:f}=e.velocity;if(h<zd&&l>e.moveCenter.radius||f<zd&&u>e.moveCenter.radius||h>=zd&&l<-e.moveCenter.radius||f>=zd&&u<-e.moveCenter.radius)return;break}}o.particles.remove(e,e.group,!0)}}const Ud=0;class U8{constructor(e){this.container=e,this.modes=[Ct.none]}update(e,n,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(n===Oe.left||n===Oe.right))??(e.options.move.distance.vertical&&(n===Oe.top||n===Oe.bottom))))return;const o=e.options.move.gravity,l=this.container,u=l.canvas.size,h=e.getRadius();if(o.enable){const f=e.position;(!o.inverse&&f.y>u.height+h&&n===Oe.bottom||o.inverse&&f.y<-h&&n===Oe.top)&&l.particles.remove(e)}else{if(e.velocity.y>Ud&&e.position.y<=u.height+h||e.velocity.y<Ud&&e.position.y>=-h||e.velocity.x>Ud&&e.position.x<=u.width+h||e.velocity.x<Ud&&e.position.x>=-h)return;N_(e.position,l.canvas.size,Ht.origin,h,n)||l.particles.remove(e)}}}const Bd=0,$d=0;class B8{constructor(e){this.container=e,this.modes=[Ct.out]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;switch(e.outType){case Fi.inside:{const{x:l,y:u}=e.velocity,h=Ht.origin;h.length=e.moveCenter.radius,h.angle=e.velocity.angle+Math.PI,h.addTo(Ht.create(e.moveCenter));const{dx:f,dy:m}=Tn(e.position,h);if(l<=Bd&&f>=$d||u<=Bd&&m>=$d||l>=Bd&&f<=$d||u>=Bd&&m<=$d)return;e.position.x=Math.floor(Bn({min:0,max:o.canvas.size.width})),e.position.y=Math.floor(Bn({min:0,max:o.canvas.size.height}));const{dx:y,dy:w}=Tn(e.position,e.moveCenter);e.direction=Math.atan2(-w,-y),e.velocity.angle=e.direction;break}default:{if(N_(e.position,o.canvas.size,Ht.origin,e.getRadius(),n))return;switch(e.outType){case Fi.outside:{e.position.x=Math.floor(Bn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Bn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:l,dy:u}=Tn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(u,l),e.velocity.angle=e.direction);break}case Fi.normal:{const l=e.options.move.warp,u=o.canvas.size,h={bottom:u.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:u.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},f=e.getRadius(),m=uh(e.position,f);n===Oe.right&&m.left>u.width+e.offset.x?(e.position.x=h.left,e.initialPosition.x=e.position.x,l||(e.position.y=Ke()*u.height,e.initialPosition.y=e.position.y)):n===Oe.left&&m.right<-e.offset.x&&(e.position.x=h.right,e.initialPosition.x=e.position.x,l||(e.position.y=Ke()*u.height,e.initialPosition.y=e.position.y)),n===Oe.bottom&&m.top>u.height+e.offset.y?(l||(e.position.x=Ke()*u.width,e.initialPosition.x=e.position.x),e.position.y=h.top,e.initialPosition.y=e.position.y):n===Oe.top&&m.bottom<-e.offset.y&&(l||(e.position.x=Ke()*u.width,e.initialPosition.x=e.position.x),e.position.y=h.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const $8=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class H8{constructor(e){this._addUpdaterIfMissing=(n,i,r)=>{const o=n.options.move.outModes;!this.updaters.has(i)&&$8(o,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(n,i,r,o)=>{for(const l of this.updaters.values())l.update(n,o,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Ct.bounce,n=>new j8(n)),this._addUpdaterIfMissing(e,Ct.out,n=>new B8(n)),this._addUpdaterIfMissing(e,Ct.destroy,n=>new z8(n)),this._addUpdaterIfMissing(e,Ct.none,n=>new U8(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,Oe.bottom),this._updateOutMode(e,n,i.left??i.default,Oe.left),this._updateOutMode(e,n,i.right??i.default,Oe.right),this._updateOutMode(e,n,i.top??i.default,Oe.top)}}async function W8(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new H8(n)),e)}var Sl;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(Sl||(Sl={}));class q8{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:ve(i.r),g:ve(i.g),b:ve(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=10;return i?{a:i.length>4?KC(i[Sl.a]):1,b:parseInt(i[Sl.b],r),g:parseInt(i[Sl.g],r),r:parseInt(i[Sl.r],r)}:void 0}}async function G8(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new q8,e)}const No=0;class K8{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Os*n.retina.reduceFactor,r.sync||(e.size.velocity*=Ke()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??No)<=No||(e.size.maxLoops??No)>No&&(e.size.loops??No)<(e.size.maxLoops??No))}reset(e){e.size.loops=No}update(e,n){this.isEnabled(e)&&F_(e,e.size,!0,e.options.size.animation.destroy,n)}}async function Q8(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new K8),e)}async function Y8(t,e=!0){t.checkVersion("3.9.1"),await D8(t,!1),await O8(t,!1),await G8(t,!1),await g8(t,!1),await S8(t,!1),await I8(t,!1),await V8(t,!1),await W8(t,!1),await Q8(t,!1),await t.refresh(e)}async function X8(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(Xo.easeInQuad,n=>n**2,!1),await t.addEasing(Xo.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(Xo.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function J8(t,e){const{context:n,opacity:i}=t,r=.5,o=n.globalAlpha;if(!e)return;const l=e.width,u=l*r;n.globalAlpha=i,n.drawImage(e,-u,-u,l,l),n.globalAlpha=o}const Hg='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',Lx=0;class Z8{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&n?.close(),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const i=this._emojiShapeDict.get(n);i&&J8(e,i)}async init(e){const n=e.actualOptions,{validTypes:i}=this;if(!i.find(l=>Tt(l,n.particles.shape.type)))return;const r=[Sx(Hg)],o=i.map(l=>n.particles.shape.options[l]).find(l=>!!l);o&&qn(o,l=>{l.font&&r.push(Sx(l.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const r=n.shapeData;if(!r?.value)return;const o=ci(r.value,n.randomIndexData);if(!o)return;const l=typeof o=="string"?{font:r.font??Hg,padding:r.padding??Lx,value:o}:{font:Hg,padding:Lx,...r,...o},u=l.font,h=l.value,f=`${h}_${u}`;if(this._emojiShapeDict.has(f)){n.emojiDataKey=f;return}const m=l.padding*2,y=tr(n.size.value),w=y+m,T=w*2;let S;if(typeof OffscreenCanvas<"u"){const C=new OffscreenCanvas(T,T),b=C.getContext("2d");if(!b)return;b.font=`400 ${y*2}px ${u}`,b.textBaseline="middle",b.textAlign="center",b.fillText(h,w,w),S=C.transferToImageBitmap()}else{const C=document.createElement("canvas");C.width=T,C.height=T;const b=C.getContext("2d");if(!b)return;b.font=`400 ${y*2}px ${u}`,b.textBaseline="middle",b.textAlign="center",b.fillText(h,w,w),S=C}this._emojiShapeDict.set(f,S),n.emojiDataKey=f}}async function eU(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new Z8,e)}const tU=1,nU=1,fk=0;function pk(t,e,n,i,r,o){const l=e.actualOptions.interactivity.modes.attract;if(!l)return;const u=e.particles.quadTree.query(r,o);for(const h of u){const{dx:f,dy:m,distance:y}=Tn(h.position,n),w=l.speed*l.factor,T=di(t.getEasing(l.easing)(nU-y/i)*w,tU,l.maxSpeed),S=Ht.create(y?f/y*T:w,y?m/y*T:w);h.position.subFrom(S)}}function iU(t,e,n){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,o=e.retina.attractModeDistance;if(!o||o<fk||!r)return;pk(t,e,r,o,new fn(r.x,r.y,o),l=>n(l))}else i.clicking===!1&&(i.particles=[])}function rU(t,e,n){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<fk||!i||pk(t,e,i,r,new fn(i.x,i.y,r),o=>n(o))}class sU{constructor(){this.distance=200,this.duration=.4,this.easing=Xo.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const rc="attract";let oU=class extends _r{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.attract;if(!(!o||i!==rc)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const l of n.attract.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},o.duration*hn)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ia,r=n.interactivity.events,{enable:o,mode:l}=r.onHover,{enable:u,mode:h}=r.onClick;i&&o&&Tt(rc,l)?rU(this._engine,this.container,f=>this.isEnabled(f)):u&&Tt(rc,h)&&iU(this._engine,this.container,f=>this.isEnabled(f))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events;if((!r.position||!o.onHover.enable)&&(!r.clickPosition||!o.onClick.enable))return!1;const l=o.onHover.mode,u=o.onClick.mode;return Tt(rc,l)||Tt(rc,u)}loadModeOptions(e,...n){e.attract||(e.attract=new sU);for(const i of n)e.attract.load(i?.attract)}reset(){}};async function aU(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new oU(t,n)),e)}const lU=2,df=.5,uU=Math.PI*df,Fx=2,mk=10,cU=0;function gk(t,e,n,i,r){const o=t.particles.quadTree.query(i,r);for(const l of o)i instanceof fn?XC(Qy(l),{position:e,mass:n**lU*uU,velocity:Ht.origin,factor:Ht.origin}):i instanceof zi&&Aj(l,uh(e,n))}function hU(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach(o=>{const l=o,u=t.retina.pixelRatio,h={x:(l.offsetLeft+l.offsetWidth*df)*u,y:(l.offsetTop+l.offsetHeight*df)*u},f=l.offsetWidth*df*u,m=mk*u,y=n.type===Kl.circle?new fn(h.x,h.y,f+m):new zi(l.offsetLeft*u-m,l.offsetTop*u-m,l.offsetWidth*u+m*Fx,l.offsetHeight*u+m*Fx);i(h,f,y)})}function dU(t,e,n,i){L_(n,e,(r,o)=>hU(t,r,o,(l,u,h)=>gk(t,l,u,h,i)))}function fU(t,e){const n=t.retina.pixelRatio,i=mk*n,r=t.interactivity.mouse.position,o=t.retina.bounceModeDistance;!o||o<cU||!r||gk(t,r,o,new fn(r.x,r.y,o+i),e)}class pU{constructor(){this.distance=200}load(e){le(e)||e.distance!==void 0&&(this.distance=e.distance)}}const Hd="bounce";class mU extends _r{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===ia,o=i.onHover.enable,l=i.onHover.mode,u=i.onDiv;r&&o&&Tt(Hd,l)?fU(this.container,h=>this.isEnabled(h)):dU(this.container,u,Hd,h=>this.isEnabled(h))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,l=o.onDiv;return!!r.position&&o.onHover.enable&&Tt(Hd,o.onHover.mode)||V_(Hd,l)}loadModeOptions(e,...n){e.bounce||(e.bounce=new pU);for(const i of n)e.bounce.load(i?.bounce)}reset(){}}async function gU(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new mU(n)),e)}class yk{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!le(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=vr(this.color)?void 0:this.color;this.color=qn(e.color,i=>gn.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class yU extends yk{constructor(){super(),this.selectors=[]}load(e){super.load(e),!le(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class vU extends yk{load(e){super.load(e),!le(e)&&(this.divs=qn(e.divs,n=>{const i=new yU;return i.load(n),i}))}}var Ji;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(Ji||(Ji={}));function jx(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return di(r,t,e)}else if(e<n){const r=t-(n-e)*i;return di(r,e,t)}}const Vo="bubble",Wg=0,_U=0,wU=2,zx=1,Ux=1,EU=0,TU=0,qg=.5,Gg=1;class xU extends _r{constructor(e,n){super(e),this._clickBubble=()=>{const i=this.container,r=i.actualOptions,o=i.interactivity.mouse.clickPosition,l=r.interactivity.modes.bubble;if(!l||!o)return;i.bubble||(i.bubble={});const u=i.retina.bubbleModeDistance;if(!u||u<Wg)return;const h=i.particles.quadTree.queryCircle(o,u,m=>this.isEnabled(m)),{bubble:f}=i;for(const m of h){if(!f.clicking)continue;m.bubble.inRange=!f.durationEnd;const y=m.getPosition(),w=Hn(y,o),T=(new Date().getTime()-(i.interactivity.mouse.clickTime??_U))/hn;T>l.duration&&(f.durationEnd=!0),T>l.duration*wU&&(f.clicking=!1,f.durationEnd=!1);const S={bubbleObj:{optValue:i.retina.bubbleModeSize,value:m.bubble.radius},particlesObj:{optValue:tr(m.options.size.value)*i.retina.pixelRatio,value:m.size.value},type:Ji.size};this._process(m,w,T,S);const C={bubbleObj:{optValue:l.opacity,value:m.bubble.opacity},particlesObj:{optValue:tr(m.options.opacity.value),value:m.opacity?.value??zx},type:Ji.opacity};this._process(m,w,T,C),!f.durationEnd&&w<=u?this._hoverBubbleColor(m,w):delete m.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,o=i.retina.bubbleModeDistance;if(!o||o<Wg||!r)return;const l=i.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u));for(const u of l){u.bubble.inRange=!0;const h=u.getPosition(),f=Hn(h,r),m=Ux-f/o;f<=o?m>=TU&&i.interactivity.status===ia&&(this._hoverBubbleSize(u,m),this._hoverBubbleOpacity(u,m),this._hoverBubbleColor(u,m)):this.reset(u),i.interactivity.status===$y&&this.reset(u)}},this._hoverBubbleColor=(i,r,o)=>{const l=this.container.actualOptions,u=o??l.interactivity.modes.bubble;if(u){if(!i.bubble.finalColor){const h=u.color;if(!h)return;const f=ci(h);i.bubble.finalColor=Bc(this._engine,f)}if(i.bubble.finalColor)if(u.mix){i.bubble.color=void 0;const h=i.getFillColor();i.bubble.color=h?nk(j_(h,i.bubble.finalColor,Ux-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,o)=>{const l=this.container,u=l.actualOptions,h=o?.opacity??u.interactivity.modes.bubble?.opacity;if(!h)return;const f=i.options.opacity.value,m=i.opacity?.value??zx,y=jx(m,h,tr(f),r);y!==void 0&&(i.bubble.opacity=y)},this._hoverBubbleSize=(i,r,o)=>{const l=this.container,u=o?.size?o.size*l.retina.pixelRatio:l.retina.bubbleModeSize;if(u===void 0)return;const h=tr(i.options.size.value)*l.retina.pixelRatio,f=i.size.value,m=jx(f,u,h,r);m!==void 0&&(i.bubble.radius=m)},this._process=(i,r,o,l)=>{const u=this.container,h=l.bubbleObj.optValue,f=u.actualOptions,m=f.interactivity.modes.bubble;if(!m||h===void 0)return;const y=m.duration,w=u.retina.bubbleModeDistance,T=l.particlesObj.optValue,S=l.bubbleObj.value,C=l.particlesObj.value??EU,b=l.type;if(!(!w||w<Wg||h===T))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)S&&(b===Ji.size&&delete i.bubble.radius,b===Ji.opacity&&delete i.bubble.opacity);else if(r<=w){if((S??C)!==h){const j=C-o*(C-h)/y;b===Ji.size&&(i.bubble.radius=j),b===Ji.opacity&&(i.bubble.opacity=j)}}else b===Ji.size&&delete i.bubble.radius,b===Ji.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,o)=>{const l=this.container,u=document.querySelectorAll(r),h=l.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(f=>{const m=f,y=l.retina.pixelRatio,w={x:(m.offsetLeft+m.offsetWidth*qg)*y,y:(m.offsetTop+m.offsetHeight*qg)*y},T=m.offsetWidth*qg*y,S=o.type===Kl.circle?new fn(w.x,w.y,T):new zi(m.offsetLeft*y,m.offsetTop*y,m.offsetWidth*y,m.offsetHeight*y),C=l.particles.quadTree.query(S,b=>this.isEnabled(b));for(const b of C){if(!S.contains(b.getPosition()))continue;b.bubble.inRange=!0;const A=h.divs,j=YC(A,m);(!b.bubble.div||b.bubble.div!==m)&&(this.clear(b,i,!0),b.bubble.div=m),this._hoverBubbleSize(b,Gg,j),this._hoverBubbleOpacity(b,Gg,j),this._hoverBubbleColor(b,Gg,j)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Vo&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,o=i.onClick,l=r.enable,u=r.mode,h=o.enable,f=o.mode,m=i.onDiv;l&&Tt(Vo,u)?this._hoverBubble():h&&Tt(Vo,f)?this._clickBubble():L_(Vo,m,(y,w)=>this._singleSelectorHover(e,y,w))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,{onClick:l,onDiv:u,onHover:h}=o,f=V_(Vo,u);return f||h.enable&&r.position||l.enable&&r.clickPosition?Tt(Vo,h.mode)||Tt(Vo,l.mode)||f:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new vU);for(const i of n)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function SU(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new xU(n,t)),e)}class bU{constructor(){this.opacity=.5}load(e){le(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class IU{constructor(){this.distance=80,this.links=new bU,this.radius=60}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const Bx=0,$x=1,PU=0;function CU(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),o=e.getFillColor(),l=n.getFillColor();if(!o||!l)return;const u=e.getPosition(),h=n.getPosition(),f=j_(o,l,e.getRadius(),n.getRadius()),m=t.createLinearGradient(u.x,u.y,h.x,h.y);return m.addColorStop(Bx,$c(o,i)),m.addColorStop(di(r,Bx,$x),qr(f,i)),m.addColorStop($x,$c(l,i)),m}function kU(t,e,n,i,r){bc(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function RU(t,e,n,i){const r=t.actualOptions,o=r.interactivity.modes.connect;if(o)return CU(e,n,i,o.links.opacity)}function AU(t,e,n){t.canvas.draw(i=>{const r=RU(t,i,e,n);if(!r)return;const o=e.getPosition(),l=n.getPosition();kU(i,e.retina.linksWidth??PU,r,o,l)})}const DU="connect",Hx=0;class MU extends _r{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:o}=e.retina;if(!r||r<Hx||!o||o<Hx||!i)return;const l=Math.abs(o),u=e.particles.quadTree.queryCircle(i,l,h=>this.isEnabled(h));u.forEach((h,f)=>{const m=h.getPosition(),y=1;for(const w of u.slice(f+y)){const T=w.getPosition(),S=Math.abs(r),C=Math.abs(m.x-T.x),b=Math.abs(m.y-T.y);C<S&&b<S&&AU(e,h,w)}})}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Tt(DU,r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new IU);for(const i of n)e.connect.load(i?.connect)}reset(){}}async function OU(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new MU(n)),e)}class NU{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){le(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=gn.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class VU{constructor(){this.distance=100,this.links=new NU}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const LU=0;function FU(t,e,n,i,r,o){bc(t,n,i),t.strokeStyle=qr(r,o),t.lineWidth=e,t.stroke()}function jU(t,e,n,i,r){t.canvas.draw(o=>{const l=e.getPosition();FU(o,e.retina.linksWidth??LU,l,r,n,i)})}const zU="grab",UU=0,BU=0;class $U extends _r{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==ia)return;const r=e.interactivity.mouse.position;if(!r)return;const o=e.retina.grabModeDistance;if(!o||o<UU)return;const l=e.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u));for(const u of l){const h=u.getPosition(),f=Hn(h,r);if(f>o)continue;const m=i.modes.grab.links,y=m.opacity,w=y-f*y/o;if(w<=BU)continue;const T=m.color??u.options.links?.color;if(!e.particles.grabLineColor&&T){const C=i.modes.grab.links;e.particles.grabLineColor=rk(this._engine,T,C.blink,C.consent)}const S=Xy(u,void 0,e.particles.grabLineColor);S&&jU(e,u,S,w,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Tt(zU,r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new VU);for(const i of n)e.grab.load(i?.grab)}reset(){}}async function HU(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new $U(n,t)),e)}const WU="pause";class qU extends _r{constructor(e){super(e),this.handleClickMode=n=>{if(n!==WU)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function GU(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new qU(n)),e)}class KU{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(le(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=$e(n)),this.particles=qn(e.particles,i=>mn({},i))}}const QU="push",YU=0;class XU extends _r{constructor(e){super(e),this.handleClickMode=n=>{if(n!==QU)return;const i=this.container,r=i.actualOptions,o=r.interactivity.modes.push;if(!o)return;const l=ve(o.quantity);if(l<=YU)return;const u=Ip([void 0,...o.groups]),h=u!==void 0?i.actualOptions.particles.groups[u]:void 0,f=ci(o.particles),m=mn(h,f);i.particles.push(l,i.interactivity.mouse,m,u)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new KU);for(const i of n)e.push.load(i?.push)}reset(){}}async function JU(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new XU(n)),e)}class ZU{constructor(){this.quantity=2}load(e){if(le(e))return;const n=e.quantity;n!==void 0&&(this.quantity=$e(n))}}const e7="remove";class t7 extends _r{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!==e7)return;const o=ve(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new ZU);for(const i of n)e.remove.load(i?.remove)}reset(){}}async function n7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new t7(n)),e)}class vk{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Xo.easeOutQuad}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class i7 extends vk{constructor(){super(),this.selectors=[]}load(e){super.load(e),!le(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class r7 extends vk{load(e){super.load(e),!le(e)&&(this.divs=qn(e.divs,n=>{const i=new i7;return i.load(n),i}))}}const Lo="repulse",s7=0,o7=6,a7=3,l7=2,u7=0,c7=0,h7=1,Kg=.5;class d7 extends _r{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const o=i.repulse??{particles:[]};if(o.finish||(o.count||(o.count=0),o.count++,o.count===i.particles.count&&(o.finish=!0)),o.clicking){const l=i.retina.repulseModeDistance;if(!l||l<s7)return;const u=Math.pow(l/o7,a7),h=i.interactivity.mouse.clickPosition;if(h===void 0)return;const f=new fn(h.x,h.y,u),m=i.particles.quadTree.query(f,y=>this.isEnabled(y));for(const y of m){const{dx:w,dy:T,distance:S}=Tn(h,y.position),C=S**l7,b=r.speed,A=-u*b/C;if(C<=u){o.particles.push(y);const j=Ht.create(w,T);j.length=A,y.velocity.setTo(j)}}}else if(o.clicking===!1){for(const l of o.particles)l.velocity.setTo(l.initialVelocity);o.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,o=i.retina.repulseModeDistance;!o||o<u7||!r||this._processRepulse(r,o,new fn(r.x,r.y,o))},this._processRepulse=(i,r,o,l)=>{const u=this.container,h=u.particles.quadTree.query(o,b=>this.isEnabled(b)),f=u.actualOptions.interactivity.modes.repulse;if(!f)return;const{easing:m,speed:y,factor:w,maxSpeed:T}=f,S=this._engine.getEasing(m),C=(l?.speed??y)*w;for(const b of h){const{dx:A,dy:j,distance:U}=Tn(b.position,i),W=di(S(h7-U/r)*C,c7,T),Q=Ht.create(U?A/U*W:C,U?j/U*W:C);b.position.addTo(Q)}},this._singleSelectorRepulse=(i,r)=>{const o=this.container,l=o.actualOptions.interactivity.modes.repulse;if(!l)return;const u=document.querySelectorAll(i);u.length&&u.forEach(h=>{const f=h,m=o.retina.pixelRatio,y={x:(f.offsetLeft+f.offsetWidth*Kg)*m,y:(f.offsetTop+f.offsetHeight*Kg)*m},w=f.offsetWidth*Kg*m,T=r.type===Kl.circle?new fn(y.x,y.y,w):new zi(f.offsetLeft*m,f.offsetTop*m,f.offsetWidth*m,f.offsetHeight*m),S=l.divs,C=YC(S,f);this._processRepulse(y,w,T,C)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.repulse;if(!o||i!==Lo)return;n.repulse||(n.repulse={particles:[]});const l=n.repulse;l.clicking=!0,l.count=0;for(const u of n.repulse.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);l.particles=[],l.finish=!1,setTimeout(()=>{n.destroyed||(l.clicking=!1)},o.duration*hn)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ia,r=n.interactivity.events,o=r.onHover,l=o.enable,u=o.mode,h=r.onClick,f=h.enable,m=h.mode,y=r.onDiv;i&&l&&Tt(Lo,u)?this._hoverRepulse():f&&Tt(Lo,m)?this._clickRepulse():L_(Lo,y,(w,T)=>this._singleSelectorRepulse(w,T))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,l=o.onDiv,u=o.onHover,h=o.onClick,f=V_(Lo,l);if(!(f||u.enable&&r.position||h.enable&&r.clickPosition))return!1;const m=u.mode,y=h.mode;return Tt(Lo,m)||Tt(Lo,y)||f}loadModeOptions(e,...n){e.repulse||(e.repulse=new r7);for(const i of n)e.repulse.load(i?.repulse)}reset(){}}async function f7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new d7(t,n)),e)}class p7{constructor(){this.factor=3,this.radius=200}load(e){le(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const m7="slow",g7=0;class y7 extends _r{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Tt(m7,r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new p7);for(const i of n)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,o=n.retina.slowModeRadius,l=i.interactivity.modes.slow;if(!l||!o||o<g7||!r)return;const u=e.getPosition(),h=Hn(r,u),f=h/o,m=l.factor,{slow:y}=e;h>o||(y.inRange=!0,y.factor=f/m)}}async function v7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new y7(n)),e)}const _7=0,w7=1,E7=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function T7(t,e,n){const{svgData:i}=t;if(!i)return"";const r=$c(e,n);if(i.includes("fill"))return i.replace(E7,()=>r);const o=i.indexOf(">");return`${i.substring(_7,o)} fill="${r}"${i.substring(o)}`}async function Pp(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,sa().error(`${hi} loading image: ${t.source}`),e()}),n.src=t.source})}async function x7(t){if(t.type!=="svg"){await Pp(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(sa().error(`${hi} Image not found`),t.error=!0),t.loading=!1}function S7(t,e,n,i){const r=T7(t,n,i.opacity?.value??w7),o={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(l=>{const u=new Blob([r],{type:"image/svg+xml"}),h=URL||window.URL||window.webkitURL||window,f=h.createObjectURL(u),m=new Image;m.addEventListener("load",()=>{o.loaded=!0,o.element=m,l(o),h.revokeObjectURL(f)});const y=async()=>{h.revokeObjectURL(f);const w={...t,error:!1,loading:!0};await Pp(w),o.loaded=!0,o.element=w.element,l(o)};m.addEventListener("error",()=>void y()),m.src=f})}const Qg=[0,4,2,1],Wx=[8,8,4,2];class b7{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const i=0,r=0;do{n=this.data[this.pos++];for(let o=n;--o>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const i=0,r=1;for(let l=0;e!==i;l+=e+r,e=this.data[this.pos+l])n+=e;const o=new Uint8Array(n);e=this.data[this.pos++];for(let l=0;e!==i;e=this.data[this.pos++])for(let u=e;--u>=i;o[l++]=this.data[this.pos++]);return o}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var ki;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(ki||(ki={}));var Ur;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(Ur||(Ur={}));const Dn={x:0,y:0},I7=0,qx=.5,P7=0,Gx=0,Zy=0;function _k(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function C7(t,e,n,i){switch(t.nextByte()){case Ur.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const o=t.nextByte();r.GCreserved=(o&224)>>>5,r.disposalMethod=(o&28)>>>2,r.userInputDelayFlag=(o&2)===2;const l=(o&1)===1;r.delayTime=t.nextTwoBytes()*10;const u=t.nextByte();l&&i(u),t.pos++;break}case Ur.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case Ur.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case Ur.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function k7(t,e,n,i,r,o){const l=e.frames[i(!0)];l.left=t.nextTwoBytes(),l.top=t.nextTwoBytes(),l.width=t.nextTwoBytes(),l.height=t.nextTwoBytes();const u=t.nextByte(),h=(u&128)===128,f=(u&64)===64;l.sortFlag=(u&32)===32,l.reserved=(u&24)>>>3;const m=1<<(u&7)+1;h&&(l.localColorTable=_k(t,m));const y=A=>{const{r:j,g:U,b:W}=(h?l.localColorTable:e.globalColorTable)[A];return A!==r(null)?{r:j,g:U,b:W,a:255}:{r:j,g:U,b:W,a:n?~~((j+U+W)/3):0}},w=(()=>{try{return new ImageData(l.width,l.height,{colorSpace:"srgb"})}catch(A){if(A instanceof DOMException&&A.name==="IndexSizeError")return null;throw A}})();if(w==null)throw new EvalError("GIF frame size is to large");const T=t.nextByte(),S=t.readSubBlocksBin(),C=1<<T,b=(A,j)=>{const U=A>>>3,W=A&7;return(S[U]+(S[U+1]<<8)+(S[U+2]<<16)&(1<<j)-1<<W)>>>W};if(f){for(let A=0,j=T+1,U=0,W=[[0]],Q=0;Q<4;Q++)if(Qg[Q]<l.height){let Z=0,D=0,P=!1;for(;!P;){const k=A;if(A=b(U,j),U+=j+1,A===C){j=T+1,W.length=C+2;for(let N=0;N<W.length;N++)W[N]=N<C?[N]:[]}else{A>=W.length?W.push(W[k].concat(W[k][0])):k!==C&&W.push(W[k].concat(W[A][0]));for(const N of W[A]){const{r:F,g:$,b:O,a:Ue}=y(N);w.data.set([F,$,O,Ue],Qg[Q]*l.width+Wx[Q]*D+Z%(l.width*4)),Z+=4}W.length===1<<j&&j<12&&j++}Z===l.width*4*(D+1)&&(D++,Qg[Q]+Wx[Q]*D>=l.height&&(P=!0))}}l.image=w,l.bitmap=await createImageBitmap(w)}else{let A=0,j=T+1,U=0,W=-4,Q=!1;const Z=[[0]];for(;!Q;){const D=A;if(A=b(U,j),U+=j,A===C){j=T+1,Z.length=C+2;for(let P=0;P<Z.length;P++)Z[P]=P<C?[P]:[]}else{if(A===C+1){Q=!0;break}A>=Z.length?Z.push(Z[D].concat(Z[D][0])):D!==C&&Z.push(Z[D].concat(Z[A][0]));for(const P of Z[A]){const{r:k,g:N,b:F,a:$}=y(P);w.data.set([k,N,F,$],W+=4)}Z.length>=1<<j&&j<12&&j++}}l.image=w,l.bitmap=await createImageBitmap(w)}}async function R7(t,e,n,i,r,o){switch(t.nextByte()){case Ur.EndOfFile:return!0;case Ur.Image:await k7(t,e,n,i,r);break;case Ur.Extension:C7(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function A7(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function D7(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),o={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},l=new b7(new Uint8ClampedArray(r));if(l.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");o.width=l.nextTwoBytes(),o.height=l.nextTwoBytes();const u=l.nextByte(),h=(u&128)===128;o.colorRes=(u&112)>>>4,o.sortFlag=(u&8)===8;const f=1<<(u&7)+1,m=l.nextByte();o.pixelAspectRatio=l.nextByte(),o.pixelAspectRatio!==0&&(o.pixelAspectRatio=(o.pixelAspectRatio+15)/64),h&&(o.globalColorTable=_k(l,f));const y=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(W){if(W instanceof DOMException&&W.name==="IndexSizeError")return null;throw W}})();if(y==null)throw new Error("GIF frame size is to large");const{r:w,g:T,b:S}=o.globalColorTable[m];y.data.set(h?[w,T,S,255]:[0,0,0,0]);for(let W=4;W<y.data.length;W*=2)y.data.copyWithin(W,0,W);o.backgroundImage=y;let C=-1,b=!0,A=-1;const j=W=>(W&&(b=!0),C),U=W=>(W!=null&&(A=W),A);try{do b&&(o.frames.push({left:0,top:0,width:0,height:0,disposalMethod:ki.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),C++,A=-1,b=!1);while(!await R7(l,o,n,j,U,e));o.frames.length--;for(const W of o.frames){if(W.userInputDelayFlag&&W.delayTime===0){o.totalTime=1/0;break}o.totalTime+=W.delayTime}return o}catch(W){throw W instanceof EvalError?new Error(`error while parsing frame ${C} "${W.message}"`):W}}function M7(t){const{context:e,radius:n,particle:i,delta:r}=t,o=i.image;if(!o?.gifData||!o.gif)return;const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),u=l.getContext("2d");if(!u)throw new Error("could not create offscreen canvas context");u.imageSmoothingQuality="low",u.imageSmoothingEnabled=!1,u.clearRect(Dn.x,Dn.y,l.width,l.height),i.gifLoopCount===void 0&&(i.gifLoopCount=o.gifLoopCount??Zy);let h=i.gifFrame??I7;const f={x:-o.gifData.width*qx,y:-o.gifData.height*qx},m=o.gifData.frames[h];if(i.gifTime===void 0&&(i.gifTime=P7),!!m.bitmap){switch(e.scale(n/o.gifData.width,n/o.gifData.height),m.disposalMethod){case ki.UndefinedA:case ki.UndefinedB:case ki.UndefinedC:case ki.UndefinedD:case ki.Replace:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Dn.x,Dn.y,l.width,l.height);break;case ki.Combine:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y);break;case ki.RestoreBackground:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Dn.x,Dn.y,l.width,l.height),o.gifData.globalColorTable.length?u.putImageData(o.gifData.backgroundImage,f.x,f.y):u.putImageData(o.gifData.frames[Gx].image,f.x+m.left,f.y+m.top);break;case ki.RestorePrevious:{const y=u.getImageData(Dn.x,Dn.y,l.width,l.height);u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Dn.x,Dn.y,l.width,l.height),u.putImageData(y,Dn.x,Dn.y)}break}if(i.gifTime+=r.value,i.gifTime>m.delayTime){if(i.gifTime-=m.delayTime,++h>=o.gifData.frames.length){if(--i.gifLoopCount<=Zy)return;h=Gx,u.clearRect(Dn.x,Dn.y,l.width,l.height)}i.gifFrame=h}e.scale(o.gifData.width/n,o.gifData.height/n)}}async function O7(t){if(t.type!=="gif"){await Pp(t);return}t.loading=!0;try{t.gifData=await D7(t.source),t.gifLoopCount=A7(t.gifData)??Zy,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const N7=2,V7=1,L7=12,F7=1;class j7{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${hi} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:i,particle:r,opacity:o}=e,l=r.image,u=l?.element;if(l){if(n.globalAlpha=o,l.gif&&l.gifData)M7(e);else if(u){const h=l.ratio,f={x:-i,y:-i},m=i*N7;n.drawImage(u,f.x,f.y,m,m/h)}n.globalAlpha=V7}}getSidesCount(){return L7}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData;if(!r)return;const o=n.getFillColor(),l=i.find(h=>h.name===r.name||h.source===r.src);if(!l)return;const u=r.replaceColor??l.replaceColor;if(l.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let h;l.svgData&&o?h=await S7(l,r,o,n):h={color:o,data:l,element:l.element,gif:l.gif,gifData:l.gifData,gifLoopCount:l.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:l.ratio??F7,replaceColor:u,source:r.src},h.ratio||(h.ratio=1);const f=r.fill??n.shapeFill,m=r.close??n.shapeClose,y={image:h,fill:f,close:m};n.image=y.image,n.shapeFill=y.fill,n.shapeClose=y.close})()}}class z7{constructor(){this.src="",this.gif=!1}load(e){le(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class U7{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!n?.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const o=i.find(l=>l.name===r.name||l.src===r.src);if(o)o.load(r);else{const l=new z7;l.load(r),i.push(l)}}}needsPlugin(){return!0}}const B7=3;function $7(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${hi} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-B7),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let i;e.gif?i=O7:i=e.replaceColor?x7:Pp,await i(n)}catch{throw new Error(`${hi} ${e.name??e.src} not found`)}})}async function H7(t,e=!0){t.checkVersion("3.9.1"),$7(t);const n=new U7(t);await t.addPlugin(n,e),await t.addShape(new j7(t),e)}class W7 extends ga{constructor(){super(),this.sync=!1}load(e){le(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class q7 extends ga{constructor(){super(),this.sync=!1}load(e){le(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class G7{constructor(){this.count=0,this.delay=new W7,this.duration=new q7}load(e){le(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const cl=0,K7=-1,Kx=0,Qx=0;function Q7(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning)if(i.delayTime+=e.value,i.delayTime>=t.life.delay)r=!0,t.spawning=!1,i.delayTime=cl,i.time=cl;else return;if(i.duration===K7||t.spawning||(r?i.time=cl:i.time+=e.value,i.time<i.duration))return;if(i.time=cl,t.life.count>Kx&&t.life.count--,t.life.count===Kx){t.destroy();return}const o=$e(Qx,n.width),l=$e(Qx,n.width);t.position.x=Bn(o),t.position.y=Bn(l),t.spawning=!0,i.delayTime=cl,i.time=cl,t.reset();const u=t.options.life;u&&(i.delay=ve(u.delay.value)*hn,i.duration=ve(u.duration.value)*hn)}const Fo=0,Yx=1,Xx=-1;class Y7{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?ve(r.delay.value)*(r.delay.sync?Yx:Ke())/n.retina.reduceFactor*hn:Fo,delayTime:Fo,duration:n.retina.reduceFactor?ve(r.duration.value)*(r.duration.sync?Yx:Ke())/n.retina.reduceFactor*hn:Fo,time:Fo,count:r.count},e.life.duration<=Fo&&(e.life.duration=Xx),e.life.count<=Fo&&(e.life.count=Xx),e.life&&(e.spawning=e.life.delay>Fo))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new G7);for(const i of n)e.life.load(i?.life)}update(e,n){!this.isEnabled(e)||!e.life||Q7(e,n,this.container.canvas.size)}}async function X7(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new Y7(n)),e)}function J7(t){const{context:e,particle:n,radius:i}=t,r=n.shapeData,o=0;e.moveTo(-i,o),e.lineTo(i,o),e.lineCap=r?.cap??"butt"}const Z7=1;class eB{constructor(){this.validTypes=["line"]}draw(e){J7(e)}getSidesCount(){return Z7}}async function tB(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new eB,e)}const Jx=.5;class nB{init(){}isEnabled(e){return!oa()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(oa()||!r.enable)return;const o=r.force,l=n.interactivity.mouse.position;if(!l)return;const u=n.canvas.size,h={x:u.width*Jx,y:u.height*Jx},f=r.smooth,m=e.getRadius()/o,y={x:(l.x-h.x)*m,y:(l.y-h.y)*m},{offset:w}=e;w.x+=(y.x-w.x)/f,w.y+=(y.y-w.y)/f}}async function iB(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new nB),e)}const Zx=1e3,rB=1;class sB extends B_{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=ve(e.options.move.attract.distance)*n.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),o=n.particles.quadTree.queryCircle(r,i);for(const l of o){if(e===l||!l.options.move.attract.enable||l.destroyed||l.spawning)continue;const u=l.getPosition(),{dx:h,dy:f}=Tn(r,u),m=e.options.move.attract.rotate,y=h/(m.x*Zx),w=f/(m.y*Zx),T=l.size.value/e.size.value,S=rB/T;e.velocity.x-=y*T,e.velocity.y-=w*T,l.velocity.x+=y*S,l.velocity.y+=w*S}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function oB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new sB(n)),e)}const aB=.5,lB=10,uB=0;function eS(t,e,n,i,r,o){const l=di(t.options.collisions.absorb.speed*r.factor/lB,uB,i);t.size.value+=l*aB,n.size.value-=l,i<=o&&(n.size.value=0,n.destroy())}function cB(t,e,n,i){const r=t.getRadius(),o=e.getRadius();r===void 0&&o!==void 0?t.destroy():r!==void 0&&o===void 0?e.destroy():r!==void 0&&o!==void 0&&(r>=o?eS(t,r,e,o,n,i):eS(e,o,t,r,n,i))}const tS=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=ve(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function wk(t,e){XC(Qy(t),Qy(e)),tS(t),tS(e)}function hB(t,e){!t.unbreakable&&!e.unbreakable&&wk(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function dB(t,e,n,i){switch(t.options.collisions.mode){case Dl.absorb:{cB(t,e,n,i);break}case Dl.bounce:{wk(t,e);break}case Dl.destroy:{hB(t,e);break}}}const fB=2;class pB extends B_{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),o=e.getRadius(),l=i.particles.quadTree.queryCircle(r,o*fB);for(const u of l){if(e===u||!u.options.collisions.enable||e.options.collisions.mode!==u.options.collisions.mode||u.destroyed||u.spawning)continue;const h=u.getPosition(),f=u.getRadius();if(Math.abs(Math.round(r.z)-Math.round(h.z))>o+f)continue;const m=Hn(r,h),y=o+f;m>y||dB(e,u,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function mB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new pB(n)),e)}const Yg=2;class gB extends fn{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:o}=e;return super.contains(e)||super.contains({x:r-n,y:o})||super.contains({x:r-n,y:o-i})||super.contains({x:r,y:o-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const o=new fn(r.x,r.y,i.radius*Yg);return super.intersects(o)}else if(n.size!==void 0){const o=new zi(r.x,r.y,n.size.width*Yg,n.size.height*Yg);return super.intersects(o)}return!1}}class yB{constructor(){this.blur=5,this.color=new gn,this.color.value="#000",this.enable=!1}load(e){le(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=gn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class vB{constructor(){this.enable=!1,this.frequency=1}load(e){le(e)||(e.color!==void 0&&(this.color=gn.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class _B{constructor(){this.blink=!1,this.color=new gn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new yB,this.triangles=new vB,this.width=1,this.warp=!1}load(e){le(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=gn.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const nS=2,wB=1,Wd={x:0,y:0},EB=0;function TB(t,e,n,i,r){const{dx:o,dy:l,distance:u}=Tn(t,e);if(!r||u<=n)return u;const h={x:Math.abs(o),y:Math.abs(l)},f={x:Math.min(h.x,i.width-h.x),y:Math.min(h.y,i.height-h.y)};return Math.sqrt(f.x**nS+f.y**nS)}class xB extends B_{constructor(e,n){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,o=i.options.links;let l=o.id===void 0?r.particles.linksColor:r.particles.linksColors.get(o.id);if(l)return;const u=o.color;l=rk(this._engine,u,o.blink,o.consent),o.id===void 0?r.particles.linksColor=l:r.particles.linksColors.set(o.id,l)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<Wd.x||n.y<Wd.y||n.x>r.width||n.y>r.height)return;const o=e.options.links,l=o.opacity,u=e.retina.linksDistance??EB,h=o.warp;let f;h?f=new gB(n.x,n.y,u,r):f=new fn(n.x,n.y,u);const m=i.particles.quadTree.query(f);for(const y of m){const w=y.options.links;if(e===y||!w?.enable||o.id!==w.id||y.spawning||y.destroyed||!y.links||e.links.some(b=>b.destination===y)||y.links.some(b=>b.destination===e))continue;const T=y.getPosition();if(T.x<Wd.x||T.y<Wd.y||T.x>r.width||T.y>r.height)continue;const S=TB(n,T,u,r,h&&w.warp);if(S>u)continue;const C=(wB-S/u)*l;this._setColor(e),e.links.push({destination:y,opacity:C})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...n){e.links||(e.links=new _B);for(const i of n)e.links.load(i?.links)}reset(){}}async function SB(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new xB(n,t)),e)}function bB(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function IB(t){let e=!1;const{begin:n,end:i,engine:r,maxDistance:o,context:l,canvasSize:u,width:h,backgroundMask:f,colorLine:m,opacity:y,links:w}=t;if(Hn(n,i)<=o)bc(l,n,i),e=!0;else if(w.warp){let S,C;const b={x:i.x-u.width,y:i.y},A=Tn(n,b);if(A.distance<=o){const j=n.y-A.dy/A.dx*n.x;S={x:0,y:j},C={x:u.width,y:j}}else{const j={x:i.x,y:i.y-u.height},U=Tn(n,j);if(U.distance<=o){const Q=-(n.y-U.dy/U.dx*n.x)/(U.dy/U.dx);S={x:Q,y:0},C={x:Q,y:u.height}}else{const W={x:i.x-u.width,y:i.y-u.height},Q=Tn(n,W);if(Q.distance<=o){const Z=n.y-Q.dy/Q.dx*n.x;S={x:-Z/(Q.dy/Q.dx),y:Z},C={x:S.x+u.width,y:S.y+u.height}}}}S&&C&&(bc(l,n,S),bc(l,i,C),e=!0)}if(!e)return;l.lineWidth=h,f.enable&&(l.globalCompositeOperation=f.composite),l.strokeStyle=qr(m,y);const{shadow:T}=w;if(T.enable){const S=Li(r,T.color);S&&(l.shadowBlur=T.blur,l.shadowColor=qr(S))}l.stroke()}function PB(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:o,colorTriangle:l,opacityTriangle:u}=t;bB(e,n,i,r),o.enable&&(e.globalCompositeOperation=o.composite),e.fillStyle=qr(l,u),e.fill()}function CB(t){return t.sort((e,n)=>e-n),t.join("_")}function iS(t,e){const n=CB(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Ke(),e.set(n,i)),i}const rS=0,Xg=0,sS=0,kB=.5,RB=1;class AB{constructor(e,n){this._drawLinkLine=(i,r)=>{const o=i.options.links;if(!o?.enable)return;const l=this._container,u=l.actualOptions,h=r.destination,f=i.getPosition(),m=h.getPosition();let y=r.opacity;l.canvas.draw(w=>{let T;const S=i.options.twinkle?.lines;if(S?.enable){const j=S.frequency,U=Li(this._engine,S.color);Ke()<j&&U&&(T=U,y=ve(S.opacity))}if(!T){const j=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;T=Xy(i,h,j)}if(!T)return;const C=i.retina.linksWidth??Xg,b=i.retina.linksDistance??sS,{backgroundMask:A}=u;IB({context:w,width:C,begin:f,end:m,engine:this._engine,maxDistance:b,canvasSize:l.canvas.size,links:o,backgroundMask:A,colorLine:T,opacity:y})})},this._drawLinkTriangle=(i,r,o)=>{const l=i.options.links;if(!l?.enable)return;const u=l.triangles;if(!u.enable)return;const h=this._container,f=h.actualOptions,m=r.destination,y=o.destination,w=u.opacity??(r.opacity+o.opacity)*kB;w<=rS||h.canvas.draw(T=>{const S=i.getPosition(),C=m.getPosition(),b=y.getPosition(),A=i.retina.linksDistance??sS;if(Hn(S,C)>A||Hn(b,C)>A||Hn(b,S)>A)return;let j=Li(this._engine,u.color);if(!j){const U=l.id!==void 0?h.particles.linksColors.get(l.id):h.particles.linksColor;j=Xy(i,m,U)}j&&PB({context:T,pos1:S,pos2:C,pos3:b,backgroundMask:f.backgroundMask,colorTriangle:j,opacityTriangle:w})})},this._drawTriangles=(i,r,o,l)=>{const u=o.destination;if(!(i.links?.triangles.enable&&u.options.links?.triangles.enable))return;const h=u.links?.filter(f=>{const m=this._getLinkFrequency(u,f.destination);return u.options.links&&m<=u.options.links.frequency&&l.findIndex(w=>w.destination===f.destination)>=0});if(h?.length)for(const f of h){const m=f.destination;this._getTriangleFrequency(r,u,m)>i.links.triangles.frequency||this._drawLinkTriangle(r,o,f)}},this._getLinkFrequency=(i,r)=>iS([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,o)=>iS([i,r,o],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!i?.length)return;const o=i.filter(l=>r.links&&(r.links.frequency>=RB||this._getLinkFrequency(n,l.destination)<=r.links.frequency));for(const l of o)this._drawTriangles(r,n,l,o),l.opacity>rS&&(n.retina.linksWidth??Xg)>Xg&&this._drawLinkLine(n,l)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:o}=e.options.links;i.linksDistance=r*n,i.linksWidth=o*n}particleDestroyed(e){e.links=[]}}class DB{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new AB(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function MB(t,e=!0){const n=new DB(t);await t.addPlugin(n,e)}async function OB(t,e=!0){t.checkVersion("3.9.1"),await SB(t,e),await MB(t,e)}const NB=180,qd={x:0,y:0},VB=2;function LB(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,o=n.count.numerator/n.count.denominator,l=NB*(o-VB)/o,u=Math.PI-Bs(l);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(qd.x,qd.y);for(let h=0;h<r;h++)i.lineTo(n.length,qd.y),i.translate(n.length,qd.y),i.rotate(u)}}const FB=5;class Ek{draw(e){const{particle:n,radius:i}=e,r=this.getCenter(n,i),o=this.getSidesData(n,i);LB(e,r,o)}getSidesCount(e){const n=e.shapeData;return Math.round(ve(n?.sides??FB))}}const oS=3.5,aS=2.66,jB=3;class zB extends Ek{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/oS),y:-n/(aS/oS)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*aS/(i/jB)}}}const UB=1.66,BB=3,$B=2;class HB extends Ek{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/UB}}getSidesCount(){return BB}getSidesData(e,n){const i=n*$B;return{count:{denominator:2,numerator:3},length:i}}}async function WB(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new zB,e)}async function qB(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new HB,e)}async function GB(t,e=!0){t.checkVersion("3.9.1"),await WB(t,e),await qB(t,e)}class KB{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=$e(e.speed)),e.decay!==void 0&&(this.decay=$e(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class QB extends ga{constructor(){super(),this.animation=new KB,this.direction=Ai.clockwise,this.path=!1,this.value=0}load(e){le(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const Tk=2,YB=Math.PI*Tk,XB=1,JB=360;class ZB{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:Bs(ve(n.value)),min:0,max:YB},e.pathRotation=n.path;let i=n.direction;switch(i===Ai.random&&(i=Math.floor(Ke()*Tk)>0?Ai.counterClockwise:Ai.clockwise),i){case Ai.counterClockwise:case"counterClockwise":e.rotate.status=It.decreasing;break;case Ai.clockwise:e.rotate.status=It.increasing;break}const r=n.animation;r.enable&&(e.rotate.decay=XB-ve(r.decay),e.rotate.velocity=ve(r.speed)/JB*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ke())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new QB);for(const i of n)e.rotate.load(i?.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(F_(e,e.rotate,!1,ra.none,n),e.rotation=e.rotate.value))}}async function e$(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new ZB(n)),e)}const t$=2,n$=Math.sqrt(t$),i$=2;function r$(t){const{context:e,radius:n}=t,i=n/n$,r=i*i$;e.rect(-i,-i,r,r)}const s$=4;class o${constructor(){this.validTypes=["edge","square"]}draw(e){r$(e)}getSidesCount(){return s$}}async function a$(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new o$,e)}const l$=2,hl={x:0,y:0};function u$(t){const{context:e,particle:n,radius:i}=t,r=n.sides,o=n.starInset??l$;e.moveTo(hl.x,hl.y-i);for(let l=0;l<r;l++)e.rotate(Math.PI/r),e.lineTo(hl.x,hl.y-i*o),e.rotate(Math.PI/r),e.lineTo(hl.x,hl.y-i)}const c$=2,h$=5;class d${constructor(){this.validTypes=["star"]}draw(e){u$(e)}getSidesCount(e){const n=e.shapeData;return Math.round(ve(n?.sides??h$))}particleInit(e,n){const i=n.shapeData;n.starInset=ve(i?.inset??c$)}}async function f$(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new d$,e)}const p$=1;class m${constructor(e,n){this._container=e,this._engine=n}init(e){const n=this._container,i=e.options,r=ci(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=ve(r.width)*n.retina.pixelRatio,e.strokeOpacity=ve(r.opacity??p$),e.strokeAnimation=r.color?.animation;const o=Bc(this._engine,r.color)??e.getFillColor();o&&(e.strokeColor=sk(o,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&ok(e.strokeColor,n)}}async function g$(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new m$(n,t)),e)}async function y$(t,e=!0){t.checkVersion("3.9.1"),await iB(t,!1),await aU(t,!1),await gU(t,!1),await SU(t,!1),await OU(t,!1),await HU(t,!1),await GU(t,!1),await JU(t,!1),await n7(t,!1),await f7(t,!1),await v7(t,!1),await oB(t,!1),await mB(t,!1),await OB(t,!1),await X8(t,!1),await eU(t,!1),await H7(t,!1),await tB(t,!1),await GB(t,!1),await a$(t,!1),await f$(t,!1),await X7(t,!1),await e$(t,!1),await g$(t,!1),await Y8(t,e)}var xk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lS=et.createContext&&et.createContext(xk),v$=["attr","size","title"];function _$(t,e){if(t==null)return{};var n=w$(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function w$(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kf.apply(this,arguments)}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(i){E$(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function E$(t,e,n){return e=T$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T$(t){var e=x$(t,"string");return typeof e=="symbol"?e:e+""}function x$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sk(t){return t&&t.map((e,n)=>et.createElement(e.tag,Qf({key:n},e.attr),Sk(e.child)))}function Gn(t){return e=>et.createElement(S$,Kf({attr:Qf({},t.attr)},e),Sk(t.child))}function S$(t){var e=n=>{var{attr:i,size:r,title:o}=t,l=_$(t,v$),u=r||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),et.createElement("svg",Kf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:Qf(Qf({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&et.createElement("title",null,o),t.children)};return lS!==void 0?et.createElement(lS.Consumer,null,n=>e(n)):e(xk)}function b$(t){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(t)}function I$(t){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function P$(t){return Gn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function C$(t){return Gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function k$(t){return Gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function R$(t){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function A$(t){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function D$(t){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function M$(t){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function O$(t){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function N$(t){return Gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function V$(t){return Gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const L$="/Costas_Portfolio/assets/Hero-DEFoMTO8.png",F$=et.memo(()=>{const[t,e]=V.useState(!1);V.useEffect(()=>{n8(async o=>{await y$(o)}).then(()=>e(!0)).catch(o=>{console.error("Particles initialization failed:",o)})},[]);const n=V.useMemo(()=>({background:{color:{value:"transparent"}},fpsLimit:120,interactivity:{events:{onHover:{enable:!0,mode:"grab"},resize:!0},modes:{grab:{distance:200,links:{opacity:.8}}}},particles:{color:{value:"#a1a1aa"},links:{color:"#a1a1aa",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:2,straight:!1},number:{density:{enable:!0,area:800},value:100},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:3}}},detectRetina:!0}),[]),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return R.jsxs("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden bg-slate-50",children:[t&&R.jsx(t8,{id:"tsparticles",options:n,className:"absolute top-0 left-0 w-full h-full z-0"}),R.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[R.jsxs(Ze.div,{variants:i,initial:"hidden",animate:"visible",className:"md:col-span-3",children:[R.jsxs(Ze.h1,{variants:r,className:"text-5xl md:text-7xl font-extrabold text-slate-800 mb-4",children:[R.jsx("span",{className:"block mb-2 text-xl font-medium text-slate-500",children:"Hello, I'm"}),"Costas Pinto"]}),R.jsx(Ze.div,{variants:r,children:R.jsx(CF,{sequence:["AI Innovator",2e3,"Data Analyst",2e3,"Data Scientist",2e3,"Problem Solver",2e3,"Creative Thinker",2e3],wrapper:"p",speed:50,className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-800 h-10",repeat:1/0})}),R.jsx(Ze.p,{variants:r,className:"max-w-xl text-slate-600 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),R.jsxs(Ze.div,{variants:r,className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-6",children:[R.jsxs(Ze.a,{href:"/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.95},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-800 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all",children:[R.jsx(M$,{}),"Download CV"]}),R.jsxs("div",{className:"flex gap-4",children:[R.jsx(Ze.a,{whileHover:{y:-3},href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-blue-600 transition-colors",children:R.jsx(k$,{size:32})}),R.jsx(Ze.a,{whileHover:{y:-3},href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-slate-800 transition-colors",children:R.jsx(P$,{size:32})})]})]})]}),R.jsx(Ze.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{opacity:{duration:.8,delay:.4},scale:{duration:.8,delay:.4,type:"spring"},y:{duration:2.5,repeat:1/0,ease:"easeInOut"}},className:"md:col-span-2 flex justify-center items-center",children:R.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px]",children:[R.jsx(Ze.div,{animate:{rotate:360,scale:[1,1.05,1]},transition:{rotate:{duration:40,repeat:1/0,ease:"linear"},scale:{duration:5,repeat:1/0,ease:"easeInOut"}},className:"absolute inset-0 bg-gradient-to-tr from-blue-200 via-indigo-200 to-blue-300 rounded-full opacity-50 blur-3xl"}),R.jsx("div",{className:"relative z-10 flex justify-center items-center h-full",children:R.jsx("img",{loading:"lazy",src:L$,onError:o=>{o.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain"})})]})})]})]})}),no=et.memo(({children:t,id:e,className:n=""})=>{const i=V.useRef(null),r=LC(i,{once:!0,amount:.2}),o={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return R.jsx(Ze.section,{id:e,ref:i,variants:o,initial:"hidden",animate:r?"visible":"hidden",className:`py-16 md:py-20 ${n}`,children:t})}),io=et.memo(()=>{const t=V.useRef(null),e=LC(t,{once:!0,amount:.5}),n={hidden:{scaleX:0},visible:{scaleX:1,transition:{duration:.8,ease:[.25,1,.5,1]}}};return R.jsx("div",{ref:t,className:"h-1 w-24 mx-auto my-8",children:R.jsx(Ze.div,{className:"h-full bg-gradient-to-r from-blue-600 to-blue-800 rounded-full",style:{transformOrigin:"center"},variants:n,initial:"hidden",animate:e?"visible":"hidden"})})}),j$=et.memo(()=>R.jsxs(no,{id:"about",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"About Me"}),R.jsx(io,{}),R.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:R.jsx("p",{className:"text-lg leading-relaxed text-slate-600 text-center",children:"As an MCA student at Manipal University, Jaipur, with a background in Computer Science, I am deeply immersed in the fields of data analytics and machine learning. My internship at SkillFied Mentor solidified my expertise in data exploration, visualization, and interpretation using key technologies like Python, Excel, and Power BI. I am passionate about making complex subjects accessible and have a proven track record of doing so as the founder of JHT SMART STEPS LEARNING. I am now eager to apply my analytical skills and technical knowledge to solve new challenges in the AI and ML industry."})})]})),z$=et.memo(({date:t,title:e,company:n,details:i})=>R.jsxs(Ze.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-indigo-200",children:[R.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full border-4 border-white"}),R.jsx("p",{className:"text-slate-500 mb-1 font-medium",children:t}),R.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),R.jsx("p",{className:"text-lg text-blue-600 font-semibold mb-3",children:n}),R.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-2",children:i.map((r,o)=>R.jsx("li",{children:r},o))})]})),U$=et.memo(()=>{const t=[{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]},{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]}];return R.jsxs(no,{id:"experience",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Experience"}),R.jsx(io,{}),R.jsx("div",{className:"max-w-3xl mx-auto space-y-12",children:t.map((e,n)=>R.jsx(z$,{...e},n))})]})}),B$=et.memo(()=>{const[t,e]=V.useState("Programming Languages"),n=l=>{e(u=>u===l?null:l)},i={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},o={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return R.jsxs(no,{id:"skills",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Skills"}),R.jsx(io,{}),R.jsx("div",{className:"relative p-4 md:p-8 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:R.jsx("div",{className:"space-y-2",children:Object.entries(i).map(([l,u])=>R.jsxs("div",{className:"border-b border-slate-300/50 last:border-b-0",children:[R.jsxs("button",{onClick:()=>n(l),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-slate-700 focus:outline-none",children:[R.jsx("span",{children:l}),R.jsx(Ze.span,{animate:{rotate:t===l?180:0},children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),R.jsx(n_,{children:t===l&&R.jsx(Ze.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:R.jsx(Ze.div,{variants:r,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:u.map(h=>R.jsxs(Ze.div,{variants:o,children:[R.jsx("p",{className:"text-lg font-medium text-slate-600 mb-1",children:h.name}),R.jsx("div",{className:"bg-slate-300 w-full rounded-full h-2.5",children:R.jsx(Ze.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-blue-700",initial:{width:0},animate:{width:`${h.level}%`},transition:{duration:1,ease:"easeOut"}})})]},h.name))})})})]},l))})})]})}),$$=et.memo(()=>R.jsxs(no,{id:"achievements",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Key Achievements"}),R.jsx(io,{}),R.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:R.jsx("ul",{className:"space-y-4 text-lg text-slate-600",children:[{id:1,text:"Completed <strong>60+ Certifications</strong> from IBM, Google, Meta, Microsoft, and Forage."},{id:2,text:"Built and deployed <strong>25+ AI/Data/Full-stack projects</strong> solving real-world problems."},{id:3,text:"Earned top-tier recognitions in job simulations at <strong>BCG, Lloyds, BA, EA, TATA</strong>, and more."},{id:4,text:"Founded <strong>JHT SMART STEPS LEARNING</strong>  empowering students through digital education."}].map(t=>R.jsxs("li",{className:"flex items-start",children:[R.jsx("span",{className:"text-blue-600 mr-3 mt-1",children:""}),R.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}})]},t.id))})})]})),H$=et.memo(({year:t,title:e,details:n,icon:i})=>R.jsxs(Ze.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[R.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center shadow-md",children:i}),R.jsx("p",{className:"text-blue-600 mb-1 font-semibold",children:t}),R.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),R.jsx("p",{className:"text-slate-600 mt-1",children:n})]})),W$=et.memo(()=>{const t=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:R.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:R.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:R.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return R.jsxs(no,{id:"journey",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Learning Journey"}),R.jsx(io,{}),R.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:R.jsx("div",{className:"space-y-12",children:t.map(e=>R.jsx(H$,{...e},e.title))})})]})}),q$=V.memo(({projects:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return R.jsxs(no,{id:"projects",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Projects"}),R.jsx(io,{}),R.jsx("div",{className:"min-h-[60vh] w-full",children:t.length>0?R.jsx(Ze.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(i=>R.jsxs(Ze.div,{variants:n,className:"p-6 flex flex-col rounded-2xl bg-white shadow-lg md:bg-white/20 md:backdrop-blur-lg md:border md:border-white/30 transition-all duration-300 md:hover:shadow-2xl md:hover:shadow-blue-500/20 md:hover:-translate-y-1 overflow-hidden",children:[R.jsx("img",{loading:"lazy",src:i.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:i.title,className:"rounded-lg mb-4 aspect-video object-cover border border-slate-200/50"}),R.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:i.title}),R.jsx("p",{className:"text-slate-600 flex-grow mb-4",children:i.description}),R.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.tags?.map(r=>R.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-1 rounded-full",children:r},r))}),i.projectLink&&R.jsx("a",{href:i.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-blue-600 border border-blue-600 rounded-full py-2 px-4 hover:bg-blue-600 hover:text-white transition-all duration-300 z-10",children:"View Project"})]},i.id))}):R.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:R.jsx("p",{className:"text-center text-slate-500 text-lg",children:"No projects found. Please add some from the admin panel."})})})]})}),G$=({url:t,onClose:e})=>R.jsx(n_,{children:t&&R.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:R.jsxs(Ze.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:n=>n.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",children:[R.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[R.jsx("h3",{className:"font-bold text-lg text-slate-700",children:"Certificate Viewer"}),R.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800 transition-colors p-1 rounded-full hover:bg-slate-100","aria-label":"Close",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),R.jsx("div",{className:"flex-grow p-2 bg-slate-50",children:R.jsx("iframe",{src:t,title:"Certificate PDF Viewer",className:"w-full h-full border-none"})})]})})}),K$=et.memo(({licensesPdfUrl:t,internshipsPdfUrl:e})=>{const[n,i]=V.useState(null),r="inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-600 to-blue-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed";return R.jsxs(R.Fragment,{children:[R.jsxs(no,{id:"certifications",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Certificates"}),R.jsx(io,{}),R.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[R.jsx(Ze.button,{onClick:()=>i(t),disabled:!t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:r,children:"View Licenses & Certs"}),R.jsx(Ze.button,{onClick:()=>i(e),disabled:!e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:r,children:"View Internship Certs"})]})]}),R.jsx(G$,{url:n,onClose:()=>i(null)})]})});function Q$(t){return Gn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(t)}const Y$=et.memo(()=>{const[t,e]=V.useState({submitting:!1,succeeded:!1,error:null}),[n,i]=V.useState(null),r=V.useCallback(async u=>{u.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const h=u.target,f=new FormData(h);try{const m=await fetch(h.action,{method:h.method,body:f,headers:{Accept:"application/json"}});if(m.ok)e({submitting:!1,succeeded:!0,error:null}),h.reset(),setTimeout(()=>e(y=>({...y,succeeded:!1})),5e3);else{const w=(await m.json()).errors?.map(T=>T.message).join(", ")||"An unknown error occurred.";throw new Error(w)}}catch(m){e({submitting:!1,succeeded:!1,error:m.message}),setTimeout(()=>e(y=>({...y,error:null})),5e3)}},[]),o=V.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{i("Email copied to clipboard!"),setTimeout(()=>i(null),3e3)}).catch(h=>{console.error("Clipboard copy failed:",h),i("Could not copy email."),setTimeout(()=>i(null),3e3)})},[]),l=[{name:"Instagram",icon:R.jsx(C$,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:R.jsx(b$,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:R.jsx(R$,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:R.jsx(I$,{}),url:"https://facebook.com/costaspinto"}];return R.jsxs(no,{id:"contact",className:"bg-gradient-to-br from-[#e6efff] to-[#f8fbff] text-[#0f172a] font-sans !py-0",children:[R.jsxs("div",{className:"container mx-auto px-6 py-20 max-w-7xl",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Lets Get Connected!"}),R.jsx(io,{}),R.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-16",children:[R.jsxs("div",{className:"flex-1 space-y-10",children:[R.jsx("p",{className:"text-lg text-slate-600 max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),R.jsxs("div",{children:[R.jsx("p",{className:"text-lg font-semibold mb-4",children:"Follow Me"}),R.jsx("div",{className:"flex items-center gap-4",children:l.map(u=>R.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer","aria-label":u.name,className:"text-slate-500 hover:text-blue-600 transition-colors duration-300 text-2xl",children:u.icon},u.name))})]})]}),R.jsx("div",{className:"flex-1 bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-xl w-full max-w-lg border border-white/30",children:R.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:r,className:"space-y-6",children:[R.jsxs("div",{className:"relative",children:[R.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Name *"}),R.jsx(V$,{className:"absolute left-3 top-10 text-slate-400"}),R.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{className:"relative",children:[R.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Email *"}),R.jsx(O$,{className:"absolute left-3 top-10 text-slate-400"}),R.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{className:"relative",children:[R.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Service you are looking for *"}),R.jsx(D$,{className:"absolute left-3 top-10 text-slate-400"}),R.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Message"}),R.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.submitting,children:t.submitting?"Submitting...":"Submit"}),t.succeeded&&R.jsxs("p",{className:"flex items-center gap-2 text-green-600 text-sm mt-2",children:[R.jsx(A$,{})," Thanks for your message! I'll get back to you soon."]}),t.error&&R.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[R.jsx(N$,{})," Error: ",t.error]})]})})]})]}),R.jsx("footer",{className:"bg-[#0f172a] text-white py-12 mt-20",children:R.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[R.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-2",children:"I'm Available for Freelance Projects"}),R.jsx("p",{className:"text-gray-400",children:"Feel free to initiate a project and lets explore how we can collaborate."})]}),R.jsxs("div",{className:"flex gap-4 relative",children:[R.jsxs("button",{onClick:o,className:"flex items-center gap-2 border border-blue-500 text-blue-500 font-semibold py-2 px-4 rounded-xl hover:bg-blue-500 hover:text-white transition-colors",children:[R.jsx(Q$,{})," COPY EMAIL"]}),n&&R.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-green-400",children:n})]})]}),R.jsxs("div",{className:"border-t border-gray-700 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400",children:[R.jsx("span",{className:"font-semibold text-white",children:"Costas Pinto"}),R.jsxs("nav",{className:"flex gap-6",children:[R.jsx("a",{href:"#home",className:"hover:text-blue-500 transition",children:"Home"}),R.jsx("a",{href:"#about",className:"hover:text-blue-500 transition",children:"About"}),R.jsx("a",{href:"#portfolio",className:"hover:text-blue-500 transition",children:"Portfolio"})]}),R.jsx("div",{className:"flex items-center gap-4",children:l.map(u=>R.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-500 transition text-lg",children:u.icon},u.name))})]}),R.jsxs("p",{className:"text-center text-xs text-gray-500 pt-4",children:[" ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})})]})}),X$=V.lazy(()=>$R(()=>import("./AdminPanel-D0PJ-CtW.js"),[])),J$=()=>{const t=wS();return V.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace(/^\/Costas_Portfolio/,"");t(n||"/",{replace:!0})}},[t]),null},bk={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"};Object.entries(bk).forEach(([t,e])=>{e||console.error(` Missing Firebase environment variable: ${t}. Please check your .env file.`)});let Gd,pc,Ik,Pk;try{Gd=jS(bk),pc=KO(Gd),Ik=v3(Gd),Pk=W3(Gd)}catch(t){console.error(" Firebase initialization failed:",t)}const Z$=(t=768)=>{const[e,n]=V.useState(()=>typeof window<"u"?window.innerWidth<t:!1);return V.useEffect(()=>{if(typeof window>"u")return;const i=()=>n(window.innerWidth<t);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t]),e},eH=({projects:t=[],licensesPdfUrl:e="",internshipsPdfUrl:n="",isMobile:i})=>{const[r,o]=V.useState(!1),l=V.useCallback(()=>o(!1),[]),u=V.useCallback(()=>o(h=>!h),[]);return R.jsxs(R.Fragment,{children:[R.jsx(TF,{isMobileMenuOpen:r,closeMobileMenu:l,toggleMobileMenu:u}),R.jsxs("main",{className:"relative z-10",children:[R.jsx(F$,{}),R.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[R.jsx(j$,{}),R.jsx(U$,{}),R.jsx(B$,{}),R.jsx($$,{}),R.jsx(W$,{}),R.jsx(q$,{projects:t,isMobile:i}),R.jsx(K$,{licensesPdfUrl:e,internshipsPdfUrl:n})]})]}),R.jsx(Y$,{})]})};function tH(){const[t,e]=V.useState({projects:[],licensesPdfUrl:"",internshipsPdfUrl:""}),[n,i]=V.useState(!0),[r,o]=V.useState(null),l=Z$(),u=V.useCallback(async()=>{if(!pc){o("Firebase is not initialized. Check your .env settings."),i(!1);return}try{const f=(await aN(GO(pc,"projects"))).docs.map(T=>({id:T.id,...T.data()})),m=cI(pc,"portfolioAssets","main"),y=await oN(m),w=y.exists()?y.data():{};e({projects:f,licensesPdfUrl:w.licensesPdfUrl||"",internshipsPdfUrl:w.internshipsPdfUrl||""})}catch(h){console.error(" Firebase fetch error:",h),o("Failed to load portfolio data. Please try again later.")}finally{i(!1)}},[]);return V.useEffect(()=>{u()},[u]),n?R.jsx(rx,{}):r?R.jsx("div",{className:"text-center mt-20 p-4",children:R.jsx("h2",{className:"text-red-600 text-xl font-bold",children:r})}):R.jsxs(nL,{features:yF,children:[R.jsx(wF,{}),R.jsx("div",{className:"relative text-slate-800 font-sans overflow-x-hidden",children:R.jsx(FC,{children:R.jsxs(n2,{basename:"/Costas_Portfolio/",children:[R.jsx(J$,{}),R.jsx(V.Suspense,{fallback:R.jsx(rx,{}),children:R.jsxs(MA,{children:[R.jsx(Zg,{path:"/",element:R.jsx(eH,{projects:t.projects,licensesPdfUrl:t.licensesPdfUrl,internshipsPdfUrl:t.internshipsPdfUrl,isMobile:l})}),R.jsx(Zg,{path:"/admin",element:R.jsx(X$,{db:pc,auth:Ik,storage:Pk})})]})})]})})})]})}const nH=document.getElementById("root");zR.createRoot(nH).render(R.jsx(et.StrictMode,{children:R.jsx(FC,{children:R.jsx(tH,{})})}));export{n_ as A,rx as L,oN as a,cH as b,GO as c,cI as d,oH as e,aH as f,aN as g,sH as h,rH as i,R as j,Ze as m,uH as o,V as r,lH as s};
