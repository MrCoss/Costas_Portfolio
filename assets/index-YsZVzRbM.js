(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Ew(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var If={exports:{}},pl={},Af={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function kI(){if(Tv)return Re;Tv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,L={};function O(F,G,ge){this.props=F,this.context=G,this.refs=L,this.updater=ge||C}O.prototype.isReactComponent={},O.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function W(){}W.prototype=O.prototype;function q(F,G,ge){this.props=F,this.context=G,this.refs=L,this.updater=ge||C}var J=q.prototype=new W;J.constructor=q,b(J,O.prototype),J.isPureReactComponent=!0;var se=Array.isArray,ie=Object.prototype.hasOwnProperty,ue={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(F,G,ge){var Ce,xe={},be=null,je=null;if(G!=null)for(Ce in G.ref!==void 0&&(je=G.ref),G.key!==void 0&&(be=""+G.key),G)ie.call(G,Ce)&&!N.hasOwnProperty(Ce)&&(xe[Ce]=G[Ce]);var Ue=arguments.length-2;if(Ue===1)xe.children=ge;else if(1<Ue){for(var He=Array(Ue),St=0;St<Ue;St++)He[St]=arguments[St+2];xe.children=He}if(F&&F.defaultProps)for(Ce in Ue=F.defaultProps,Ue)xe[Ce]===void 0&&(xe[Ce]=Ue[Ce]);return{$$typeof:n,type:F,key:be,ref:je,props:xe,_owner:ue.current}}function x(F,G){return{$$typeof:n,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return G[ge]})}var j=/\/+/g;function R(F,G){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):G.toString(36)}function Je(F,G,ge,Ce,xe){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var je=!1;if(F===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(F.$$typeof){case n:case e:je=!0}}if(je)return je=F,xe=xe(je),F=Ce===""?"."+R(je,0):Ce,se(xe)?(ge="",F!=null&&(ge=F.replace(j,"$&/")+"/"),Je(xe,G,ge,"",function(St){return St})):xe!=null&&(D(xe)&&(xe=x(xe,ge+(!xe.key||je&&je.key===xe.key?"":(""+xe.key).replace(j,"$&/")+"/")+F)),G.push(xe)),1;if(je=0,Ce=Ce===""?".":Ce+":",se(F))for(var Ue=0;Ue<F.length;Ue++){be=F[Ue];var He=Ce+R(be,Ue);je+=Je(be,G,ge,He,xe)}else if(He=T(F),typeof He=="function")for(F=He.call(F),Ue=0;!(be=F.next()).done;)be=be.value,He=Ce+R(be,Ue++),je+=Je(be,G,ge,He,xe);else if(be==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return je}function Rt(F,G,ge){if(F==null)return F;var Ce=[],xe=0;return Je(F,Ce,"","",function(be){return G.call(ge,be,xe++)}),Ce}function kt(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var Ae={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ue};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Rt,forEach:function(F,G,ge){Rt(F,function(){G.apply(this,arguments)},ge)},count:function(F){var G=0;return Rt(F,function(){G++}),G},toArray:function(F){return Rt(F,function(G){return G})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Re.Component=O,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=q,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=oe,Re.cloneElement=function(F,G,ge){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ce=b({},F.props),xe=F.key,be=F.ref,je=F._owner;if(G!=null){if(G.ref!==void 0&&(be=G.ref,je=ue.current),G.key!==void 0&&(xe=""+G.key),F.type&&F.type.defaultProps)var Ue=F.type.defaultProps;for(He in G)ie.call(G,He)&&!N.hasOwnProperty(He)&&(Ce[He]=G[He]===void 0&&Ue!==void 0?Ue[He]:G[He])}var He=arguments.length-2;if(He===1)Ce.children=ge;else if(1<He){Ue=Array(He);for(var St=0;St<He;St++)Ue[St]=arguments[St+2];Ce.children=Ue}return{$$typeof:n,type:F.type,key:xe,ref:be,props:Ce,_owner:je}},Re.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Re.createElement=I,Re.createFactory=function(F){var G=I.bind(null,F);return G.type=F,G},Re.createRef=function(){return{current:null}},Re.forwardRef=function(F){return{$$typeof:d,render:F}},Re.isValidElement=D,Re.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:kt}},Re.memo=function(F,G){return{$$typeof:m,type:F,compare:G===void 0?null:G}},Re.startTransition=function(F){var G=ne.transition;ne.transition={};try{F()}finally{ne.transition=G}},Re.unstable_act=oe,Re.useCallback=function(F,G){return Ae.current.useCallback(F,G)},Re.useContext=function(F){return Ae.current.useContext(F)},Re.useDebugValue=function(){},Re.useDeferredValue=function(F){return Ae.current.useDeferredValue(F)},Re.useEffect=function(F,G){return Ae.current.useEffect(F,G)},Re.useId=function(){return Ae.current.useId()},Re.useImperativeHandle=function(F,G,ge){return Ae.current.useImperativeHandle(F,G,ge)},Re.useInsertionEffect=function(F,G){return Ae.current.useInsertionEffect(F,G)},Re.useLayoutEffect=function(F,G){return Ae.current.useLayoutEffect(F,G)},Re.useMemo=function(F,G){return Ae.current.useMemo(F,G)},Re.useReducer=function(F,G,ge){return Ae.current.useReducer(F,G,ge)},Re.useRef=function(F){return Ae.current.useRef(F)},Re.useState=function(F){return Ae.current.useState(F)},Re.useSyncExternalStore=function(F,G,ge){return Ae.current.useSyncExternalStore(F,G,ge)},Re.useTransition=function(){return Ae.current.useTransition()},Re.version="18.3.1",Re}var Sv;function $p(){return Sv||(Sv=1,Af.exports=kI()),Af.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function NI(){if(Iv)return pl;Iv=1;var n=$p(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},T=null,C=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(C=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:T,ref:C,props:w,_owner:o.current}}return pl.Fragment=t,pl.jsx=u,pl.jsxs=u,pl}var Av;function DI(){return Av||(Av=1,If.exports=NI()),If.exports}var P=DI(),ee=$p();const VI=Ew(ee);var Ic={},Pf={exports:{}},ln={},Cf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function bI(){return Pv||(Pv=1,function(n){function e(ne,me){var oe=ne.length;ne.push(me);e:for(;0<oe;){var F=oe-1>>>1,G=ne[F];if(0<o(G,me))ne[F]=me,ne[oe]=G,oe=F;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],oe=ne.pop();if(oe!==me){ne[0]=oe;e:for(var F=0,G=ne.length,ge=G>>>1;F<ge;){var Ce=2*(F+1)-1,xe=ne[Ce],be=Ce+1,je=ne[be];if(0>o(xe,oe))be<G&&0>o(je,xe)?(ne[F]=je,ne[be]=oe,F=be):(ne[F]=xe,ne[Ce]=oe,F=Ce);else if(be<G&&0>o(je,oe))ne[F]=je,ne[be]=oe,F=be;else break e}}return me}function o(ne,me){var oe=ne.sortIndex-me.sortIndex;return oe!==0?oe:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,T=3,C=!1,b=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ne){for(var me=t(m);me!==null;){if(me.callback===null)r(m);else if(me.startTime<=ne)r(m),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(m)}}function se(ne){if(L=!1,J(ne),!b)if(t(f)!==null)b=!0,kt(ie);else{var me=t(m);me!==null&&Ae(se,me.startTime-ne)}}function ie(ne,me){b=!1,L&&(L=!1,W(I),I=-1),C=!0;var oe=T;try{for(J(me),w=t(f);w!==null&&(!(w.expirationTime>me)||ne&&!M());){var F=w.callback;if(typeof F=="function"){w.callback=null,T=w.priorityLevel;var G=F(w.expirationTime<=me);me=n.unstable_now(),typeof G=="function"?w.callback=G:w===t(f)&&r(f),J(me)}else r(f);w=t(f)}if(w!==null)var ge=!0;else{var Ce=t(m);Ce!==null&&Ae(se,Ce.startTime-me),ge=!1}return ge}finally{w=null,T=oe,C=!1}}var ue=!1,N=null,I=-1,x=5,D=-1;function M(){return!(n.unstable_now()-D<x)}function j(){if(N!==null){var ne=n.unstable_now();D=ne;var me=!0;try{me=N(!0,ne)}finally{me?R():(ue=!1,N=null)}}else ue=!1}var R;if(typeof q=="function")R=function(){q(j)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Rt=Je.port2;Je.port1.onmessage=j,R=function(){Rt.postMessage(null)}}else R=function(){O(j,0)};function kt(ne){N=ne,ue||(ue=!0,R())}function Ae(ne,me){I=O(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){b||C||(b=!0,kt(ie))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var oe=T;T=me;try{return ne()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=T;T=ne;try{return me()}finally{T=oe}},n.unstable_scheduleCallback=function(ne,me,oe){var F=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,ne){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,ne={id:v++,callback:me,priorityLevel:ne,startTime:oe,expirationTime:G,sortIndex:-1},oe>F?(ne.sortIndex=oe,e(m,ne),t(f)===null&&ne===t(m)&&(L?(W(I),I=-1):L=!0,Ae(se,oe-F))):(ne.sortIndex=G,e(f,ne),b||C||(b=!0,kt(ie))),ne},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ne){var me=T;return function(){var oe=T;T=me;try{return ne.apply(this,arguments)}finally{T=oe}}}}(xf)),xf}var Cv;function MI(){return Cv||(Cv=1,Cf.exports=bI()),Cf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function LI(){if(xv)return ln;xv=1;var n=$p(),e=MI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(i){return f.call(w,i)?!0:f.call(v,i)?!1:m.test(i)?w[i]=!0:(v[i]=!0,!1)}function C(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,s,l,h){if(s===null||typeof s>"u"||C(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(i,s,l,h,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){O[i]=new L(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];O[s]=new L(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){O[i]=new L(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){O[i]=new L(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){O[i]=new L(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){O[i]=new L(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){O[i]=new L(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){O[i]=new L(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){O[i]=new L(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,q);O[s]=new L(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,q);O[s]=new L(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,q);O[s]=new L(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){O[i]=new L(i,1,!1,i.toLowerCase(),null,!1,!1)}),O.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){O[i]=new L(i,1,!1,i.toLowerCase(),null,!0,!0)});function J(i,s,l,h){var p=O.hasOwnProperty(s)?O[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,p,h)&&(l=null),h||p===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ue=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,F;function G(i){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+i}var ge=!1;function Ce(i,s){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){h=$}i.call(s.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,A=y.length-1;1<=E&&0<=A&&p[E]!==y[A];)A--;for(;1<=E&&0<=A;E--,A--)if(p[E]!==y[A]){if(E!==1||A!==1)do if(E--,A--,0>A||p[E]!==y[A]){var k=`
`+p[E].replace(" at new "," at ");return i.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",i.displayName)),k}while(1<=E&&0<=A);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?G(i):""}function xe(i){switch(i.tag){case 5:return G(i.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case ue:return"Portal";case x:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Je:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case j:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Rt:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case kt:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}function je(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(i){var s=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ir(i){i._valueTracker||(i._valueTracker=St(i))}function Hs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=He(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Zr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Yi(i,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ws(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function wa(i,s){s=s.checked,s!=null&&J(i,"checked",s,!1)}function Ea(i,s){wa(i,s);var l=Ue(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?qs(i,s.type,l):s.hasOwnProperty("defaultValue")&&qs(i,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function uu(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function qs(i,s,l){(s!=="number"||Zr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ar=Array.isArray;function Pr(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Ta(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ks(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Ar(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Ue(l)}}function Gs(i,s){var l=Ue(s.value),h=Ue(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Sa(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Cr,Ia=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Cr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ei(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(i){Zi.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Ji[s]=Ji[i]})});function Aa(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ji.hasOwnProperty(i)&&Ji[i]?(""+s).trim():s+"px"}function Pa(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Aa(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var Ca=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(i,s){if(s){if(Ca[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ra(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var es=null;function Qs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xs=null,Tn=null,nr=null;function Ys(i){if(i=Za(i)){if(typeof Xs!="function")throw Error(t(280));var s=i.stateNode;s&&(s=ju(s),Xs(i.stateNode,i.type,s))}}function rr(i){Tn?nr?nr.push(i):nr=[i]:Tn=i}function ka(){if(Tn){var i=Tn,s=nr;if(nr=Tn=null,Ys(i),s)for(i=0;i<s.length;i++)Ys(s[i])}}function ts(i,s){return i(s)}function Na(){}var xr=!1;function Da(i,s,l){if(xr)return i(s,l);xr=!0;try{return ts(i,s,l)}finally{xr=!1,(Tn!==null||nr!==null)&&(Na(),ka())}}function at(i,s){var l=i.stateNode;if(l===null)return null;var h=ju(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Js=!1;if(d)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Js=!1}function ns(i,s,l,h,p,y,E,A,k){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(Y){this.onError(Y)}}var rs=!1,Zs=null,On=!1,Va=null,Yh={onError:function(i){rs=!0,Zs=i}};function eo(i,s,l,h,p,y,E,A,k){rs=!1,Zs=null,ns.apply(Yh,arguments)}function cu(i,s,l,h,p,y,E,A,k){if(eo.apply(this,arguments),rs){if(rs){var $=Zs;rs=!1,Zs=null}else throw Error(t(198));On||(On=!0,Va=$)}}function Fn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function is(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function jn(i){if(Fn(i)!==i)throw Error(t(188))}function hu(i){var s=i.alternate;if(!s){if(s=Fn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return jn(p),i;if(y===h)return jn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,h=y;break}if(A===h){E=!0,h=p,l=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===l){E=!0,l=y,h=p;break}if(A===h){E=!0,h=y,l=p;break}A=A.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function ba(i){return i=hu(i),i!==null?to(i):null}function to(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=to(i);if(s!==null)return s;i=i.sibling}return null}var no=e.unstable_scheduleCallback,Ma=e.unstable_cancelCallback,du=e.unstable_shouldYield,Jh=e.unstable_requestPaint,We=e.unstable_now,fu=e.unstable_getCurrentPriorityLevel,ss=e.unstable_ImmediatePriority,ti=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,La=e.unstable_LowPriority,pu=e.unstable_IdlePriority,os=null,hn=null;function mu(i){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(os,i,void 0,(i.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:yu,Oa=Math.log,gu=Math.LN2;function yu(i){return i>>>=0,i===0?32:31-(Oa(i)/gu|0)|0}var ro=64,io=4194304;function ni(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function as(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,E=l&268435455;if(E!==0){var A=E&~p;A!==0?h=ni(A):(y&=E,y!==0&&(h=ni(y)))}else E=l&~p,E!==0?h=ni(E):y!==0&&(h=ni(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Xt(s),p=1<<l,h|=i[l],s&=~p;return h}function Zh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var E=31-Xt(y),A=1<<E,k=p[E];k===-1?((A&l)===0||(A&h)!==0)&&(p[E]=Zh(A,s)):k<=s&&(i.expiredLanes|=A),y&=~A}}function dn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ls(){var i=ro;return ro<<=1,(ro&4194240)===0&&(ro=64),i}function ri(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ii(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Xt(s),i[s]=l}function $e(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Xt(l),y=1<<p;s[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function si(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Xt(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}var Ve=0;function oi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var vu,so,_u,wu,Eu,Fa=!1,ir=[],Nt=null,Un=null,Bn=null,ai=new Map,In=new Map,sr=[],ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(i,s){switch(i){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ai.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(s.pointerId)}}function en(i,s,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Za(s),s!==null&&so(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function td(i,s,l,h,p){switch(s){case"focusin":return Nt=en(Nt,i,s,l,h,p),!0;case"dragenter":return Un=en(Un,i,s,l,h,p),!0;case"mouseover":return Bn=en(Bn,i,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return ai.set(y,en(ai.get(y)||null,i,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,In.set(y,en(In.get(y)||null,i,s,l,h,p)),!0}return!1}function Su(i){var s=fs(i.target);if(s!==null){var l=Fn(s);if(l!==null){if(s=l.tag,s===13){if(s=is(l),s!==null){i.blockedOn=s,Eu(i.priority,function(){_u(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=oo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);es=h,l.target.dispatchEvent(h),es=null}else return s=Za(l),s!==null&&so(s),i.blockedOn=l,!1;s.shift()}return!0}function us(i,s,l){kr(i)&&l.delete(s)}function Iu(){Fa=!1,Nt!==null&&kr(Nt)&&(Nt=null),Un!==null&&kr(Un)&&(Un=null),Bn!==null&&kr(Bn)&&(Bn=null),ai.forEach(us),In.forEach(us)}function zn(i,s){i.blockedOn===s&&(i.blockedOn=null,Fa||(Fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iu)))}function $n(i){function s(p){return zn(p,i)}if(0<ir.length){zn(ir[0],i);for(var l=1;l<ir.length;l++){var h=ir[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Nt!==null&&zn(Nt,i),Un!==null&&zn(Un,i),Bn!==null&&zn(Bn,i),ai.forEach(s),In.forEach(s),l=0;l<sr.length;l++)h=sr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)Su(l),l.blockedOn===null&&sr.shift()}var Nr=se.ReactCurrentBatchConfig,li=!0;function Ze(i,s,l,h){var p=Ve,y=Nr.transition;Nr.transition=null;try{Ve=1,ja(i,s,l,h)}finally{Ve=p,Nr.transition=y}}function nd(i,s,l,h){var p=Ve,y=Nr.transition;Nr.transition=null;try{Ve=4,ja(i,s,l,h)}finally{Ve=p,Nr.transition=y}}function ja(i,s,l,h){if(li){var p=oo(i,s,l,h);if(p===null)fd(i,s,h,cs,l),Tu(i,h);else if(td(p,i,s,l,h))h.stopPropagation();else if(Tu(i,h),s&4&&-1<ed.indexOf(i)){for(;p!==null;){var y=Za(p);if(y!==null&&vu(y),y=oo(i,s,l,h),y===null&&fd(i,s,h,cs,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else fd(i,s,h,null,l)}}var cs=null;function oo(i,s,l,h){if(cs=null,i=Qs(h),i=fs(i),i!==null)if(s=Fn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=is(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return cs=i,null}function Ua(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fu()){case ss:return 1;case ti:return 4;case Sn:case La:return 16;case pu:return 536870912;default:return 16}default:return 16}}var fn=null,ao=null,tn=null;function Ba(){if(tn)return tn;var i,s=ao,l=s.length,h,p="value"in fn?fn.value:fn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var E=l-i;for(h=1;h<=E&&s[l-h]===p[y-h];h++);return tn=p.slice(i,1<h?1-h:void 0)}function lo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function or(){return!0}function za(){return!1}function Dt(i){function s(l,h,p,y,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?or:za,this.isPropagationStopped=za,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Dt(Hn),ar=oe({},Hn,{view:0,detail:0}),rd=Dt(ar),co,Dr,ui,hs=oe({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ui&&(ui&&i.type==="mousemove"?(co=i.screenX-ui.screenX,Dr=i.screenY-ui.screenY):Dr=co=0,ui=i),co)},movementY:function(i){return"movementY"in i?i.movementY:Dr}}),ho=Dt(hs),$a=oe({},hs,{dataTransfer:0}),Au=Dt($a),fo=oe({},ar,{relatedTarget:0}),po=Dt(fo),Pu=oe({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vr=Dt(Pu),Cu=oe({},Hn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xu=Dt(Cu),Ru=oe({},Hn,{data:0}),Ha=Dt(Ru),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ku[i])?!!s[i]:!1}function lr(){return Nu}var c=oe({},ar,{key:function(i){if(i.key){var s=mo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(i){return i.type==="keypress"?lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Dt(c),_=oe({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Dt(_),U=oe({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),H=Dt(U),re=oe({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Dt(re),vt=oe({},hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Dt(vt),It=[9,13,27,32],ht=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var pn=d&&"TextEvent"in window&&!An,ds=d&&(!ht||An&&8<An&&11>=An),go=" ",gg=!1;function yg(i,s){switch(i){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yo=!1;function CS(i,s){switch(i){case"compositionend":return vg(s);case"keypress":return s.which!==32?null:(gg=!0,go);case"textInput":return i=s.data,i===go&&gg?null:i;default:return null}}function xS(i,s){if(yo)return i==="compositionend"||!ht&&yg(i,s)?(i=Ba(),tn=ao=fn=null,yo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ds&&s.locale!=="ko"?null:s.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!RS[i.type]:s==="textarea"}function wg(i,s,l,h){rr(h),s=Lu(s,"onChange"),0<s.length&&(l=new uo("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Wa=null,qa=null;function kS(i){Fg(i,0)}function Du(i){var s=To(i);if(Hs(s))return i}function NS(i,s){if(i==="change")return s}var Eg=!1;if(d){var id;if(d){var sd="oninput"in document;if(!sd){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),sd=typeof Tg.oninput=="function"}id=sd}else id=!1;Eg=id&&(!document.documentMode||9<document.documentMode)}function Sg(){Wa&&(Wa.detachEvent("onpropertychange",Ig),qa=Wa=null)}function Ig(i){if(i.propertyName==="value"&&Du(qa)){var s=[];wg(s,qa,i,Qs(i)),Da(kS,s)}}function DS(i,s,l){i==="focusin"?(Sg(),Wa=s,qa=l,Wa.attachEvent("onpropertychange",Ig)):i==="focusout"&&Sg()}function VS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Du(qa)}function bS(i,s){if(i==="click")return Du(s)}function MS(i,s){if(i==="input"||i==="change")return Du(s)}function LS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:LS;function Ka(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Wn(i[p],s[p]))return!1}return!0}function Ag(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pg(i,s){var l=Ag(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ag(l)}}function Cg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Cg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function xg(){for(var i=window,s=Zr();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Zr(i.document)}return s}function od(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function OS(i){var s=xg(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Cg(l.ownerDocument.documentElement,l)){if(h!==null&&od(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=Pg(l,y);var E=Pg(l,h);p&&E&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var FS=d&&"documentMode"in document&&11>=document.documentMode,vo=null,ad=null,Ga=null,ld=!1;function Rg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ld||vo==null||vo!==Zr(h)||(h=vo,"selectionStart"in h&&od(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ga&&Ka(Ga,h)||(Ga=h,h=Lu(ad,"onSelect"),0<h.length&&(s=new uo("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=vo)))}function Vu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var _o={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},ud={},kg={};d&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function bu(i){if(ud[i])return ud[i];if(!_o[i])return i;var s=_o[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in kg)return ud[i]=s[l];return i}var Ng=bu("animationend"),Dg=bu("animationiteration"),Vg=bu("animationstart"),bg=bu("transitionend"),Mg=new Map,Lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(i,s){Mg.set(i,s),a(s,[i])}for(var cd=0;cd<Lg.length;cd++){var hd=Lg[cd],jS=hd.toLowerCase(),US=hd[0].toUpperCase()+hd.slice(1);ci(jS,"on"+US)}ci(Ng,"onAnimationEnd"),ci(Dg,"onAnimationIteration"),ci(Vg,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(bg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function Og(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,cu(h,s,void 0,i),i.currentTarget=null}function Fg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var A=h[E],k=A.instance,$=A.currentTarget;if(A=A.listener,k!==y&&p.isPropagationStopped())break e;Og(p,A,$),y=k}else for(E=0;E<h.length;E++){if(A=h[E],k=A.instance,$=A.currentTarget,A=A.listener,k!==y&&p.isPropagationStopped())break e;Og(p,A,$),y=k}}}if(On)throw i=Va,On=!1,Va=null,i}function Ke(i,s){var l=s[_d];l===void 0&&(l=s[_d]=new Set);var h=i+"__bubble";l.has(h)||(jg(s,i,2,!1),l.add(h))}function dd(i,s,l){var h=0;s&&(h|=4),jg(l,i,h,s)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Xa(i){if(!i[Mu]){i[Mu]=!0,r.forEach(function(l){l!=="selectionchange"&&(BS.has(l)||dd(l,!1,i),dd(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Mu]||(s[Mu]=!0,dd("selectionchange",!1,s))}}function jg(i,s,l,h){switch(Ua(s)){case 1:var p=Ze;break;case 4:p=nd;break;default:p=ja}l=p.bind(null,s,l,i),p=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function fd(i,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var A=h.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===p||k.nodeType===8&&k.parentNode===p))return;E=E.return}for(;A!==null;){if(E=fs(A),E===null)return;if(k=E.tag,k===5||k===6){h=y=E;continue e}A=A.parentNode}}h=h.return}Da(function(){var $=y,Y=Qs(l),Z=[];e:{var X=Mg.get(i);if(X!==void 0){var ae=uo,he=i;switch(i){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":ae=g;break;case"focusin":he="focus",ae=po;break;case"focusout":he="blur",ae=po;break;case"beforeblur":case"afterblur":ae=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=H;break;case Ng:case Dg:case Vg:ae=Vr;break;case bg:ae=ze;break;case"scroll":ae=rd;break;case"wheel":ae=Me;break;case"copy":case"cut":case"paste":ae=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=S}var de=(s&4)!==0,lt=!de&&i==="scroll",B=de?X!==null?X+"Capture":null:X;de=[];for(var V=$,z;V!==null;){z=V;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,B!==null&&(te=at(V,B),te!=null&&de.push(Ya(V,te,z)))),lt)break;V=V.return}0<de.length&&(X=new ae(X,he,null,l,Y),Z.push({event:X,listeners:de}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",X&&l!==es&&(he=l.relatedTarget||l.fromElement)&&(fs(he)||he[br]))break e;if((ae||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,ae?(he=l.relatedTarget||l.toElement,ae=$,he=he?fs(he):null,he!==null&&(lt=Fn(he),he!==lt||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=$),ae!==he)){if(de=ho,te="onMouseLeave",B="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(de=S,te="onPointerLeave",B="onPointerEnter",V="pointer"),lt=ae==null?X:To(ae),z=he==null?X:To(he),X=new de(te,V+"leave",ae,l,Y),X.target=lt,X.relatedTarget=z,te=null,fs(Y)===$&&(de=new de(B,V+"enter",he,l,Y),de.target=z,de.relatedTarget=lt,te=de),lt=te,ae&&he)t:{for(de=ae,B=he,V=0,z=de;z;z=wo(z))V++;for(z=0,te=B;te;te=wo(te))z++;for(;0<V-z;)de=wo(de),V--;for(;0<z-V;)B=wo(B),z--;for(;V--;){if(de===B||B!==null&&de===B.alternate)break t;de=wo(de),B=wo(B)}de=null}else de=null;ae!==null&&Ug(Z,X,ae,de,!1),he!==null&&lt!==null&&Ug(Z,lt,he,de,!0)}}e:{if(X=$?To($):window,ae=X.nodeName&&X.nodeName.toLowerCase(),ae==="select"||ae==="input"&&X.type==="file")var pe=NS;else if(_g(X))if(Eg)pe=MS;else{pe=VS;var ve=DS}else(ae=X.nodeName)&&ae.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(pe=bS);if(pe&&(pe=pe(i,$))){wg(Z,pe,l,Y);break e}ve&&ve(i,X,$),i==="focusout"&&(ve=X._wrapperState)&&ve.controlled&&X.type==="number"&&qs(X,"number",X.value)}switch(ve=$?To($):window,i){case"focusin":(_g(ve)||ve.contentEditable==="true")&&(vo=ve,ad=$,Ga=null);break;case"focusout":Ga=ad=vo=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Rg(Z,l,Y);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":Rg(Z,l,Y)}var _e;if(ht)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else yo?yg(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(ds&&l.locale!=="ko"&&(yo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&yo&&(_e=Ba()):(fn=Y,ao="value"in fn?fn.value:fn.textContent,yo=!0)),ve=Lu($,Se),0<ve.length&&(Se=new Ha(Se,i,null,l,Y),Z.push({event:Se,listeners:ve}),_e?Se.data=_e:(_e=vg(l),_e!==null&&(Se.data=_e)))),(_e=pn?CS(i,l):xS(i,l))&&($=Lu($,"onBeforeInput"),0<$.length&&(Y=new Ha("onBeforeInput","beforeinput",null,l,Y),Z.push({event:Y,listeners:$}),Y.data=_e))}Fg(Z,s)})}function Ya(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Lu(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=at(i,l),y!=null&&h.unshift(Ya(i,y,p)),y=at(i,s),y!=null&&h.push(Ya(i,y,p))),i=i.return}return h}function wo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ug(i,s,l,h,p){for(var y=s._reactName,E=[];l!==null&&l!==h;){var A=l,k=A.alternate,$=A.stateNode;if(k!==null&&k===h)break;A.tag===5&&$!==null&&(A=$,p?(k=at(l,y),k!=null&&E.unshift(Ya(l,k,A))):p||(k=at(l,y),k!=null&&E.push(Ya(l,k,A)))),l=l.return}E.length!==0&&i.push({event:s,listeners:E})}var zS=/\r\n?/g,$S=/\u0000|\uFFFD/g;function Bg(i){return(typeof i=="string"?i:""+i).replace(zS,`
`).replace($S,"")}function Ou(i,s,l){if(s=Bg(s),Bg(i)!==s&&l)throw Error(t(425))}function Fu(){}var pd=null,md=null;function gd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,HS=typeof clearTimeout=="function"?clearTimeout:void 0,zg=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof zg<"u"?function(i){return zg.resolve(null).then(i).catch(qS)}:yd;function qS(i){setTimeout(function(){throw i})}function vd(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),$n(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);$n(s)}function hi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function $g(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),ur="__reactFiber$"+Eo,Ja="__reactProps$"+Eo,br="__reactContainer$"+Eo,_d="__reactEvents$"+Eo,KS="__reactListeners$"+Eo,GS="__reactHandles$"+Eo;function fs(i){var s=i[ur];if(s)return s;for(var l=i.parentNode;l;){if(s=l[br]||l[ur]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=$g(i);i!==null;){if(l=i[ur])return l;i=$g(i)}return s}i=l,l=i.parentNode}return null}function Za(i){return i=i[ur]||i[br],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function To(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ju(i){return i[Ja]||null}var wd=[],So=-1;function di(i){return{current:i}}function Ge(i){0>So||(i.current=wd[So],wd[So]=null,So--)}function qe(i,s){So++,wd[So]=i.current,i.current=s}var fi={},Ut=di(fi),nn=di(!1),ps=fi;function Io(i,s){var l=i.type.contextTypes;if(!l)return fi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function rn(i){return i=i.childContextTypes,i!=null}function Uu(){Ge(nn),Ge(Ut)}function Hg(i,s,l){if(Ut.current!==fi)throw Error(t(168));qe(Ut,s),qe(nn,l)}function Wg(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,je(i)||"Unknown",p));return oe({},l,h)}function Bu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||fi,ps=Ut.current,qe(Ut,i),qe(nn,nn.current),!0}function qg(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Wg(i,s,ps),h.__reactInternalMemoizedMergedChildContext=i,Ge(nn),Ge(Ut),qe(Ut,i)):Ge(nn),qe(nn,l)}var Mr=null,zu=!1,Ed=!1;function Kg(i){Mr===null?Mr=[i]:Mr.push(i)}function QS(i){zu=!0,Kg(i)}function pi(){if(!Ed&&Mr!==null){Ed=!0;var i=0,s=Ve;try{var l=Mr;for(Ve=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Mr=null,zu=!1}catch(p){throw Mr!==null&&(Mr=Mr.slice(i+1)),no(ss,pi),p}finally{Ve=s,Ed=!1}}return null}var Ao=[],Po=0,$u=null,Hu=0,Pn=[],Cn=0,ms=null,Lr=1,Or="";function gs(i,s){Ao[Po++]=Hu,Ao[Po++]=$u,$u=i,Hu=s}function Gg(i,s,l){Pn[Cn++]=Lr,Pn[Cn++]=Or,Pn[Cn++]=ms,ms=i;var h=Lr;i=Or;var p=32-Xt(h)-1;h&=~(1<<p),l+=1;var y=32-Xt(s)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Lr=1<<32-Xt(s)+p|l<<p|h,Or=y+i}else Lr=1<<y|l<<p|h,Or=i}function Td(i){i.return!==null&&(gs(i,1),Gg(i,1,0))}function Sd(i){for(;i===$u;)$u=Ao[--Po],Ao[Po]=null,Hu=Ao[--Po],Ao[Po]=null;for(;i===ms;)ms=Pn[--Cn],Pn[Cn]=null,Or=Pn[--Cn],Pn[Cn]=null,Lr=Pn[--Cn],Pn[Cn]=null}var mn=null,gn=null,et=!1,qn=null;function Qg(i,s){var l=Nn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Xg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,mn=i,gn=hi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,mn=i,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ms!==null?{id:Lr,overflow:Or}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Nn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,mn=i,gn=null,!0):!1;default:return!1}}function Id(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ad(i){if(et){var s=gn;if(s){var l=s;if(!Xg(i,s)){if(Id(i))throw Error(t(418));s=hi(l.nextSibling);var h=mn;s&&Xg(i,s)?Qg(h,l):(i.flags=i.flags&-4097|2,et=!1,mn=i)}}else{if(Id(i))throw Error(t(418));i.flags=i.flags&-4097|2,et=!1,mn=i}}}function Yg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;mn=i}function Wu(i){if(i!==mn)return!1;if(!et)return Yg(i),et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!gd(i.type,i.memoizedProps)),s&&(s=gn)){if(Id(i))throw Jg(),Error(t(418));for(;s;)Qg(i,s),s=hi(s.nextSibling)}if(Yg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){gn=hi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}gn=null}}else gn=mn?hi(i.stateNode.nextSibling):null;return!0}function Jg(){for(var i=gn;i;)i=hi(i.nextSibling)}function Co(){gn=mn=null,et=!1}function Pd(i){qn===null?qn=[i]:qn.push(i)}var XS=se.ReactCurrentBatchConfig;function el(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var A=p.refs;E===null?delete A[y]:A[y]=E},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function qu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Zg(i){var s=i._init;return s(i._payload)}function ey(i){function s(B,V){if(i){var z=B.deletions;z===null?(B.deletions=[V],B.flags|=16):z.push(V)}}function l(B,V){if(!i)return null;for(;V!==null;)s(B,V),V=V.sibling;return null}function h(B,V){for(B=new Map;V!==null;)V.key!==null?B.set(V.key,V):B.set(V.index,V),V=V.sibling;return B}function p(B,V){return B=Ti(B,V),B.index=0,B.sibling=null,B}function y(B,V,z){return B.index=z,i?(z=B.alternate,z!==null?(z=z.index,z<V?(B.flags|=2,V):z):(B.flags|=2,V)):(B.flags|=1048576,V)}function E(B){return i&&B.alternate===null&&(B.flags|=2),B}function A(B,V,z,te){return V===null||V.tag!==6?(V=vf(z,B.mode,te),V.return=B,V):(V=p(V,z),V.return=B,V)}function k(B,V,z,te){var pe=z.type;return pe===N?Y(B,V,z.props.children,te,z.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===kt&&Zg(pe)===V.type)?(te=p(V,z.props),te.ref=el(B,V,z),te.return=B,te):(te=gc(z.type,z.key,z.props,null,B.mode,te),te.ref=el(B,V,z),te.return=B,te)}function $(B,V,z,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=_f(z,B.mode,te),V.return=B,V):(V=p(V,z.children||[]),V.return=B,V)}function Y(B,V,z,te,pe){return V===null||V.tag!==7?(V=Is(z,B.mode,te,pe),V.return=B,V):(V=p(V,z),V.return=B,V)}function Z(B,V,z){if(typeof V=="string"&&V!==""||typeof V=="number")return V=vf(""+V,B.mode,z),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ie:return z=gc(V.type,V.key,V.props,null,B.mode,z),z.ref=el(B,null,V),z.return=B,z;case ue:return V=_f(V,B.mode,z),V.return=B,V;case kt:var te=V._init;return Z(B,te(V._payload),z)}if(Ar(V)||me(V))return V=Is(V,B.mode,z,null),V.return=B,V;qu(B,V)}return null}function X(B,V,z,te){var pe=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return pe!==null?null:A(B,V,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:return z.key===pe?k(B,V,z,te):null;case ue:return z.key===pe?$(B,V,z,te):null;case kt:return pe=z._init,X(B,V,pe(z._payload),te)}if(Ar(z)||me(z))return pe!==null?null:Y(B,V,z,te,null);qu(B,z)}return null}function ae(B,V,z,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number")return B=B.get(z)||null,A(V,B,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ie:return B=B.get(te.key===null?z:te.key)||null,k(V,B,te,pe);case ue:return B=B.get(te.key===null?z:te.key)||null,$(V,B,te,pe);case kt:var ve=te._init;return ae(B,V,z,ve(te._payload),pe)}if(Ar(te)||me(te))return B=B.get(z)||null,Y(V,B,te,pe,null);qu(V,te)}return null}function he(B,V,z,te){for(var pe=null,ve=null,_e=V,Se=V=0,Ct=null;_e!==null&&Se<z.length;Se++){_e.index>Se?(Ct=_e,_e=null):Ct=_e.sibling;var Fe=X(B,_e,z[Se],te);if(Fe===null){_e===null&&(_e=Ct);break}i&&_e&&Fe.alternate===null&&s(B,_e),V=y(Fe,V,Se),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe,_e=Ct}if(Se===z.length)return l(B,_e),et&&gs(B,Se),pe;if(_e===null){for(;Se<z.length;Se++)_e=Z(B,z[Se],te),_e!==null&&(V=y(_e,V,Se),ve===null?pe=_e:ve.sibling=_e,ve=_e);return et&&gs(B,Se),pe}for(_e=h(B,_e);Se<z.length;Se++)Ct=ae(_e,B,Se,z[Se],te),Ct!==null&&(i&&Ct.alternate!==null&&_e.delete(Ct.key===null?Se:Ct.key),V=y(Ct,V,Se),ve===null?pe=Ct:ve.sibling=Ct,ve=Ct);return i&&_e.forEach(function(Si){return s(B,Si)}),et&&gs(B,Se),pe}function de(B,V,z,te){var pe=me(z);if(typeof pe!="function")throw Error(t(150));if(z=pe.call(z),z==null)throw Error(t(151));for(var ve=pe=null,_e=V,Se=V=0,Ct=null,Fe=z.next();_e!==null&&!Fe.done;Se++,Fe=z.next()){_e.index>Se?(Ct=_e,_e=null):Ct=_e.sibling;var Si=X(B,_e,Fe.value,te);if(Si===null){_e===null&&(_e=Ct);break}i&&_e&&Si.alternate===null&&s(B,_e),V=y(Si,V,Se),ve===null?pe=Si:ve.sibling=Si,ve=Si,_e=Ct}if(Fe.done)return l(B,_e),et&&gs(B,Se),pe;if(_e===null){for(;!Fe.done;Se++,Fe=z.next())Fe=Z(B,Fe.value,te),Fe!==null&&(V=y(Fe,V,Se),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe);return et&&gs(B,Se),pe}for(_e=h(B,_e);!Fe.done;Se++,Fe=z.next())Fe=ae(_e,B,Se,Fe.value,te),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Se:Fe.key),V=y(Fe,V,Se),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(RI){return s(B,RI)}),et&&gs(B,Se),pe}function lt(B,V,z,te){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:e:{for(var pe=z.key,ve=V;ve!==null;){if(ve.key===pe){if(pe=z.type,pe===N){if(ve.tag===7){l(B,ve.sibling),V=p(ve,z.props.children),V.return=B,B=V;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===kt&&Zg(pe)===ve.type){l(B,ve.sibling),V=p(ve,z.props),V.ref=el(B,ve,z),V.return=B,B=V;break e}l(B,ve);break}else s(B,ve);ve=ve.sibling}z.type===N?(V=Is(z.props.children,B.mode,te,z.key),V.return=B,B=V):(te=gc(z.type,z.key,z.props,null,B.mode,te),te.ref=el(B,V,z),te.return=B,B=te)}return E(B);case ue:e:{for(ve=z.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){l(B,V.sibling),V=p(V,z.children||[]),V.return=B,B=V;break e}else{l(B,V);break}else s(B,V);V=V.sibling}V=_f(z,B.mode,te),V.return=B,B=V}return E(B);case kt:return ve=z._init,lt(B,V,ve(z._payload),te)}if(Ar(z))return he(B,V,z,te);if(me(z))return de(B,V,z,te);qu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,V!==null&&V.tag===6?(l(B,V.sibling),V=p(V,z),V.return=B,B=V):(l(B,V),V=vf(z,B.mode,te),V.return=B,B=V),E(B)):l(B,V)}return lt}var xo=ey(!0),ty=ey(!1),Ku=di(null),Gu=null,Ro=null,Cd=null;function xd(){Cd=Ro=Gu=null}function Rd(i){var s=Ku.current;Ge(Ku),i._currentValue=s}function kd(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function ko(i,s){Gu=i,Cd=Ro=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(sn=!0),i.firstContext=null)}function xn(i){var s=i._currentValue;if(Cd!==i)if(i={context:i,memoizedValue:s,next:null},Ro===null){if(Gu===null)throw Error(t(308));Ro=i,Gu.dependencies={lanes:0,firstContext:i}}else Ro=Ro.next=i;return s}var ys=null;function Nd(i){ys===null?ys=[i]:ys.push(i)}function ny(i,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Nd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Fr(i,h)}function Fr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var mi=!1;function Dd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function jr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function gi(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Fr(i,l)}return p=h.interleaved,p===null?(s.next=s,Nd(h)):(s.next=p.next,p.next=s),h.interleaved=s,Fr(i,l)}function Qu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,si(i,l)}}function iy(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Xu(i,s,l,h){var p=i.updateQueue;mi=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var k=A,$=k.next;k.next=null,E===null?y=$:E.next=$,E=k;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==E&&(A===null?Y.firstBaseUpdate=$:A.next=$,Y.lastBaseUpdate=k))}if(y!==null){var Z=p.baseState;E=0,Y=$=k=null,A=y;do{var X=A.lane,ae=A.eventTime;if((h&X)===X){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var he=i,de=A;switch(X=s,ae=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){Z=he.call(ae,Z,X);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,X=typeof he=="function"?he.call(ae,Z,X):he,X==null)break e;Z=oe({},Z,X);break e;case 2:mi=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,X=p.effects,X===null?p.effects=[A]:X.push(A))}else ae={eventTime:ae,lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?($=Y=ae,k=Z):Y=Y.next=ae,E|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;X=A,A=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);if(Y===null&&(k=Z),p.baseState=k,p.firstBaseUpdate=$,p.lastBaseUpdate=Y,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);ws|=E,i.lanes=E,i.memoizedState=Z}}function sy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var tl={},cr=di(tl),nl=di(tl),rl=di(tl);function vs(i){if(i===tl)throw Error(t(174));return i}function Vd(i,s){switch(qe(rl,s),qe(nl,i),qe(cr,tl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=yt(s,i)}Ge(cr),qe(cr,s)}function No(){Ge(cr),Ge(nl),Ge(rl)}function oy(i){vs(rl.current);var s=vs(cr.current),l=yt(s,i.type);s!==l&&(qe(nl,i),qe(cr,l))}function bd(i){nl.current===i&&(Ge(cr),Ge(nl))}var tt=di(0);function Yu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Md=[];function Ld(){for(var i=0;i<Md.length;i++)Md[i]._workInProgressVersionPrimary=null;Md.length=0}var Ju=se.ReactCurrentDispatcher,Od=se.ReactCurrentBatchConfig,_s=0,nt=null,_t=null,At=null,Zu=!1,il=!1,sl=0,YS=0;function Bt(){throw Error(t(321))}function Fd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Wn(i[l],s[l]))return!1;return!0}function jd(i,s,l,h,p,y){if(_s=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ju.current=i===null||i.memoizedState===null?tI:nI,i=l(h,p),il){y=0;do{if(il=!1,sl=0,25<=y)throw Error(t(301));y+=1,At=_t=null,s.updateQueue=null,Ju.current=rI,i=l(h,p)}while(il)}if(Ju.current=nc,s=_t!==null&&_t.next!==null,_s=0,At=_t=nt=null,Zu=!1,s)throw Error(t(300));return i}function Ud(){var i=sl!==0;return sl=0,i}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?nt.memoizedState=At=i:At=At.next=i,At}function Rn(){if(_t===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var s=At===null?nt.memoizedState:At.next;if(s!==null)At=s,_t=i;else{if(i===null)throw Error(t(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},At===null?nt.memoizedState=At=i:At=At.next=i}return At}function ol(i,s){return typeof s=="function"?s(i):s}function Bd(i){var s=Rn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=_t,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var A=E=null,k=null,$=y;do{var Y=$.lane;if((_s&Y)===Y)k!==null&&(k=k.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var Z={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};k===null?(A=k=Z,E=h):k=k.next=Z,nt.lanes|=Y,ws|=Y}$=$.next}while($!==null&&$!==y);k===null?E=h:k.next=A,Wn(h,s.memoizedState)||(sn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=k,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,nt.lanes|=y,ws|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function zd(i){var s=Rn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=i(y,E.action),E=E.next;while(E!==p);Wn(y,s.memoizedState)||(sn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function ay(){}function ly(i,s){var l=nt,h=Rn(),p=s(),y=!Wn(h.memoizedState,p);if(y&&(h.memoizedState=p,sn=!0),h=h.queue,$d(hy.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,al(9,cy.bind(null,l,h,p,s),void 0,null),Pt===null)throw Error(t(349));(_s&30)!==0||uy(l,s,p)}return p}function uy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function cy(i,s,l,h){s.value=l,s.getSnapshot=h,dy(s)&&fy(i)}function hy(i,s,l){return l(function(){dy(s)&&fy(i)})}function dy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Wn(i,l)}catch{return!0}}function fy(i){var s=Fr(i,1);s!==null&&Xn(s,i,1,-1)}function py(i){var s=hr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:i},s.queue=i,i=i.dispatch=eI.bind(null,nt,i),[s.memoizedState,i]}function al(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function my(){return Rn().memoizedState}function ec(i,s,l,h){var p=hr();nt.flags|=i,p.memoizedState=al(1|s,l,void 0,h===void 0?null:h)}function tc(i,s,l,h){var p=Rn();h=h===void 0?null:h;var y=void 0;if(_t!==null){var E=_t.memoizedState;if(y=E.destroy,h!==null&&Fd(h,E.deps)){p.memoizedState=al(s,l,y,h);return}}nt.flags|=i,p.memoizedState=al(1|s,l,y,h)}function gy(i,s){return ec(8390656,8,i,s)}function $d(i,s){return tc(2048,8,i,s)}function yy(i,s){return tc(4,2,i,s)}function vy(i,s){return tc(4,4,i,s)}function _y(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function wy(i,s,l){return l=l!=null?l.concat([i]):null,tc(4,4,_y.bind(null,s,i),l)}function Hd(){}function Ey(i,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Fd(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Ty(i,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Fd(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function Sy(i,s,l){return(_s&21)===0?(i.baseState&&(i.baseState=!1,sn=!0),i.memoizedState=l):(Wn(l,s)||(l=ls(),nt.lanes|=l,ws|=l,i.baseState=!0),s)}function JS(i,s){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var h=Od.transition;Od.transition={};try{i(!1),s()}finally{Ve=l,Od.transition=h}}function Iy(){return Rn().memoizedState}function ZS(i,s,l){var h=wi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ay(i))Py(s,l);else if(l=ny(i,s,l,h),l!==null){var p=Zt();Xn(l,i,h,p),Cy(l,s,h)}}function eI(i,s,l){var h=wi(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ay(i))Py(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,A=y(E,l);if(p.hasEagerState=!0,p.eagerState=A,Wn(A,E)){var k=s.interleaved;k===null?(p.next=p,Nd(s)):(p.next=k.next,k.next=p),s.interleaved=p;return}}catch{}finally{}l=ny(i,s,p,h),l!==null&&(p=Zt(),Xn(l,i,h,p),Cy(l,s,h))}}function Ay(i){var s=i.alternate;return i===nt||s!==null&&s===nt}function Py(i,s){il=Zu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Cy(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,si(i,l)}}var nc={readContext:xn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},tI={readContext:xn,useCallback:function(i,s){return hr().memoizedState=[i,s===void 0?null:s],i},useContext:xn,useEffect:gy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,ec(4194308,4,_y.bind(null,s,i),l)},useLayoutEffect:function(i,s){return ec(4194308,4,i,s)},useInsertionEffect:function(i,s){return ec(4,2,i,s)},useMemo:function(i,s){var l=hr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=hr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=ZS.bind(null,nt,i),[h.memoizedState,i]},useRef:function(i){var s=hr();return i={current:i},s.memoizedState=i},useState:py,useDebugValue:Hd,useDeferredValue:function(i){return hr().memoizedState=i},useTransition:function(){var i=py(!1),s=i[0];return i=JS.bind(null,i[1]),hr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=nt,p=hr();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Pt===null)throw Error(t(349));(_s&30)!==0||uy(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,gy(hy.bind(null,h,y,i),[i]),h.flags|=2048,al(9,cy.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=hr(),s=Pt.identifierPrefix;if(et){var l=Or,h=Lr;l=(h&~(1<<32-Xt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=sl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=YS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},nI={readContext:xn,useCallback:Ey,useContext:xn,useEffect:$d,useImperativeHandle:wy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Ty,useReducer:Bd,useRef:my,useState:function(){return Bd(ol)},useDebugValue:Hd,useDeferredValue:function(i){var s=Rn();return Sy(s,_t.memoizedState,i)},useTransition:function(){var i=Bd(ol)[0],s=Rn().memoizedState;return[i,s]},useMutableSource:ay,useSyncExternalStore:ly,useId:Iy,unstable_isNewReconciler:!1},rI={readContext:xn,useCallback:Ey,useContext:xn,useEffect:$d,useImperativeHandle:wy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Ty,useReducer:zd,useRef:my,useState:function(){return zd(ol)},useDebugValue:Hd,useDeferredValue:function(i){var s=Rn();return _t===null?s.memoizedState=i:Sy(s,_t.memoizedState,i)},useTransition:function(){var i=zd(ol)[0],s=Rn().memoizedState;return[i,s]},useMutableSource:ay,useSyncExternalStore:ly,useId:Iy,unstable_isNewReconciler:!1};function Kn(i,s){if(i&&i.defaultProps){s=oe({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Wd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:oe({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var rc={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=Zt(),p=wi(i),y=jr(h,p);y.payload=s,l!=null&&(y.callback=l),s=gi(i,y,p),s!==null&&(Xn(s,i,p,h),Qu(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=Zt(),p=wi(i),y=jr(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=gi(i,y,p),s!==null&&(Xn(s,i,p,h),Qu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Zt(),h=wi(i),p=jr(l,h);p.tag=2,s!=null&&(p.callback=s),s=gi(i,p,h),s!==null&&(Xn(s,i,h,l),Qu(s,i,h))}};function xy(i,s,l,h,p,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!Ka(l,h)||!Ka(p,y):!0}function Ry(i,s,l){var h=!1,p=fi,y=s.contextType;return typeof y=="object"&&y!==null?y=xn(y):(p=rn(s)?ps:Ut.current,h=s.contextTypes,y=(h=h!=null)?Io(i,p):fi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=rc,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function ky(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&rc.enqueueReplaceState(s,s.state,null)}function qd(i,s,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Dd(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=xn(y):(y=rn(s)?ps:Ut.current,p.context=Io(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Wd(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&rc.enqueueReplaceState(p,p.state,null),Xu(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Do(i,s){try{var l="",h=s;do l+=xe(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Kd(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Gd(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var iI=typeof WeakMap=="function"?WeakMap:Map;function Ny(i,s,l){l=jr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){cc||(cc=!0,cf=h),Gd(i,s)},l}function Dy(i,s,l){l=jr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Gd(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Gd(i,s),typeof h!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Vy(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new iI;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),i=vI.bind(null,i,s,l),s.then(i,i))}function by(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function My(i,s,l,h,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=jr(-1,1),s.tag=2,gi(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var sI=se.ReactCurrentOwner,sn=!1;function Jt(i,s,l,h){s.child=i===null?ty(s,null,l,h):xo(s,i.child,l,h)}function Ly(i,s,l,h,p){l=l.render;var y=s.ref;return ko(s,p),h=jd(i,s,l,h,y,p),l=Ud(),i!==null&&!sn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Ur(i,s,p)):(et&&l&&Td(s),s.flags|=1,Jt(i,s,h,p),s.child)}function Oy(i,s,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!yf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Fy(i,s,y,h,p)):(i=gc(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ka,l(E,h)&&i.ref===s.ref)return Ur(i,s,p)}return s.flags|=1,i=Ti(y,h),i.ref=s.ref,i.return=s,s.child=i}function Fy(i,s,l,h,p){if(i!==null){var y=i.memoizedProps;if(Ka(y,h)&&i.ref===s.ref)if(sn=!1,s.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(sn=!0);else return s.lanes=i.lanes,Ur(i,s,p)}return Qd(i,s,l,h,p)}function jy(i,s,l){var h=s.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(bo,yn),yn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,qe(bo,yn),yn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,qe(bo,yn),yn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,qe(bo,yn),yn|=h;return Jt(i,s,p,l),s.child}function Uy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Qd(i,s,l,h,p){var y=rn(l)?ps:Ut.current;return y=Io(s,y),ko(s,p),l=jd(i,s,l,h,y,p),h=Ud(),i!==null&&!sn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Ur(i,s,p)):(et&&h&&Td(s),s.flags|=1,Jt(i,s,l,p),s.child)}function By(i,s,l,h,p){if(rn(l)){var y=!0;Bu(s)}else y=!1;if(ko(s,p),s.stateNode===null)sc(i,s),Ry(s,l,h),qd(s,l,h,p),h=!0;else if(i===null){var E=s.stateNode,A=s.memoizedProps;E.props=A;var k=E.context,$=l.contextType;typeof $=="object"&&$!==null?$=xn($):($=rn(l)?ps:Ut.current,$=Io(s,$));var Y=l.getDerivedStateFromProps,Z=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==h||k!==$)&&ky(s,E,h,$),mi=!1;var X=s.memoizedState;E.state=X,Xu(s,h,E,p),k=s.memoizedState,A!==h||X!==k||nn.current||mi?(typeof Y=="function"&&(Wd(s,l,Y,h),k=s.memoizedState),(A=mi||xy(s,l,A,h,X,k,$))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),E.props=h,E.state=k,E.context=$,h=A):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,ry(i,s),A=s.memoizedProps,$=s.type===s.elementType?A:Kn(s.type,A),E.props=$,Z=s.pendingProps,X=E.context,k=l.contextType,typeof k=="object"&&k!==null?k=xn(k):(k=rn(l)?ps:Ut.current,k=Io(s,k));var ae=l.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==Z||X!==k)&&ky(s,E,h,k),mi=!1,X=s.memoizedState,E.state=X,Xu(s,h,E,p);var he=s.memoizedState;A!==Z||X!==he||nn.current||mi?(typeof ae=="function"&&(Wd(s,l,ae,h),he=s.memoizedState),($=mi||xy(s,l,$,h,X,he,k)||!1)?(Y||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,k),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,k)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),E.props=h,E.state=he,E.context=k,h=$):(typeof E.componentDidUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),h=!1)}return Xd(i,s,l,h,y,p)}function Xd(i,s,l,h,p,y){Uy(i,s);var E=(s.flags&128)!==0;if(!h&&!E)return p&&qg(s,l,!1),Ur(i,s,y);h=s.stateNode,sI.current=s;var A=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&E?(s.child=xo(s,i.child,null,y),s.child=xo(s,null,A,y)):Jt(i,s,A,y),s.memoizedState=h.state,p&&qg(s,l,!0),s.child}function zy(i){var s=i.stateNode;s.pendingContext?Hg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Hg(i,s.context,!1),Vd(i,s.containerInfo)}function $y(i,s,l,h,p){return Co(),Pd(p),s.flags|=256,Jt(i,s,l,h),s.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Jd(i){return{baseLanes:i,cachePool:null,transitions:null}}function Hy(i,s,l){var h=s.pendingProps,p=tt.current,y=!1,E=(s.flags&128)!==0,A;if((A=E)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),qe(tt,p&1),i===null)return Ad(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,i=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=yc(E,h,0,null),i=Is(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=Jd(l),s.memoizedState=Yd,i):Zd(s,E));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return oI(i,s,E,h,A,p,l);if(y){y=h.fallback,E=s.mode,p=i.child,A=p.sibling;var k={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=Ti(p,k),h.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=Ti(A,y):(y=Is(y,E,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=i.child.memoizedState,E=E===null?Jd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=i.childLanes&~l,s.memoizedState=Yd,h}return y=i.child,i=y.sibling,h=Ti(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function Zd(i,s){return s=yc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ic(i,s,l,h){return h!==null&&Pd(h),xo(s,i.child,null,l),i=Zd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function oI(i,s,l,h,p,y,E){if(l)return s.flags&256?(s.flags&=-257,h=Kd(Error(t(422))),ic(i,s,E,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=yc({mode:"visible",children:h.children},p,0,null),y=Is(y,p,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&xo(s,i.child,null,E),s.child.memoizedState=Jd(E),s.memoizedState=Yd,y);if((s.mode&1)===0)return ic(i,s,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var A=h.dgst;return h=A,y=Error(t(419)),h=Kd(y,h,void 0),ic(i,s,E,h)}if(A=(E&i.childLanes)!==0,sn||A){if(h=Pt,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Fr(i,p),Xn(h,i,p,-1))}return gf(),h=Kd(Error(t(421))),ic(i,s,E,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=_I.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,gn=hi(p.nextSibling),mn=s,et=!0,qn=null,i!==null&&(Pn[Cn++]=Lr,Pn[Cn++]=Or,Pn[Cn++]=ms,Lr=i.id,Or=i.overflow,ms=s),s=Zd(s,h.children),s.flags|=4096,s)}function Wy(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),kd(i.return,s,l)}function ef(i,s,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function qy(i,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Jt(i,s,h.children,l),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Wy(i,l,s);else if(i.tag===19)Wy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(qe(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Yu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),ef(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Yu(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}ef(s,!0,l,null,y);break;case"together":ef(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Ur(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ws|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ti(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ti(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function aI(i,s,l){switch(s.tag){case 3:zy(s),Co();break;case 5:oy(s);break;case 1:rn(s.type)&&Bu(s);break;case 4:Vd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;qe(Ku,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(tt,tt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Hy(i,s,l):(qe(tt,tt.current&1),i=Ur(i,s,l),i!==null?i.sibling:null);qe(tt,tt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return qy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),qe(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,jy(i,s,l)}return Ur(i,s,l)}var Ky,tf,Gy,Qy;Ky=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},tf=function(){},Gy=function(i,s,l,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,vs(cr.current);var y=null;switch(l){case"input":p=Yi(i,p),h=Yi(i,h),y=[];break;case"select":p=oe({},p,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":p=Ta(i,p),h=Ta(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Fu)}xa(l,h);var E;l=null;for($ in p)if(!h.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var A=p[$];for(E in A)A.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var k=h[$];if(A=p?.[$],h.hasOwnProperty($)&&k!==A&&(k!=null||A!=null))if($==="style")if(A){for(E in A)!A.hasOwnProperty(E)||k&&k.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in k)k.hasOwnProperty(E)&&A[E]!==k[E]&&(l||(l={}),l[E]=k[E])}else l||(y||(y=[]),y.push($,l)),l=k;else $==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,A=A?A.__html:void 0,k!=null&&A!==k&&(y=y||[]).push($,k)):$==="children"?typeof k!="string"&&typeof k!="number"||(y=y||[]).push($,""+k):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(k!=null&&$==="onScroll"&&Ke("scroll",i),y||A===k||(y=[])):(y=y||[]).push($,k))}l&&(y=y||[]).push("style",l);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},Qy=function(i,s,l,h){l!==h&&(s.flags|=4)};function ll(i,s){if(!et)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function zt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function lI(i,s,l){var h=s.pendingProps;switch(Sd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return rn(s.type)&&Uu(),zt(s),null;case 3:return h=s.stateNode,No(),Ge(nn),Ge(Ut),Ld(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Wu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(ff(qn),qn=null))),tf(i,s),zt(s),null;case 5:bd(s);var p=vs(rl.current);if(l=s.type,i!==null&&s.stateNode!=null)Gy(i,s,l,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return zt(s),null}if(i=vs(cr.current),Wu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[ur]=s,h[Ja]=y,i=(s.mode&1)!==0,l){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(p=0;p<Qa.length;p++)Ke(Qa[p],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":Ws(h,y),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",h);break;case"textarea":Ks(h,y),Ke("invalid",h)}xa(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var A=y[E];E==="children"?typeof A=="string"?h.textContent!==A&&(y.suppressHydrationWarning!==!0&&Ou(h.textContent,A,i),p=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&Ou(h.textContent,A,i),p=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Ke("scroll",h)}switch(l){case"input":Ir(h),uu(h,y,!0);break;case"textarea":Ir(h),Sa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Fu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(l,{is:h.is}):(i=E.createElement(l),l==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,l),i[ur]=s,i[Ja]=h,Ky(i,s,!1,!1),s.stateNode=i;e:{switch(E=Ra(l,h),l){case"dialog":Ke("cancel",i),Ke("close",i),p=h;break;case"iframe":case"object":case"embed":Ke("load",i),p=h;break;case"video":case"audio":for(p=0;p<Qa.length;p++)Ke(Qa[p],i);p=h;break;case"source":Ke("error",i),p=h;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),p=h;break;case"details":Ke("toggle",i),p=h;break;case"input":Ws(i,h),p=Yi(i,h),Ke("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=oe({},h,{value:void 0}),Ke("invalid",i);break;case"textarea":Ks(i,h),p=Ta(i,h),Ke("invalid",i);break;default:p=h}xa(l,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var k=A[y];y==="style"?Pa(i,k):y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Ia(i,k)):y==="children"?typeof k=="string"?(l!=="textarea"||k!=="")&&ei(i,k):typeof k=="number"&&ei(i,""+k):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?k!=null&&y==="onScroll"&&Ke("scroll",i):k!=null&&J(i,y,k,E))}switch(l){case"input":Ir(i),uu(i,h,!1);break;case"textarea":Ir(i),Sa(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ue(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Pr(i,!!h.multiple,y,!1):h.defaultValue!=null&&Pr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Fu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return zt(s),null;case 6:if(i&&s.stateNode!=null)Qy(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=vs(rl.current),vs(cr.current),Wu(s)){if(h=s.stateNode,l=s.memoizedProps,h[ur]=s,(y=h.nodeValue!==l)&&(i=mn,i!==null))switch(i.tag){case 3:Ou(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ou(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ur]=s,s.stateNode=h}return zt(s),null;case 13:if(Ge(tt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Jg(),Co(),s.flags|=98560,y=!1;else if(y=Wu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ur]=s}else Co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),y=!1}else qn!==null&&(ff(qn),qn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(tt.current&1)!==0?wt===0&&(wt=3):gf())),s.updateQueue!==null&&(s.flags|=4),zt(s),null);case 4:return No(),tf(i,s),i===null&&Xa(s.stateNode.containerInfo),zt(s),null;case 10:return Rd(s.type._context),zt(s),null;case 17:return rn(s.type)&&Uu(),zt(s),null;case 19:if(Ge(tt),y=s.memoizedState,y===null)return zt(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)ll(y,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(E=Yu(i),E!==null){for(s.flags|=128,ll(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,i=E.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return qe(tt,tt.current&1|2),s.child}i=i.sibling}y.tail!==null&&We()>Mo&&(s.flags|=128,h=!0,ll(y,!1),s.lanes=4194304)}else{if(!h)if(i=Yu(E),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ll(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!et)return zt(s),null}else 2*We()-y.renderingStartTime>Mo&&l!==1073741824&&(s.flags|=128,h=!0,ll(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=We(),s.sibling=null,l=tt.current,qe(tt,h?l&1|2:l&1),s):(zt(s),null);case 22:case 23:return mf(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(yn&1073741824)!==0&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function uI(i,s){switch(Sd(s),s.tag){case 1:return rn(s.type)&&Uu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return No(),Ge(nn),Ge(Ut),Ld(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return bd(s),null;case 13:if(Ge(tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Co()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ge(tt),null;case 4:return No(),null;case 10:return Rd(s.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var oc=!1,$t=!1,cI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Vo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){st(i,s,h)}else l.current=null}function nf(i,s,l){try{l()}catch(h){st(i,s,h)}}var Xy=!1;function hI(i,s){if(pd=li,i=xg(),od(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,A=-1,k=-1,$=0,Y=0,Z=i,X=null;t:for(;;){for(var ae;Z!==l||p!==0&&Z.nodeType!==3||(A=E+p),Z!==y||h!==0&&Z.nodeType!==3||(k=E+h),Z.nodeType===3&&(E+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)X=Z,Z=ae;for(;;){if(Z===i)break t;if(X===l&&++$===p&&(A=E),X===y&&++Y===h&&(k=E),(ae=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=ae}l=A===-1||k===-1?null:{start:A,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(md={focusedElem:i,selectionRange:l},li=!1,ce=s;ce!==null;)if(s=ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ce=i;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,lt=he.memoizedState,B=s.stateNode,V=B.getSnapshotBeforeUpdate(s.elementType===s.type?de:Kn(s.type,de),lt);B.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){st(s,s.return,te)}if(i=s.sibling,i!==null){i.return=s.return,ce=i;break}ce=s.return}return he=Xy,Xy=!1,he}function ul(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&nf(s,l,y)}p=p.next}while(p!==h)}}function ac(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function rf(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Yy(i){var s=i.alternate;s!==null&&(i.alternate=null,Yy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ur],delete s[Ja],delete s[_d],delete s[KS],delete s[GS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Jy(i){return i.tag===5||i.tag===3||i.tag===4}function Zy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Fu));else if(h!==4&&(i=i.child,i!==null))for(sf(i,s,l),i=i.sibling;i!==null;)sf(i,s,l),i=i.sibling}function of(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(of(i,s,l),i=i.sibling;i!==null;)of(i,s,l),i=i.sibling}var Vt=null,Gn=!1;function yi(i,s,l){for(l=l.child;l!==null;)ev(i,s,l),l=l.sibling}function ev(i,s,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(os,l)}catch{}switch(l.tag){case 5:$t||Vo(l,s);case 6:var h=Vt,p=Gn;Vt=null,yi(i,s,l),Vt=h,Gn=p,Vt!==null&&(Gn?(i=Vt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Vt.removeChild(l.stateNode));break;case 18:Vt!==null&&(Gn?(i=Vt,l=l.stateNode,i.nodeType===8?vd(i.parentNode,l):i.nodeType===1&&vd(i,l),$n(i)):vd(Vt,l.stateNode));break;case 4:h=Vt,p=Gn,Vt=l.stateNode.containerInfo,Gn=!0,yi(i,s,l),Vt=h,Gn=p;break;case 0:case 11:case 14:case 15:if(!$t&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&nf(l,s,E),p=p.next}while(p!==h)}yi(i,s,l);break;case 1:if(!$t&&(Vo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){st(l,s,A)}yi(i,s,l);break;case 21:yi(i,s,l);break;case 22:l.mode&1?($t=(h=$t)||l.memoizedState!==null,yi(i,s,l),$t=h):yi(i,s,l);break;default:yi(i,s,l)}}function tv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new cI),s.forEach(function(h){var p=wI.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Qn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 5:Vt=A.stateNode,Gn=!1;break e;case 3:Vt=A.stateNode.containerInfo,Gn=!0;break e;case 4:Vt=A.stateNode.containerInfo,Gn=!0;break e}A=A.return}if(Vt===null)throw Error(t(160));ev(y,E,p),Vt=null,Gn=!1;var k=p.alternate;k!==null&&(k.return=null),p.return=null}catch($){st(p,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)nv(s,i),s=s.sibling}function nv(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(s,i),dr(i),h&4){try{ul(3,i,i.return),ac(3,i)}catch(de){st(i,i.return,de)}try{ul(5,i,i.return)}catch(de){st(i,i.return,de)}}break;case 1:Qn(s,i),dr(i),h&512&&l!==null&&Vo(l,l.return);break;case 5:if(Qn(s,i),dr(i),h&512&&l!==null&&Vo(l,l.return),i.flags&32){var p=i.stateNode;try{ei(p,"")}catch(de){st(i,i.return,de)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,E=l!==null?l.memoizedProps:y,A=i.type,k=i.updateQueue;if(i.updateQueue=null,k!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&wa(p,y),Ra(A,E);var $=Ra(A,y);for(E=0;E<k.length;E+=2){var Y=k[E],Z=k[E+1];Y==="style"?Pa(p,Z):Y==="dangerouslySetInnerHTML"?Ia(p,Z):Y==="children"?ei(p,Z):J(p,Y,Z,$)}switch(A){case"input":Ea(p,y);break;case"textarea":Gs(p,y);break;case"select":var X=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?Pr(p,!!y.multiple,ae,!1):X!==!!y.multiple&&(y.defaultValue!=null?Pr(p,!!y.multiple,y.defaultValue,!0):Pr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ja]=y}catch(de){st(i,i.return,de)}}break;case 6:if(Qn(s,i),dr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(de){st(i,i.return,de)}}break;case 3:if(Qn(s,i),dr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(de){st(i,i.return,de)}break;case 4:Qn(s,i),dr(i);break;case 13:Qn(s,i),dr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(uf=We())),h&4&&tv(i);break;case 22:if(Y=l!==null&&l.memoizedState!==null,i.mode&1?($t=($=$t)||Y,Qn(s,i),$t=$):Qn(s,i),dr(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!Y&&(i.mode&1)!==0)for(ce=i,Y=i.child;Y!==null;){for(Z=ce=Y;ce!==null;){switch(X=ce,ae=X.child,X.tag){case 0:case 11:case 14:case 15:ul(4,X,X.return);break;case 1:Vo(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){h=X,l=X.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){st(h,l,de)}}break;case 5:Vo(X,X.return);break;case 22:if(X.memoizedState!==null){sv(Z);continue}}ae!==null?(ae.return=X,ce=ae):sv(Z)}Y=Y.sibling}e:for(Y=null,Z=i;;){if(Z.tag===5){if(Y===null){Y=Z;try{p=Z.stateNode,$?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=Z.stateNode,k=Z.memoizedProps.style,E=k!=null&&k.hasOwnProperty("display")?k.display:null,A.style.display=Aa("display",E))}catch(de){st(i,i.return,de)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(de){st(i,i.return,de)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===i)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===i)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===i)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Qn(s,i),dr(i),h&4&&tv(i);break;case 21:break;default:Qn(s,i),dr(i)}}function dr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Jy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ei(p,""),h.flags&=-33);var y=Zy(i);of(i,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,A=Zy(i);sf(i,A,E);break;default:throw Error(t(161))}}catch(k){st(i,i.return,k)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function dI(i,s,l){ce=i,rv(i)}function rv(i,s,l){for(var h=(i.mode&1)!==0;ce!==null;){var p=ce,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||oc;if(!E){var A=p.alternate,k=A!==null&&A.memoizedState!==null||$t;A=oc;var $=$t;if(oc=E,($t=k)&&!$)for(ce=p;ce!==null;)E=ce,k=E.child,E.tag===22&&E.memoizedState!==null?ov(p):k!==null?(k.return=E,ce=k):ov(p);for(;y!==null;)ce=y,rv(y),y=y.sibling;ce=p,oc=A,$t=$}iv(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ce=y):iv(i)}}function iv(i){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:$t||ac(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!$t)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Kn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&sy(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}sy(s,E,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&l.focus();break;case"img":k.src&&(l.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&$n(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$t||s.flags&512&&rf(s)}catch(X){st(s,s.return,X)}}if(s===i){ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,ce=l;break}ce=s.return}}function sv(i){for(;ce!==null;){var s=ce;if(s===i){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}function ov(i){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ac(4,s)}catch(k){st(s,l,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(k){st(s,p,k)}}var y=s.return;try{rf(s)}catch(k){st(s,y,k)}break;case 5:var E=s.return;try{rf(s)}catch(k){st(s,E,k)}}}catch(k){st(s,s.return,k)}if(s===i){ce=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ce=A;break}ce=s.return}}var fI=Math.ceil,lc=se.ReactCurrentDispatcher,af=se.ReactCurrentOwner,kn=se.ReactCurrentBatchConfig,Oe=0,Pt=null,dt=null,bt=0,yn=0,bo=di(0),wt=0,cl=null,ws=0,uc=0,lf=0,hl=null,on=null,uf=0,Mo=1/0,Br=null,cc=!1,cf=null,vi=null,hc=!1,_i=null,dc=0,dl=0,hf=null,fc=-1,pc=0;function Zt(){return(Oe&6)!==0?We():fc!==-1?fc:fc=We()}function wi(i){return(i.mode&1)===0?1:(Oe&2)!==0&&bt!==0?bt&-bt:XS.transition!==null?(pc===0&&(pc=ls()),pc):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Ua(i.type)),i)}function Xn(i,s,l,h){if(50<dl)throw dl=0,hf=null,Error(t(185));ii(i,l,h),((Oe&2)===0||i!==Pt)&&(i===Pt&&((Oe&2)===0&&(uc|=l),wt===4&&Ei(i,bt)),an(i,h),l===1&&Oe===0&&(s.mode&1)===0&&(Mo=We()+500,zu&&pi()))}function an(i,s){var l=i.callbackNode;Rr(i,s);var h=as(i,i===Pt?bt:0);if(h===0)l!==null&&Ma(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&Ma(l),s===1)i.tag===0?QS(lv.bind(null,i)):Kg(lv.bind(null,i)),WS(function(){(Oe&6)===0&&pi()}),l=null;else{switch(oi(h)){case 1:l=ss;break;case 4:l=ti;break;case 16:l=Sn;break;case 536870912:l=pu;break;default:l=Sn}l=gv(l,av.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function av(i,s){if(fc=-1,pc=0,(Oe&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Lo()&&i.callbackNode!==l)return null;var h=as(i,i===Pt?bt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=mc(i,h);else{s=h;var p=Oe;Oe|=2;var y=cv();(Pt!==i||bt!==s)&&(Br=null,Mo=We()+500,Ts(i,s));do try{gI();break}catch(A){uv(i,A)}while(!0);xd(),lc.current=y,Oe=p,dt!==null?s=0:(Pt=null,bt=0,s=wt)}if(s!==0){if(s===2&&(p=dn(i),p!==0&&(h=p,s=df(i,p))),s===1)throw l=cl,Ts(i,0),Ei(i,h),an(i,We()),l;if(s===6)Ei(i,h);else{if(p=i.current.alternate,(h&30)===0&&!pI(p)&&(s=mc(i,h),s===2&&(y=dn(i),y!==0&&(h=y,s=df(i,y))),s===1))throw l=cl,Ts(i,0),Ei(i,h),an(i,We()),l;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ss(i,on,Br);break;case 3:if(Ei(i,h),(h&130023424)===h&&(s=uf+500-We(),10<s)){if(as(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){Zt(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=yd(Ss.bind(null,i,on,Br),s);break}Ss(i,on,Br);break;case 4:if(Ei(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var E=31-Xt(h);y=1<<E,E=s[E],E>p&&(p=E),h&=~y}if(h=p,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*fI(h/1960))-h,10<h){i.timeoutHandle=yd(Ss.bind(null,i,on,Br),h);break}Ss(i,on,Br);break;case 5:Ss(i,on,Br);break;default:throw Error(t(329))}}}return an(i,We()),i.callbackNode===l?av.bind(null,i):null}function df(i,s){var l=hl;return i.current.memoizedState.isDehydrated&&(Ts(i,s).flags|=256),i=mc(i,s),i!==2&&(s=on,on=l,s!==null&&ff(s)),i}function ff(i){on===null?on=i:on.push.apply(on,i)}function pI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Wn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(i,s){for(s&=~lf,s&=~uc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Xt(s),h=1<<l;i[l]=-1,s&=~h}}function lv(i){if((Oe&6)!==0)throw Error(t(327));Lo();var s=as(i,0);if((s&1)===0)return an(i,We()),null;var l=mc(i,s);if(i.tag!==0&&l===2){var h=dn(i);h!==0&&(s=h,l=df(i,h))}if(l===1)throw l=cl,Ts(i,0),Ei(i,s),an(i,We()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ss(i,on,Br),an(i,We()),null}function pf(i,s){var l=Oe;Oe|=1;try{return i(s)}finally{Oe=l,Oe===0&&(Mo=We()+500,zu&&pi())}}function Es(i){_i!==null&&_i.tag===0&&(Oe&6)===0&&Lo();var s=Oe;Oe|=1;var l=kn.transition,h=Ve;try{if(kn.transition=null,Ve=1,i)return i()}finally{Ve=h,kn.transition=l,Oe=s,(Oe&6)===0&&pi()}}function mf(){yn=bo.current,Ge(bo)}function Ts(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,HS(l)),dt!==null)for(l=dt.return;l!==null;){var h=l;switch(Sd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Uu();break;case 3:No(),Ge(nn),Ge(Ut),Ld();break;case 5:bd(h);break;case 4:No();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:Rd(h.type._context);break;case 22:case 23:mf()}l=l.return}if(Pt=i,dt=i=Ti(i.current,null),bt=yn=s,wt=0,cl=null,lf=uc=ws=0,on=hl=null,ys!==null){for(s=0;s<ys.length;s++)if(l=ys[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}l.pending=h}ys=null}return i}function uv(i,s){do{var l=dt;try{if(xd(),Ju.current=nc,Zu){for(var h=nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Zu=!1}if(_s=0,At=_t=nt=null,il=!1,sl=0,af.current=null,l===null||l.return===null){wt=1,cl=s,dt=null;break}e:{var y=i,E=l.return,A=l,k=s;if(s=bt,A.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=k,Y=A,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=by(E);if(ae!==null){ae.flags&=-257,My(ae,E,A,y,s),ae.mode&1&&Vy(y,$,s),s=ae,k=$;var he=s.updateQueue;if(he===null){var de=new Set;de.add(k),s.updateQueue=de}else he.add(k);break e}else{if((s&1)===0){Vy(y,$,s),gf();break e}k=Error(t(426))}}else if(et&&A.mode&1){var lt=by(E);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),My(lt,E,A,y,s),Pd(Do(k,A));break e}}y=k=Do(k,A),wt!==4&&(wt=2),hl===null?hl=[y]:hl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Ny(y,k,s);iy(y,B);break e;case 1:A=k;var V=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(vi===null||!vi.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var te=Dy(y,A,s);iy(y,te);break e}}y=y.return}while(y!==null)}dv(l)}catch(pe){s=pe,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function cv(){var i=lc.current;return lc.current=nc,i===null?nc:i}function gf(){(wt===0||wt===3||wt===2)&&(wt=4),Pt===null||(ws&268435455)===0&&(uc&268435455)===0||Ei(Pt,bt)}function mc(i,s){var l=Oe;Oe|=2;var h=cv();(Pt!==i||bt!==s)&&(Br=null,Ts(i,s));do try{mI();break}catch(p){uv(i,p)}while(!0);if(xd(),Oe=l,lc.current=h,dt!==null)throw Error(t(261));return Pt=null,bt=0,wt}function mI(){for(;dt!==null;)hv(dt)}function gI(){for(;dt!==null&&!du();)hv(dt)}function hv(i){var s=mv(i.alternate,i,yn);i.memoizedProps=i.pendingProps,s===null?dv(i):dt=s,af.current=null}function dv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=lI(l,s,yn),l!==null){dt=l;return}}else{if(l=uI(l,s),l!==null){l.flags&=32767,dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wt=6,dt=null;return}}if(s=s.sibling,s!==null){dt=s;return}dt=s=i}while(s!==null);wt===0&&(wt=5)}function Ss(i,s,l){var h=Ve,p=kn.transition;try{kn.transition=null,Ve=1,yI(i,s,l,h)}finally{kn.transition=p,Ve=h}return null}function yI(i,s,l,h){do Lo();while(_i!==null);if((Oe&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if($e(i,y),i===Pt&&(dt=Pt=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||hc||(hc=!0,gv(Sn,function(){return Lo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=kn.transition,kn.transition=null;var E=Ve;Ve=1;var A=Oe;Oe|=4,af.current=null,hI(i,l),nv(l,i),OS(md),li=!!pd,md=pd=null,i.current=l,dI(l),Jh(),Oe=A,Ve=E,kn.transition=y}else i.current=l;if(hc&&(hc=!1,_i=i,dc=p),y=i.pendingLanes,y===0&&(vi=null),mu(l.stateNode),an(i,We()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(cc)throw cc=!1,i=cf,cf=null,i;return(dc&1)!==0&&i.tag!==0&&Lo(),y=i.pendingLanes,(y&1)!==0?i===hf?dl++:(dl=0,hf=i):dl=0,pi(),null}function Lo(){if(_i!==null){var i=oi(dc),s=kn.transition,l=Ve;try{if(kn.transition=null,Ve=16>i?16:i,_i===null)var h=!1;else{if(i=_i,_i=null,dc=0,(Oe&6)!==0)throw Error(t(331));var p=Oe;for(Oe|=4,ce=i.current;ce!==null;){var y=ce,E=y.child;if((ce.flags&16)!==0){var A=y.deletions;if(A!==null){for(var k=0;k<A.length;k++){var $=A[k];for(ce=$;ce!==null;){var Y=ce;switch(Y.tag){case 0:case 11:case 15:ul(8,Y,y)}var Z=Y.child;if(Z!==null)Z.return=Y,ce=Z;else for(;ce!==null;){Y=ce;var X=Y.sibling,ae=Y.return;if(Yy(Y),Y===$){ce=null;break}if(X!==null){X.return=ae,ce=X;break}ce=ae}}}var he=y.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var lt=de.sibling;de.sibling=null,de=lt}while(de!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ce=E;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ul(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,ce=B;break e}ce=y.return}}var V=i.current;for(ce=V;ce!==null;){E=ce;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,ce=z;else e:for(E=V;ce!==null;){if(A=ce,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:ac(9,A)}}catch(pe){st(A,A.return,pe)}if(A===E){ce=null;break e}var te=A.sibling;if(te!==null){te.return=A.return,ce=te;break e}ce=A.return}}if(Oe=p,pi(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(os,i)}catch{}h=!0}return h}finally{Ve=l,kn.transition=s}}return!1}function fv(i,s,l){s=Do(l,s),s=Ny(i,s,1),i=gi(i,s,1),s=Zt(),i!==null&&(ii(i,1,s),an(i,s))}function st(i,s,l){if(i.tag===3)fv(i,i,l);else for(;s!==null;){if(s.tag===3){fv(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vi===null||!vi.has(h))){i=Do(l,i),i=Dy(s,i,1),s=gi(s,i,1),i=Zt(),s!==null&&(ii(s,1,i),an(s,i));break}}s=s.return}}function vI(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=Zt(),i.pingedLanes|=i.suspendedLanes&l,Pt===i&&(bt&l)===l&&(wt===4||wt===3&&(bt&130023424)===bt&&500>We()-uf?Ts(i,0):lf|=l),an(i,s)}function pv(i,s){s===0&&((i.mode&1)===0?s=1:(s=io,io<<=1,(io&130023424)===0&&(io=4194304)));var l=Zt();i=Fr(i,s),i!==null&&(ii(i,s,l),an(i,l))}function _I(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),pv(i,l)}function wI(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),pv(i,l)}var mv;mv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||nn.current)sn=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return sn=!1,aI(i,s,l);sn=(i.flags&131072)!==0}else sn=!1,et&&(s.flags&1048576)!==0&&Gg(s,Hu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;sc(i,s),i=s.pendingProps;var p=Io(s,Ut.current);ko(s,l),p=jd(null,s,h,i,p,l);var y=Ud();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(h)?(y=!0,Bu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Dd(s),p.updater=rc,s.stateNode=p,p._reactInternals=s,qd(s,h,i,l),s=Xd(null,s,h,!0,y,l)):(s.tag=0,et&&y&&Td(s),Jt(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(sc(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=TI(h),i=Kn(h,i),p){case 0:s=Qd(null,s,h,i,l);break e;case 1:s=By(null,s,h,i,l);break e;case 11:s=Ly(null,s,h,i,l);break e;case 14:s=Oy(null,s,h,Kn(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),Qd(i,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),By(i,s,h,p,l);case 3:e:{if(zy(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,ry(i,s),Xu(s,h,null,l);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Do(Error(t(423)),s),s=$y(i,s,h,l,p);break e}else if(h!==p){p=Do(Error(t(424)),s),s=$y(i,s,h,l,p);break e}else for(gn=hi(s.stateNode.containerInfo.firstChild),mn=s,et=!0,qn=null,l=ty(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Co(),h===p){s=Ur(i,s,l);break e}Jt(i,s,h,l)}s=s.child}return s;case 5:return oy(s),i===null&&Ad(s),h=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,E=p.children,gd(h,p)?E=null:y!==null&&gd(h,y)&&(s.flags|=32),Uy(i,s),Jt(i,s,E,l),s.child;case 6:return i===null&&Ad(s),null;case 13:return Hy(i,s,l);case 4:return Vd(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=xo(s,null,h,l):Jt(i,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),Ly(i,s,h,p,l);case 7:return Jt(i,s,s.pendingProps,l),s.child;case 8:return Jt(i,s,s.pendingProps.children,l),s.child;case 12:return Jt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,qe(Ku,h._currentValue),h._currentValue=E,y!==null)if(Wn(y.value,E)){if(y.children===p.children&&!nn.current){s=Ur(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var A=y.dependencies;if(A!==null){E=y.child;for(var k=A.firstContext;k!==null;){if(k.context===h){if(y.tag===1){k=jr(-1,l&-l),k.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?k.next=k:(k.next=Y.next,Y.next=k),$.pending=k}}y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),kd(y.return,l,s),A.lanes|=l;break}k=k.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,A=E.alternate,A!==null&&(A.lanes|=l),kd(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Jt(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,ko(s,l),p=xn(p),h=h(p),s.flags|=1,Jt(i,s,h,l),s.child;case 14:return h=s.type,p=Kn(h,s.pendingProps),p=Kn(h.type,p),Oy(i,s,h,p,l);case 15:return Fy(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),sc(i,s),s.tag=1,rn(h)?(i=!0,Bu(s)):i=!1,ko(s,l),Ry(s,h,p),qd(s,h,p,l),Xd(null,s,h,!0,i,l);case 19:return qy(i,s,l);case 22:return jy(i,s,l)}throw Error(t(156,s.tag))};function gv(i,s){return no(i,s)}function EI(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,s,l,h){return new EI(i,s,l,h)}function yf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function TI(i){if(typeof i=="function")return yf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===Rt)return 14}return 2}function Ti(i,s){var l=i.alternate;return l===null?(l=Nn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function gc(i,s,l,h,p,y){var E=2;if(h=i,typeof i=="function")yf(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case N:return Is(l.children,p,y,s);case I:E=8,p|=8;break;case x:return i=Nn(12,l,s,p|2),i.elementType=x,i.lanes=y,i;case R:return i=Nn(13,l,s,p),i.elementType=R,i.lanes=y,i;case Je:return i=Nn(19,l,s,p),i.elementType=Je,i.lanes=y,i;case Ae:return yc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:E=10;break e;case M:E=9;break e;case j:E=11;break e;case Rt:E=14;break e;case kt:E=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Nn(E,l,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function Is(i,s,l,h){return i=Nn(7,i,h,s),i.lanes=l,i}function yc(i,s,l,h){return i=Nn(22,i,h,s),i.elementType=Ae,i.lanes=l,i.stateNode={isHidden:!1},i}function vf(i,s,l){return i=Nn(6,i,null,s),i.lanes=l,i}function _f(i,s,l){return s=Nn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function SI(i,s,l,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ri(0),this.expirationTimes=ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function wf(i,s,l,h,p,y,E,A,k){return i=new SI(i,s,l,A,k),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Nn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(y),i}function II(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function yv(i){if(!i)return fi;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(rn(l))return Wg(i,l,s)}return s}function vv(i,s,l,h,p,y,E,A,k){return i=wf(l,h,!0,i,p,y,E,A,k),i.context=yv(null),l=i.current,h=Zt(),p=wi(l),y=jr(h,p),y.callback=s??null,gi(l,y,p),i.current.lanes=p,ii(i,p,h),an(i,h),i}function vc(i,s,l,h){var p=s.current,y=Zt(),E=wi(p);return l=yv(l),s.context===null?s.context=l:s.pendingContext=l,s=jr(y,E),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=gi(p,s,E),i!==null&&(Xn(i,p,E,y),Qu(i,p,E)),E}function _c(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function _v(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Ef(i,s){_v(i,s),(i=i.alternate)&&_v(i,s)}function AI(){return null}var wv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Tf(i){this._internalRoot=i}wc.prototype.render=Tf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));vc(i,s,null,null)},wc.prototype.unmount=Tf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Es(function(){vc(null,i,null,null)}),s[br]=null}};function wc(i){this._internalRoot=i}wc.prototype.unstable_scheduleHydration=function(i){if(i){var s=wu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,i),l===0&&Su(i)}};function Sf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ec(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ev(){}function PI(i,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var $=_c(E);y.call($)}}var E=vv(s,h,i,0,null,!1,!1,"",Ev);return i._reactRootContainer=E,i[br]=E.current,Xa(i.nodeType===8?i.parentNode:i),Es(),E}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var A=h;h=function(){var $=_c(k);A.call($)}}var k=wf(i,0,!1,null,null,!1,!1,"",Ev);return i._reactRootContainer=k,i[br]=k.current,Xa(i.nodeType===8?i.parentNode:i),Es(function(){vc(s,k,l,h)}),k}function Tc(i,s,l,h,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var A=p;p=function(){var k=_c(E);A.call(k)}}vc(s,E,i,p)}else E=PI(l,s,i,p,h);return _c(E)}vu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=ni(s.pendingLanes);l!==0&&(si(s,l|1),an(s,We()),(Oe&6)===0&&(Mo=We()+500,pi()))}break;case 13:Es(function(){var h=Fr(i,1);if(h!==null){var p=Zt();Xn(h,i,1,p)}}),Ef(i,1)}},so=function(i){if(i.tag===13){var s=Fr(i,134217728);if(s!==null){var l=Zt();Xn(s,i,134217728,l)}Ef(i,134217728)}},_u=function(i){if(i.tag===13){var s=wi(i),l=Fr(i,s);if(l!==null){var h=Zt();Xn(l,i,s,h)}Ef(i,s)}},wu=function(){return Ve},Eu=function(i,s){var l=Ve;try{return Ve=i,s()}finally{Ve=l}},Xs=function(i,s,l){switch(s){case"input":if(Ea(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=ju(h);if(!p)throw Error(t(90));Hs(h),Ea(h,p)}}}break;case"textarea":Gs(i,l);break;case"select":s=l.value,s!=null&&Pr(i,!!l.multiple,s,!1)}},ts=pf,Na=Es;var CI={usingClientEntryPoint:!1,Events:[Za,To,ju,rr,ka,pf]},fl={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xI={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ba(i),i===null?null:i.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{os=Sc.inject(xI),hn=Sc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI,ln.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(s))throw Error(t(200));return II(i,s,null,l)},ln.createRoot=function(i,s){if(!Sf(i))throw Error(t(299));var l=!1,h="",p=wv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=wf(i,1,!1,null,null,l,!1,h,p),i[br]=s.current,Xa(i.nodeType===8?i.parentNode:i),new Tf(s)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ba(s),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return Es(i)},ln.hydrate=function(i,s,l){if(!Ec(s))throw Error(t(200));return Tc(null,i,s,!0,l)},ln.hydrateRoot=function(i,s,l){if(!Sf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",E=wv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=vv(s,null,i,1,l??null,p,!1,y,E),i[br]=s.current,Xa(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new wc(s)},ln.render=function(i,s,l){if(!Ec(s))throw Error(t(200));return Tc(null,i,s,!1,l)},ln.unmountComponentAtNode=function(i){if(!Ec(i))throw Error(t(40));return i._reactRootContainer?(Es(function(){Tc(null,null,i,!1,function(){i._reactRootContainer=null,i[br]=null})}),!0):!1},ln.unstable_batchedUpdates=pf,ln.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!Ec(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Tc(i,s,l,!1,h)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var Rv;function OI(){if(Rv)return Pf.exports;Rv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pf.exports=LI(),Pf.exports}var kv;function FI(){if(kv)return Ic;kv=1;var n=OI();return Ic.createRoot=n.createRoot,Ic.hydrateRoot=n.hydrateRoot,Ic}var jI=FI();const UI=Ew(jI),BI=()=>{};var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},zI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,C=m&63;f||(C=64,u||(T=64)),r.push(t[v],t[w],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Tw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new $I;const T=a<<2|d>>4;if(r.push(T),m!==64){const C=d<<4&240|m>>2;if(r.push(C),w!==64){const b=m<<6&192|w;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HI=function(n){const e=Tw(n);return Sw.encodeByteArray(e,!0)},Qc=function(n){return HI(n).replace(/\./g,"")},Iw=function(n){try{return Sw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=()=>WI().__FIREBASE_DEFAULTS__,KI=()=>{if(typeof process>"u"||typeof Nv>"u")return;const n=Nv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Iw(n[1]);return e&&JSON.parse(e)},Th=()=>{try{return BI()||qI()||KI()||GI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Aw=n=>Th()?.emulatorHosts?.[n],QI=n=>{const e=Aw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Pw=()=>Th()?.config,Cw=n=>Th()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Qc(JSON.stringify(t)),Qc(JSON.stringify(u)),""].join(".")}const Al={};function JI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Al))Al[e]?n.emulator.push(e):n.prod.push(e);return n}function ZI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Dv=!1;function Rw(n,e){if(typeof window>"u"||typeof document>"u"||!ca(window.location.host)||Al[n]===e||Al[n]||Dv)return;Al[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=JI().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Dv=!0,u()},T}function v(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=ZI(r),C=t("text"),b=document.getElementById(C)||document.createElement("span"),L=t("learnmore"),O=document.getElementById(L)||document.createElement("a"),W=t("preprendIcon"),q=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;d(J),v(O,L);const se=m();f(q,W),J.append(q,b,O,se),document.body.appendChild(J)}a?(b.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function tA(){const n=Th()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const n=Qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function lA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="FirebaseError";class Jr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=uA,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?cA(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Jr(o,d,r)}}function cA(n,e){return n.replace(hA,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const hA=/\{\$([^}]+)}/g;function dA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Vv(a)&&Vv(u)){if(!bs(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Vv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function yl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fA(n,e){const t=new pA(n,e);return t.subscribe.bind(t)}class pA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n){return n&&n._delegate?n._delegate:n}class Ms{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new XI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vA(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(n){return n===Cs?void 0:n}function vA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const wA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},EA=ke.INFO,TA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},SA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=TA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const IA=(n,e)=>e.some(t=>n instanceof t);let bv,Mv;function AA(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kw=new WeakMap,tp=new WeakMap,Nw=new WeakMap,kf=new WeakMap,Wp=new WeakMap;function CA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ni(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&kw.set(t,n)}).catch(()=>{}),Wp.set(e,n),e}function xA(n){if(tp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});tp.set(n,e)}let np={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Nw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RA(n){np=n(np)}function kA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Nf(this),e,...t);return Nw.set(r,e.sort?e.sort():[e]),Ni(r)}:PA().includes(n)?function(...e){return n.apply(Nf(this),e),Ni(kw.get(this))}:function(...e){return Ni(n.apply(Nf(this),e))}}function NA(n){return typeof n=="function"?kA(n):(n instanceof IDBTransaction&&xA(n),IA(n,AA())?new Proxy(n,np):n)}function Ni(n){if(n instanceof IDBRequest)return CA(n);if(kf.has(n))return kf.get(n);const e=NA(n);return e!==n&&(kf.set(n,e),Wp.set(e,n)),e}const Nf=n=>Wp.get(n);function DA(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Ni(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ni(u.result),f.oldVersion,f.newVersion,Ni(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const VA=["get","getKey","getAll","getAllKeys","count"],bA=["put","add","delete","clear"],Df=new Map;function Lv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=bA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||VA.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Df.set(e,a),a}RA(n=>({...n,get:(e,t,r)=>Lv(e,t)||n.get(e,t,r),has:(e,t)=>!!Lv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function LA(n){return n.getComponent()?.type==="VERSION"}const rp="@firebase/app",Ov="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Hp("@firebase/app"),OA="@firebase/app-compat",FA="@firebase/analytics-compat",jA="@firebase/analytics",UA="@firebase/app-check-compat",BA="@firebase/app-check",zA="@firebase/auth",$A="@firebase/auth-compat",HA="@firebase/database",WA="@firebase/data-connect",qA="@firebase/database-compat",KA="@firebase/functions",GA="@firebase/functions-compat",QA="@firebase/installations",XA="@firebase/installations-compat",YA="@firebase/messaging",JA="@firebase/messaging-compat",ZA="@firebase/performance",eP="@firebase/performance-compat",tP="@firebase/remote-config",nP="@firebase/remote-config-compat",rP="@firebase/storage",iP="@firebase/storage-compat",sP="@firebase/firestore",oP="@firebase/ai",aP="@firebase/firestore-compat",lP="firebase",uP="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",cP={[rp]:"fire-core",[OA]:"fire-core-compat",[jA]:"fire-analytics",[FA]:"fire-analytics-compat",[BA]:"fire-app-check",[UA]:"fire-app-check-compat",[zA]:"fire-auth",[$A]:"fire-auth-compat",[HA]:"fire-rtdb",[WA]:"fire-data-connect",[qA]:"fire-rtdb-compat",[KA]:"fire-fn",[GA]:"fire-fn-compat",[QA]:"fire-iid",[XA]:"fire-iid-compat",[YA]:"fire-fcm",[JA]:"fire-fcm-compat",[ZA]:"fire-perf",[eP]:"fire-perf-compat",[tP]:"fire-rc",[nP]:"fire-rc-compat",[rP]:"fire-gcs",[iP]:"fire-gcs-compat",[sP]:"fire-fst",[aP]:"fire-fst-compat",[oP]:"fire-vertex","fire-js":"fire-js",[lP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,hP=new Map,sp=new Map;function Fv(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(sp.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,n);for(const t of Xc.values())Fv(t,n);for(const t of hP.values())Fv(t,n);return!0}function qp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Ql("app","Firebase",dP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=uP;function Dw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ip,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(t||(t=Pw()),!t)throw Di.create("no-options");const a=Xc.get(o);if(a){if(bs(t,a.options)&&bs(r,a.config))return a;throw Di.create("duplicate-app",{appName:o})}const u=new _A(o);for(const f of sp.values())u.addComponent(f);const d=new fP(t,r,u);return Xc.set(o,d),d}function Vw(n=ip){const e=Xc.get(n);if(!e&&n===ip&&Pw())return Dw();if(!e)throw Di.create("no-app",{appName:n});return e}function Vi(n,e,t){let r=cP[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(u.join(" "));return}Jo(new Ms(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="firebase-heartbeat-database",mP=1,Ml="firebase-heartbeat-store";let Vf=null;function bw(){return Vf||(Vf=DA(pP,mP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ml)}catch(t){console.warn(t)}}}}).catch(n=>{throw Di.create("idb-open",{originalErrorMessage:n.message})})),Vf}async function gP(n){try{const t=(await bw()).transaction(Ml),r=await t.objectStore(Ml).get(Mw(n));return await t.done,r}catch(e){if(e instanceof Jr)Kr.warn(e.message);else{const t=Di.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(t.message)}}}async function jv(n,e){try{const r=(await bw()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,Mw(n)),await r.done}catch(t){if(t instanceof Jr)Kr.warn(t.message);else{const r=Di.create("idb-set",{originalErrorMessage:t?.message});Kr.warn(r.message)}}}function Mw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=1024,vP=30;class _P{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>vP){const o=TP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uv(),{heartbeatsToSend:t,unsentEntries:r}=wP(this._heartbeatsCache.heartbeats),o=Qc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Kr.warn(e),""}}}function Uv(){return new Date().toISOString().substring(0,10)}function wP(n,e=yP){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Bv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Bv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class EP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?lA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bv(n){return Qc(JSON.stringify({version:2,heartbeats:n})).length}function TP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n){Jo(new Ms("platform-logger",e=>new MA(e),"PRIVATE")),Jo(new Ms("heartbeat",e=>new _P(e),"PRIVATE")),Vi(rp,Ov,n),Vi(rp,Ov,"esm2020"),Vi("fire-js","")}SP("");var IP="firebase",AP="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(IP,AP,"app");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,Lw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function x(){}x.prototype=I.prototype,N.D=I.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(D,M,j){for(var R=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)R[Je-2]=arguments[Je];return I.prototype[M].apply(D,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,x){x||(x=0);var D=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)D[M]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(M=0;16>M;++M)D[M]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=N.g[0],x=N.g[1],M=N.g[2];var j=N.g[3],R=I+(j^x&(M^j))+D[0]+3614090360&4294967295;I=x+(R<<7&4294967295|R>>>25),R=j+(M^I&(x^M))+D[1]+3905402710&4294967295,j=I+(R<<12&4294967295|R>>>20),R=M+(x^j&(I^x))+D[2]+606105819&4294967295,M=j+(R<<17&4294967295|R>>>15),R=x+(I^M&(j^I))+D[3]+3250441966&4294967295,x=M+(R<<22&4294967295|R>>>10),R=I+(j^x&(M^j))+D[4]+4118548399&4294967295,I=x+(R<<7&4294967295|R>>>25),R=j+(M^I&(x^M))+D[5]+1200080426&4294967295,j=I+(R<<12&4294967295|R>>>20),R=M+(x^j&(I^x))+D[6]+2821735955&4294967295,M=j+(R<<17&4294967295|R>>>15),R=x+(I^M&(j^I))+D[7]+4249261313&4294967295,x=M+(R<<22&4294967295|R>>>10),R=I+(j^x&(M^j))+D[8]+1770035416&4294967295,I=x+(R<<7&4294967295|R>>>25),R=j+(M^I&(x^M))+D[9]+2336552879&4294967295,j=I+(R<<12&4294967295|R>>>20),R=M+(x^j&(I^x))+D[10]+4294925233&4294967295,M=j+(R<<17&4294967295|R>>>15),R=x+(I^M&(j^I))+D[11]+2304563134&4294967295,x=M+(R<<22&4294967295|R>>>10),R=I+(j^x&(M^j))+D[12]+1804603682&4294967295,I=x+(R<<7&4294967295|R>>>25),R=j+(M^I&(x^M))+D[13]+4254626195&4294967295,j=I+(R<<12&4294967295|R>>>20),R=M+(x^j&(I^x))+D[14]+2792965006&4294967295,M=j+(R<<17&4294967295|R>>>15),R=x+(I^M&(j^I))+D[15]+1236535329&4294967295,x=M+(R<<22&4294967295|R>>>10),R=I+(M^j&(x^M))+D[1]+4129170786&4294967295,I=x+(R<<5&4294967295|R>>>27),R=j+(x^M&(I^x))+D[6]+3225465664&4294967295,j=I+(R<<9&4294967295|R>>>23),R=M+(I^x&(j^I))+D[11]+643717713&4294967295,M=j+(R<<14&4294967295|R>>>18),R=x+(j^I&(M^j))+D[0]+3921069994&4294967295,x=M+(R<<20&4294967295|R>>>12),R=I+(M^j&(x^M))+D[5]+3593408605&4294967295,I=x+(R<<5&4294967295|R>>>27),R=j+(x^M&(I^x))+D[10]+38016083&4294967295,j=I+(R<<9&4294967295|R>>>23),R=M+(I^x&(j^I))+D[15]+3634488961&4294967295,M=j+(R<<14&4294967295|R>>>18),R=x+(j^I&(M^j))+D[4]+3889429448&4294967295,x=M+(R<<20&4294967295|R>>>12),R=I+(M^j&(x^M))+D[9]+568446438&4294967295,I=x+(R<<5&4294967295|R>>>27),R=j+(x^M&(I^x))+D[14]+3275163606&4294967295,j=I+(R<<9&4294967295|R>>>23),R=M+(I^x&(j^I))+D[3]+4107603335&4294967295,M=j+(R<<14&4294967295|R>>>18),R=x+(j^I&(M^j))+D[8]+1163531501&4294967295,x=M+(R<<20&4294967295|R>>>12),R=I+(M^j&(x^M))+D[13]+2850285829&4294967295,I=x+(R<<5&4294967295|R>>>27),R=j+(x^M&(I^x))+D[2]+4243563512&4294967295,j=I+(R<<9&4294967295|R>>>23),R=M+(I^x&(j^I))+D[7]+1735328473&4294967295,M=j+(R<<14&4294967295|R>>>18),R=x+(j^I&(M^j))+D[12]+2368359562&4294967295,x=M+(R<<20&4294967295|R>>>12),R=I+(x^M^j)+D[5]+4294588738&4294967295,I=x+(R<<4&4294967295|R>>>28),R=j+(I^x^M)+D[8]+2272392833&4294967295,j=I+(R<<11&4294967295|R>>>21),R=M+(j^I^x)+D[11]+1839030562&4294967295,M=j+(R<<16&4294967295|R>>>16),R=x+(M^j^I)+D[14]+4259657740&4294967295,x=M+(R<<23&4294967295|R>>>9),R=I+(x^M^j)+D[1]+2763975236&4294967295,I=x+(R<<4&4294967295|R>>>28),R=j+(I^x^M)+D[4]+1272893353&4294967295,j=I+(R<<11&4294967295|R>>>21),R=M+(j^I^x)+D[7]+4139469664&4294967295,M=j+(R<<16&4294967295|R>>>16),R=x+(M^j^I)+D[10]+3200236656&4294967295,x=M+(R<<23&4294967295|R>>>9),R=I+(x^M^j)+D[13]+681279174&4294967295,I=x+(R<<4&4294967295|R>>>28),R=j+(I^x^M)+D[0]+3936430074&4294967295,j=I+(R<<11&4294967295|R>>>21),R=M+(j^I^x)+D[3]+3572445317&4294967295,M=j+(R<<16&4294967295|R>>>16),R=x+(M^j^I)+D[6]+76029189&4294967295,x=M+(R<<23&4294967295|R>>>9),R=I+(x^M^j)+D[9]+3654602809&4294967295,I=x+(R<<4&4294967295|R>>>28),R=j+(I^x^M)+D[12]+3873151461&4294967295,j=I+(R<<11&4294967295|R>>>21),R=M+(j^I^x)+D[15]+530742520&4294967295,M=j+(R<<16&4294967295|R>>>16),R=x+(M^j^I)+D[2]+3299628645&4294967295,x=M+(R<<23&4294967295|R>>>9),R=I+(M^(x|~j))+D[0]+4096336452&4294967295,I=x+(R<<6&4294967295|R>>>26),R=j+(x^(I|~M))+D[7]+1126891415&4294967295,j=I+(R<<10&4294967295|R>>>22),R=M+(I^(j|~x))+D[14]+2878612391&4294967295,M=j+(R<<15&4294967295|R>>>17),R=x+(j^(M|~I))+D[5]+4237533241&4294967295,x=M+(R<<21&4294967295|R>>>11),R=I+(M^(x|~j))+D[12]+1700485571&4294967295,I=x+(R<<6&4294967295|R>>>26),R=j+(x^(I|~M))+D[3]+2399980690&4294967295,j=I+(R<<10&4294967295|R>>>22),R=M+(I^(j|~x))+D[10]+4293915773&4294967295,M=j+(R<<15&4294967295|R>>>17),R=x+(j^(M|~I))+D[1]+2240044497&4294967295,x=M+(R<<21&4294967295|R>>>11),R=I+(M^(x|~j))+D[8]+1873313359&4294967295,I=x+(R<<6&4294967295|R>>>26),R=j+(x^(I|~M))+D[15]+4264355552&4294967295,j=I+(R<<10&4294967295|R>>>22),R=M+(I^(j|~x))+D[6]+2734768916&4294967295,M=j+(R<<15&4294967295|R>>>17),R=x+(j^(M|~I))+D[13]+1309151649&4294967295,x=M+(R<<21&4294967295|R>>>11),R=I+(M^(x|~j))+D[4]+4149444226&4294967295,I=x+(R<<6&4294967295|R>>>26),R=j+(x^(I|~M))+D[11]+3174756917&4294967295,j=I+(R<<10&4294967295|R>>>22),R=M+(I^(j|~x))+D[2]+718787259&4294967295,M=j+(R<<15&4294967295|R>>>17),R=x+(j^(M|~I))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var x=I-this.blockSize,D=this.B,M=this.h,j=0;j<I;){if(M==0)for(;j<=x;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<I;)if(D[M++]=N.charCodeAt(j++),M==this.blockSize){o(this,D),M=0;break}}else for(;j<I;)if(D[M++]=N[j++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=I},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var x=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=x&255,x/=256;for(this.u(N),N=Array(16),I=x=0;4>I;++I)for(var D=0;32>D;D+=8)N[x++]=this.g[I]>>>D&255;return N};function a(N,I){var x=d;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=I(N)}function u(N,I){this.h=I;for(var x=[],D=!0,M=N.length-1;0<=M;M--){var j=N[M]|0;D&&j==I||(x[M]=j,D=!1)}this.g=x}var d={};function f(N){return-128<=N&&128>N?a(N,function(I){return new u([I|0],0>I?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return O(m(-N));for(var I=[],x=1,D=0;N>=x;D++)I[D]=N/x|0,x*=4294967296;return new u(I,0)}function v(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return O(v(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(I,8)),D=w,M=0;M<N.length;M+=8){var j=Math.min(8,N.length-M),R=parseInt(N.substring(M,M+j),I);8>j?(j=m(Math.pow(I,j)),D=D.j(j).add(m(R))):(D=D.j(x),D=D.add(m(R)))}return D}var w=f(0),T=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(L(this))return-O(this).m();for(var N=0,I=1,x=0;x<this.g.length;x++){var D=this.i(x);N+=(0<=D?D:4294967296+D)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(L(this))return"-"+O(this).toString(N);for(var I=m(Math.pow(N,6)),x=this,D="";;){var M=se(x,I).g;x=W(x,M.j(I));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=M,b(x))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function L(N){return N.h==-1}n.l=function(N){return N=W(this,N),L(N)?-1:b(N)?0:1};function O(N){for(var I=N.g.length,x=[],D=0;D<I;D++)x[D]=~N.g[D];return new u(x,~N.h).add(T)}n.abs=function(){return L(this)?O(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],D=0,M=0;M<=I;M++){var j=D+(this.i(M)&65535)+(N.i(M)&65535),R=(j>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);D=R>>>16,j&=65535,R&=65535,x[M]=R<<16|j}return new u(x,x[x.length-1]&-2147483648?-1:0)};function W(N,I){return N.add(O(I))}n.j=function(N){if(b(this)||b(N))return w;if(L(this))return L(N)?O(this).j(O(N)):O(O(this).j(N));if(L(N))return O(this.j(O(N)));if(0>this.l(C)&&0>N.l(C))return m(this.m()*N.m());for(var I=this.g.length+N.g.length,x=[],D=0;D<2*I;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<N.g.length;M++){var j=this.i(D)>>>16,R=this.i(D)&65535,Je=N.i(M)>>>16,Rt=N.i(M)&65535;x[2*D+2*M]+=R*Rt,q(x,2*D+2*M),x[2*D+2*M+1]+=j*Rt,q(x,2*D+2*M+1),x[2*D+2*M+1]+=R*Je,q(x,2*D+2*M+1),x[2*D+2*M+2]+=j*Je,q(x,2*D+2*M+2)}for(D=0;D<I;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=I;D<2*I;D++)x[D]=0;return new u(x,0)};function q(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function J(N,I){this.g=N,this.h=I}function se(N,I){if(b(I))throw Error("division by zero");if(b(N))return new J(w,w);if(L(N))return I=se(O(N),I),new J(O(I.g),O(I.h));if(L(I))return I=se(N,O(I)),new J(O(I.g),I.h);if(30<N.g.length){if(L(N)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var x=T,D=I;0>=D.l(N);)x=ie(x),D=ie(D);var M=ue(x,1),j=ue(D,1);for(D=ue(D,2),x=ue(x,2);!b(D);){var R=j.add(D);0>=R.l(N)&&(M=M.add(x),j=R),D=ue(D,1),x=ue(x,1)}return I=W(N,M.j(I)),new J(M,I)}for(M=w;0<=N.l(I);){for(x=Math.max(1,Math.floor(N.m()/I.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=m(x),R=j.j(I);L(R)||0<R.l(N);)x-=D,j=m(x),R=j.j(I);b(j)&&(j=T),M=M.add(j),N=W(N,R)}return new J(M,N)}n.A=function(N){return se(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],D=0;D<I;D++)x[D]=this.i(D)&N.i(D);return new u(x,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],D=0;D<I;D++)x[D]=this.i(D)|N.i(D);return new u(x,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],D=0;D<I;D++)x[D]=this.i(D)^N.i(D);return new u(x,this.h^N.h)};function ie(N){for(var I=N.g.length+1,x=[],D=0;D<I;D++)x[D]=N.i(D)<<1|N.i(D-1)>>>31;return new u(x,N.h)}function ue(N,I){var x=I>>5;I%=32;for(var D=N.g.length-x,M=[],j=0;j<D;j++)M[j]=0<I?N.i(j+x)>>>I|N.i(j+x+1)<<32-I:N.i(j+x);return new u(M,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,bi=u}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ow,vl,Fw,Lc,op,jw,Uw,Bw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break e;_=_[U]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var H=_++;return{value:g(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function C(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,H){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return g.prototype[U].apply(S,re)}}function L(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function O(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const U=c.length||0,H=S.length||0;c.length=U+H;for(let re=0;re<H;re++)c[U+re]=S[re]}else c.push(S)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var ie=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ue(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function N(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let H=0;H<x.length;H++)_=x[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function R(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,_){const S=Rt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Rt=new W(()=>new kt,c=>c.reset());class kt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ne=!1,me=new Je,oe=()=>{const c=d.Promise.resolve(void 0);Ae=()=>{c.then(F)}};var F=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){j(_)}var g=Rt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ne=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function xe(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ie){e:{try{se(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}b(xe,ge);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(c,g,_,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function St(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ir(c){this.src=c,this.g={},this.h=0}Ir.prototype.add=function(c,g,_,S,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var re=Zr(c,g,S,U);return-1<re?(g=c[re],_||(g.fa=!1)):(g=new He(g,this.src,H,!!S,U),g.fa=_,c.push(g)),g};function Hs(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(St(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Zr(c,g,_,S){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==S)return U}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Ws={};function wa(c,g,_,S,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)wa(c,g[H],_,S,U);return null}return _=Sa(_),c&&c[je]?c.K(g,_,m(S)?!!S.capture:!1,U):Ea(c,g,_,!1,S,U)}function Ea(c,g,_,S,U,H){if(!g)throw Error("Invalid event type");var re=m(U)?!!U.capture:!!U,ze=Ks(c);if(ze||(c[Yi]=ze=new Ir(c)),_=ze.add(g,_,S,re,H),_.proxy)return _;if(S=uu(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ce||(U=re),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(Pr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function uu(){function c(_){return g.call(c.src,c.listener,_)}const g=Ta;return c}function qs(c,g,_,S,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)qs(c,g[H],_,S,U);else S=m(S)?!!S.capture:!!S,_=Sa(_),c&&c[je]?(c=c.i,g=String(g).toString(),g in c.g&&(H=c.g[g],_=Zr(H,_,S,U),-1<_&&(St(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ks(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Zr(g,_,S,U)),(_=-1<c?g[c]:null)&&Ar(_))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[je])Hs(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(Pr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Ks(g))?(Hs(_,c),_.h==0&&(_.src=null,g[Yi]=null)):St(c)}}}function Pr(c){return c in Ws?Ws[c]:Ws[c]="on"+c}function Ta(c,g){if(c.da)c=!0;else{g=new xe(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ar(c),c=_.call(S,g)}return c}function Ks(c){return c=c[Yi],c instanceof Ir?c:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(c){return typeof c=="function"?c:(c[Gs]||(c[Gs]=function(g){return c.handleEvent(g)}),c[Gs])}function gt(){G.call(this),this.i=new Ir(this),this.M=this,this.F=null}b(gt,G),gt.prototype[je]=!0,gt.prototype.removeEventListener=function(c,g,_,S){qs(this,c,g,_,S)};function yt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var U=g;g=new ge(S,c),D(g,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var re=g.g=_[H];U=Cr(re,S,!0,g)&&U}if(re=g.g=c,U=Cr(re,S,!0,g)&&U,U=Cr(re,S,!1,g)&&U,_)for(H=0;H<_.length;H++)re=g.g=_[H],U=Cr(re,S,!1,g)&&U}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)St(_[S]);delete c.g[g],c.h--}}this.F=null},gt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},gt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function Cr(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var re=g[H];if(re&&!re.da&&re.capture==_){var ze=re.listener,vt=re.ha||re.src;re.fa&&Hs(c.i,re),U=ze.call(vt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ia(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ei(c){c.g=Ia(()=>{c.g=null,c.i&&(c.i=!1,ei(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ji extends G{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ei(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(c){G.call(this),this.h=c,this.g={}}b(Zi,G);var Aa=[];function Pa(c){ue(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ar(g)},c),c.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),Pa(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ca=d.JSON.stringify,xa=d.JSON.parse,Ra=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function es(){}es.prototype.h=null;function Qs(c){return c.h||(c.h=c.i())}function Xs(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){ge.call(this,"d")}b(nr,ge);function Ys(){ge.call(this,"c")}b(Ys,ge);var rr={},ka=null;function ts(){return ka=ka||new gt}rr.La="serverreachability";function Na(c){ge.call(this,rr.La,c)}b(Na,ge);function xr(c){const g=ts();yt(g,new Na(g))}rr.STAT_EVENT="statevent";function Da(c,g){ge.call(this,rr.STAT_EVENT,c),this.stat=g}b(Da,ge);function at(c){const g=ts();yt(g,new Da(g,c))}rr.Ma="timingevent";function Js(c,g){ge.call(this,rr.Ma,c),this.size=g}b(Js,ge);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function ns(){this.g=!0}ns.prototype.xa=function(){this.g=!1};function rs(c,g,_,S,U,H){c.info(function(){if(c.g)if(H)for(var re="",ze=H.split("&"),vt=0;vt<ze.length;vt++){var Me=ze[vt].split("=");if(1<Me.length){var It=Me[0];Me=Me[1];var ht=It.split("_");re=2<=ht.length&&ht[1]=="type"?re+(It+"="+Me+"&"):re+(It+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+re})}function Zs(c,g,_,S,U,H,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+H+" "+re})}function On(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Yh(c,_)+(S?" "+S:"")})}function Va(c,g){c.info(function(){return"TIMEOUT: "+g})}ns.prototype.info=function(){};function Yh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return Ca(_)}catch{return g}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function is(){}b(is,es),is.prototype.g=function(){return new XMLHttpRequest},is.prototype.i=function(){return{}},Fn=new is;function jn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}var ba={},to={};function no(c,g,_){c.L=1,c.v=si(dn(g)),c.m=_,c.P=!0,Ma(c,null)}function Ma(c,g){c.F=Date.now(),We(c),c.A=dn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ai(_.i,"t",S),c.C=0,_=c.j.J,c.h=new hu,c.g=Ru(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Ji(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Aa[0]=U.toString()),U=Aa);for(var H=0;H<U.length;H++){var re=wa(_,U[H],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),xr(),rs(c.i,c.u,c.A,c.l,c.R,c.m)}jn.prototype.ca=function(c){c=c.target;const g=this.M;g&&tn(c)==3?g.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const ht=tn(this.g);var g=this.g.Ba();const An=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Ba(this.g)))){this.J||ht!=4||g==7||(g==8||0>=An?xr(3):xr(2)),ss(this);var _=this.g.Z();this.X=_;t:if(du(this)){var S=Ba(this.g);c="";var U=S.length,H=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),ti(this);var re="";break t}this.h.i=new d.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(H&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Zs(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,vt=this.g;if((ze=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ze)){var Me=ze;break t}}Me=null}if(_=Me)On(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,_);else{this.o=!1,this.s=3,at(12),Sn(this),ti(this);break e}}if(this.P){_=!0;let pn;for(;!this.J&&this.C<re.length;)if(pn=Jh(this,re),pn==to){ht==4&&(this.s=4,at(14),_=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==ba){this.s=4,at(15),On(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else On(this.i,this.l,pn,null),La(this,pn);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||re.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)On(this.i,this.l,re,"[Invalid Chunked Response]"),Sn(this),ti(this);else if(0<re.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),$a(It),It.M=!0,at(11))}}else On(this.i,this.l,re,null),La(this,re);ht==4&&Sn(this),this.o&&!this.J&&(ht==4?po(this.j,this):(this.o=!1,We(this)))}else lo(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Sn(this),ti(this)}}}catch{}finally{}};function du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Jh(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?to:(_=Number(g.substring(_,S)),isNaN(_)?ba:(S+=1,S+_>g.length?to:(g=g.slice(S,S+_),c.C=S+_,g)))}jn.prototype.cancel=function(){this.J=!0,Sn(this)};function We(c){c.S=Date.now()+c.I,fu(c,c.I)}function fu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(T(c.ba,c),g)}function ss(c){c.B&&(d.clearTimeout(c.B),c.B=null)}jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(xr(),at(17)),Sn(this),this.s=2,ti(this)):fu(this,this.S-c)};function ti(c){c.j.G==0||c.J||po(c.j,c)}function Sn(c){ss(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Pa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function La(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Xt(_.h,c))){if(!c.K&&Xt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fo(_),Hn(_);else break e;ho(_),at(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ln(T(_.Za,_),6e3));if(1>=mu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vr(_,11)}else if((c.K||_.g==c)&&fo(_),!q(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Me=U[g];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const It=Me[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const ht=Me[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const An=Me[5];An!=null&&typeof An=="number"&&0<An&&(S=1.5*An,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const pn=c.g;if(pn){const ds=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var H=S.h;H.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Oa(H,H.h),H.h=null))}if(S.D){const go=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(S.ya=go,$e(S.I,S.D,go))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var re=c;if(S.qa=xu(S,S.J?S.ia:null,S.W),re.K){gu(S.h,re);var ze=re,vt=S.L;vt&&(ze.I=vt),ze.B&&(ss(ze),We(ze)),S.g=re}else hs(S);0<_.i.length&&ar(_)}else Me[0]!="stop"&&Me[0]!="close"||Vr(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Vr(_,7):Dt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}xr(4)}catch{}}var pu=class{constructor(c,g){this.g=c,this.map=g}};function os(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mu(c){return c.h?1:c.g?c.g.size:0}function Xt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Oa(c,g){c.g?c.g.add(g):c.h=g}function gu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}os.prototype.cancel=function(){if(this.i=yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return L(c.i)}function ro(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function io(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function ni(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=io(c),S=ro(c),U=S.length,H=0;H<U;H++)g.call(void 0,S[H],_&&_[H],c)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var H=c[_].substring(0,S);U=c[_].substring(S+1)}else H=c[_];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Rr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rr){this.h=c.h,ls(this,c.j),this.o=c.o,this.g=c.g,ri(this,c.s),this.l=c.l;var g=c.i,_=new ir;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ii(this,_),this.m=c.m}else c&&(g=String(c).match(as))?(this.h=!1,ls(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),ri(this,g[4]),this.l=Ve(g[5]||"",!0),ii(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Rr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(oi(g,so,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(oi(g,so,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(oi(_,_.charAt(0)=="/"?wu:_u,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",oi(_,Fa)),c.join("")};function dn(c){return new Rr(c)}function ls(c,g,_){c.j=_?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ri(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ii(c,g,_){g instanceof ir?(c.i=g,sr(c.i,c.h)):(_||(g=oi(g,Eu)),c.i=new ir(g,c.h))}function $e(c,g,_){c.i.set(g,_)}function si(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function oi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var so=/[#\/\?@]/g,_u=/[#\?:]/g,wu=/[#\?]/g,Eu=/[#\?@]/g,Fa=/#/g;function ir(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ir.prototype,n.add=function(c,g){Nt(this),this.i=null,c=In(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Un(c,g){Nt(c),g=In(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bn(c,g){return Nt(c),g=In(c,g),c.g.has(g)}n.forEach=function(c,g){Nt(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(g,U,S,this)},this)},this)},n.na=function(){Nt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const U=c[S];for(let H=0;H<U.length;H++)_.push(g[S])}return _},n.V=function(c){Nt(this);let g=[];if(typeof c=="string")Bn(this,c)&&(g=g.concat(this.g.get(In(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Nt(this),this.i=null,c=In(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ai(c,g,_){Un(c,g),0<_.length&&(c.i=null,c.g.set(In(c,g),L(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const H=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var U=H;re[S]!==""&&(U+="="+encodeURIComponent(String(re[S]))),c.push(U)}}return this.i=c.join("&")};function In(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sr(c,g){g&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Un(this,S),ai(this,U,_))},c)),c.j=g}function ed(c,g){const _=new ns;if(d.Image){const S=new Image;S.onload=C(en,_,"TestLoadImage: loaded",!0,g,S),S.onerror=C(en,_,"TestLoadImage: error",!1,g,S),S.onabort=C(en,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=C(en,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Tu(c,g){const _=new ns,S=new AbortController,U=setTimeout(()=>{S.abort(),en(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?en(_,"TestPingServer: ok",!0,g):en(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),en(_,"TestPingServer: error",!1,g)})}function en(c,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function td(){this.g=new Ra}function Su(c,g,_){const S=_||"";try{ni(c,function(U,H){let re=U;m(U)&&(re=Ca(U)),g.push(S+H+"="+encodeURIComponent(re))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function kr(c){this.l=c.Ub||null,this.j=c.eb||!1}b(kr,es),kr.prototype.g=function(){return new us(this.l,this.j)},kr.prototype.i=function(c){return function(){return c}}({});function us(c,g){gt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(us,gt),n=us.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Iu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Iu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zn(this):$n(this),this.readyState==3&&Iu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nr(c){let g="";return ue(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function li(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Nr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,g,_))}function Ze(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ze,gt);var nd=/^https?$/i,ja=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Qs(this.o):Qs(Fn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){cs(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ja,g,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){cs(this,H)}};function cs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,oo(c),fn(c)}function oo(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},n.bb=function(){Ua(this)};function Ua(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)Ia(c.Ea,0,c);else if(yt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=re===0){var U=String(c.D).match(as)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!nd.test(U?U.toLowerCase():"")}_=S}if(_)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var H=2<tn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",oo(c)}}finally{fn(c)}}}}function fn(c,g){if(c.g){ao(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||yt(c,"ready");try{_.onreadystatechange=S}catch{}}}function ao(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),xa(g)}};function Ba(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(c){const g={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(q(c[S]))continue;var _=M(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[U]||[];g[U]=H,H.push(_)}N(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function za(c){this.Aa=0,this.i=[],this.j=new ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,c),this.cb=or("retryDelaySeedMs",1e4,c),this.Wa=or("forwardChannelMaxRetries",2,c),this.wa=or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new os(c&&c.concurrentRequestLimit),this.Da=new td,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=za.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){at(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=xu(this,null,this.W),ar(this)};function Dt(c){if(uo(c),c.G==3){var g=c.U++,_=dn(c.I);if($e(_,"SID",c.K),$e(_,"RID",g),$e(_,"TYPE","terminate"),Dr(c,_),g=new jn(c,c.j,g),g.L=2,g.v=si(dn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ru(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}Cu(c)}function Hn(c){c.g&&($a(c),c.g.cancel(),c.g=null)}function uo(c){Hn(c),c.u&&(d.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ar(c){if(!hn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ae||oe(),ne||(Ae(),ne=!0),me.add(g,c),c.B=0}}function rd(c,g){return mu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(T(c.Ga,c,g),Pu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new jn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=I(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ui(this,U,g),_=dn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Dr(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(Nr(H)))+"&"+g:this.m&&li(_,this.m,H)),Oa(this.h,U),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",g),$e(_,"SID","null"),U.T=!0,no(U,_,null)):no(U,_,g),this.G=2}}else this.G==3&&(c?co(this,c):this.i.length==0||hn(this.h)||co(this))};function co(c,g){var _;g?_=g.l:_=c.U++;const S=dn(c.I);$e(S,"SID",c.K),$e(S,"RID",_),$e(S,"AID",c.T),Dr(c,S),c.m&&c.o&&li(S,c.m,c.o),_=new jn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ui(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oa(c.h,_),no(_,S,g)}function Dr(c,g){c.H&&ue(c.H,function(_,S){$e(g,S,_)}),c.l&&ni({},function(_,S){$e(g,S,_)})}function ui(c,g,_){_=Math.min(c.i.length,_);var S=c.l?T(c.l.Na,c.l,c):null;e:{var U=c.i;let H=-1;for(;;){const re=["count="+_];H==-1?0<_?(H=U[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let ze=!0;for(let vt=0;vt<_;vt++){let Me=U[vt].g;const It=U[vt].map;if(Me-=H,0>Me)H=Math.max(0,U[vt].g-100),ze=!1;else try{Su(It,re,"req"+Me+"_")}catch{S&&S(It)}}if(ze){S=re.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function hs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ae||oe(),ne||(Ae(),ne=!0),me.add(g,c),c.v=0}}function ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(T(c.Fa,c),Pu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Hn(this),Au(this))};function $a(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Au(c){c.g=new jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dn(c.qa);$e(g,"RID","rpc"),$e(g,"SID",c.K),$e(g,"AID",c.T),$e(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(g,"TO",c.ja),$e(g,"TYPE","xmlhttp"),Dr(c,g),c.m&&c.o&&li(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=si(dn(g)),_.m=null,_.P=!0,Ma(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),ho(this),at(19))};function fo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function po(c,g){var _=null;if(c.g==g){fo(c),$a(c),c.g=null;var S=2}else if(Xt(c.h,g))_=g.D,gu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=ts(),yt(S,new Js(S,_)),ar(c)}else hs(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&rd(c,g)||S==2&&ho(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Vr(c,5);break;case 4:Vr(c,10);break;case 3:Vr(c,6);break;default:Vr(c,2)}}}function Pu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Vr(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),S=c.Xa;const U=!S;S=new Rr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ls(S,"https"),si(S),U?ed(S.toString(),_):Tu(S.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(g),Cu(c),uo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Cu(c){if(c.G=0,c.ka=[],c.l){const g=yu(c.h);(g.length!=0||c.i.length!=0)&&(O(c.ka,g),O(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function xu(c,g,_){var S=_ instanceof Rr?dn(_):new Rr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ri(S,S.s);else{var U=d.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new Rr(null);S&&ls(H,S),g&&(H.g=g),U&&ri(H,U),_&&(H.l=_),S=H}return _=c.D,g=c.ya,_&&g&&$e(S,_,g),$e(S,"VER",c.la),Dr(c,S),S}function Ru(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ze(new kr({eb:_})):new Ze(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ha(){}n=Ha.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mo(){}mo.prototype.g=function(c,g){return new Yt(c,g)};function Yt(c,g){gt.call(this),this.g=new za(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new lr(this)}b(Yt,gt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Dt(this.g)},Yt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ca(c),c=_);g.i.push(new pu(g.Ya++,c)),g.G==3&&ar(g)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Yt.aa.N.call(this)};function ku(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(ku,nr);function Nu(){Ys.call(this),this.status=1}b(Nu,Ys);function lr(c){this.g=c}b(lr,Ha),lr.prototype.ua=function(){yt(this.g,"a")},lr.prototype.ta=function(c){yt(this.g,new ku(c))},lr.prototype.sa=function(c){yt(this.g,new Nu)},lr.prototype.ra=function(){yt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Bw=function(){return new mo},Uw=function(){return ts()},jw=rr,op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Lc=eo,cu.COMPLETE="complete",Fw=cu,Xs.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,vl=Xs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Ow=Ze}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",Hv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Hp("@firebase/firestore");function Oo(){return Ls.logLevel}function le(n,...e){if(Ls.logLevel<=ke.DEBUG){const t=e.map(Kp);Ls.debug(`Firestore (${da}): ${n}`,...t)}}function Gr(n,...e){if(Ls.logLevel<=ke.ERROR){const t=e.map(Kp);Ls.error(`Firestore (${da}): ${n}`,...t)}}function Zo(n,...e){if(Ls.logLevel<=ke.WARN){const t=e.map(Kp);Ls.warn(`Firestore (${da}): ${n}`,...t)}}function Kp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,zw(n,r,t)}function zw(n,e,t){let r=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Gr(r),new Error(r)}function Be(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||zw(e,o,r)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class CP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xP{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new $w(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class RP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new RP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const r=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=DP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function ap(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return bf(o)===bf(a)?Ne(o,a):bf(o)?1:-1}return Ne(n.length,e.length)}const VP=55296,bP=57343;function bf(n){const e=n.charCodeAt(0);return e>=VP&&e<=bP}function ea(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__name__";class fr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=fr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ne(e.length,t.length)}static compareSegments(e,t){const r=fr.isNumericId(e),o=fr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):ap(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}}class Qe extends fr{construct(e,t,r){return new Qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const MP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends fr{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return MP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new Ot([qv])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new fe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new fe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n,e,t){if(!t)throw new fe(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LP(n,e,t,r){if(e===!0&&r===!0)throw new fe(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Kv(n){if(!ye.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gv(n){if(ye.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ww(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qp(n);throw new fe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Yl(n,e){if(!Ww(n))throw new fe(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new fe(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=-62135596800,Xv=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Xv);return new Xe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Qv)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xv}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yl(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:pt("string",Xe._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Xe(0,0))}static max(){return new Ie(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function OP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new Xe(t+1,0):new Xe(t,r));return new Oi(o,ye.empty(),e)}function FP(n){return new Oi(n.readTime,n.key,Ll)}class Oi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Oi(Ie.min(),ye.empty(),Ll)}static max(){return new Oi(Ie.max(),ye.empty(),Ll)}}function jP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==UP)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,r)=>{t(e)})}static reject(e){return new K((t,r)=>{r(e)})}static waitFor(e){return new K((t,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next(o=>o?K.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new K((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new K((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function zP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function Ih(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function $P(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="";function HP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yv(e)),e=WP(n.get(t),e);return Yv(e)}function WP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case qw:t+="";break;default:t+=a}}return t}function Yv(n){return n+qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Lt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new vn([])}unionWith(e){let t=new Tt(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Gw("Invalid base64 string: "+a):a}}(e);return new jt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const qP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=qP.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ji(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="server_timestamp",Xw="__type__",Yw="__previous_value__",Jw="__local_write_time__";function Yp(n){return(n?.mapValue?.fields||{})[Xw]?.stringValue===Qw}function Ah(n){const e=n.mapValue.fields[Yw];return Yp(e)?Ah(e):e}function Ol(n){const e=Fi(n.mapValue.fields[Jw].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t,r,o,a,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const Jc="(default)";class Fl{constructor(e,t){this.projectId=e,this.database=t||Jc}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="__type__",GP="__max__",Cc={mapValue:{}},eE="__vector__",Zc="value";function Ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yp(n)?4:XP(n)?9007199254740991:QP(n)?10:11:Te(28295,{value:n})}function Tr(n,e){if(n===e)return!0;const t=Ui(n);if(t!==Ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ol(n).isEqual(Ol(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Fi(o.timestampValue),d=Fi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ji(o.bytesValue).isEqual(ji(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ct(o.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ct(o.integerValue)===ct(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ct(o.doubleValue),d=ct(a.doubleValue);return u===d?Yc(u)===Yc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Jv(u)!==Jv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Tr(u[f],d[f])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function jl(n,e){return(n.values||[]).find(t=>Tr(t,e))!==void 0}function ta(n,e){if(n===e)return 0;const t=Ui(n),r=Ui(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=ct(a.integerValue||a.doubleValue),f=ct(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return e_(n.timestampValue,e.timestampValue);case 4:return e_(Ol(n),Ol(e));case 5:return ap(n.stringValue,e.stringValue);case 6:return function(a,u){const d=ji(a),f=ji(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ne(d[m],f[m]);if(v!==0)return v}return Ne(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ne(ct(a.latitude),ct(u.latitude));return d!==0?d:Ne(ct(a.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return t_(n.arrayValue,e.arrayValue);case 10:return function(a,u){const d=a.fields||{},f=u.fields||{},m=d[Zc]?.arrayValue,v=f[Zc]?.arrayValue,w=Ne(m?.values?.length||0,v?.values?.length||0);return w!==0?w:t_(m,v)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Cc.mapValue&&u===Cc.mapValue)return 0;if(a===Cc.mapValue)return 1;if(u===Cc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const T=ap(f[w],v[w]);if(T!==0)return T;const C=ta(d[f[w]],m[v[w]]);if(C!==0)return C}return Ne(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function e_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Fi(n),r=Fi(e),o=Ne(t.seconds,r.seconds);return o!==0?o:Ne(t.nanos,r.nanos)}function t_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ta(t[o],r[o]);if(a)return a}return Ne(t.length,r.length)}function na(n){return lp(n)}function lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=lp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${lp(t.fields[u])}`;return o+"}"}(n.mapValue):Te(61005,{value:n})}function Oc(n){switch(Ui(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(n);return e?16+Oc(e):16;case 5:return 2*n.stringValue.length;case 6:return ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Oc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Wi(r.fields,(a,u)=>{o+=a.length+Oc(u)}),o}(n.mapValue);default:throw Te(13486,{value:n})}}function up(n){return!!n&&"integerValue"in n}function Jp(n){return!!n&&"arrayValue"in n}function n_(n){return!!n&&"nullValue"in n}function r_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fc(n){return!!n&&"mapValue"in n}function QP(n){return(n?.mapValue?.fields||{})[Zw]?.stringValue===eE}function Pl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Wi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pl(n.arrayValue.values[t]);return e}return{...n}}function XP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=Ot.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Pl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Wi(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new cn(Pl(this.value))}}function tE(n){const e=[];return Wi(n.fields,(t,r)=>{const o=new Ot([t]);if(Fc(r)){const a=tE(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Kt(e,0,Ie.min(),Ie.min(),Ie.min(),cn.empty(),0)}static newFoundDocument(e,t,r,o){return new Kt(e,1,t,Ie.min(),r,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Ie.min(),Ie.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Ie.min(),Ie.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.position=e,this.inclusive=t}}function i_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ta(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function s_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t="asc"){this.field=e,this.dir=t}}function YP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{}class Et extends nE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ZP(e,t,r):t==="array-contains"?new nC(e,r):t==="in"?new rC(e,r):t==="not-in"?new iC(e,r):t==="array-contains-any"?new sC(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eC(e,r):new tC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ta(t,this.value)):t!==null&&Ui(this.value)===Ui(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends nE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Sr(e,t)}matches(e){return rE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rE(n){return n.op==="and"}function iE(n){return JP(n)&&rE(n)}function JP(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function cp(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+na(n.value);if(iE(n))return n.filters.map(e=>cp(e)).join(",");{const e=n.filters.map(t=>cp(t)).join(",");return`${n.op}(${e})`}}function sE(n,e){return n instanceof Et?function(r,o){return o instanceof Et&&r.op===o.op&&r.field.isEqual(o.field)&&Tr(r.value,o.value)}(n,e):n instanceof Sr?function(r,o){return o instanceof Sr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&sE(u,o.filters[d]),!0):!1}(n,e):void Te(19439)}function oE(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(oE).join(" ,")+"}"}(n):"Filter"}class ZP extends Et{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class eC extends Et{constructor(e,t){super(e,"in",t),this.keys=aE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tC extends Et{constructor(e,t){super(e,"not-in",t),this.keys=aE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aE(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class nC extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jp(t)&&jl(t.arrayValue,this.value)}}class rC extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&jl(this.value.arrayValue,t)}}class iC extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jl(this.value.arrayValue,t)}}class sC extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function o_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new oC(n,e,t,r,o,a,u)}function Zp(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>na(r)).join(",")),e.Te=t}return e.Te}function em(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!s_(n.startAt,e.startAt)&&s_(n.endAt,e.endAt)}function hp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aC(n,e,t,r,o,a,u,d){return new Ph(n,e,t,r,o,a,u,d)}function tm(n){return new Ph(n)}function a_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lC(n){return n.collectionGroup!==null}function Cl(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Tt(Ot.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new th(a,r))}),t.has(Ot.keyField().canonicalString())||e.Ie.push(new th(Ot.keyField(),r))}return e.Ie}function pr(n){const e=Pe(n);return e.Ee||(e.Ee=uC(e,Cl(n))),e.Ee}function uC(n,e){if(n.limitType==="F")return o_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new th(o.field,a)});const t=n.endAt?new eh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new eh(n.startAt.position,n.startAt.inclusive):null;return o_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dp(n,e,t){return new Ph(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ch(n,e){return em(pr(n),pr(e))&&n.limitType===e.limitType}function lE(n){return`${Zp(pr(n))}|lt:${n.limitType}`}function Fo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>oE(o)).join(", ")}]`),Ih(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>na(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>na(o)).join(",")),`Target(${r})`}(pr(n))}; limitType=${n.limitType})`}function xh(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Cl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,f){const m=i_(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,Cl(r),o)||r.endAt&&!function(u,d,f){const m=i_(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,Cl(r),o))}(n,e)}function cC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uE(n){return(e,t)=>{let r=!1;for(const o of Cl(n)){const a=hC(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function hC(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ta(f,m):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new it(ye.comparator);function Qr(){return dC}const cE=new it(ye.comparator);function _l(...n){let e=cE;for(const t of n)e=e.insert(t.key,t);return e}function hE(n){let e=cE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ks(){return xl()}function dE(){return xl()}function xl(){return new js(n=>n.toString(),(n,e)=>n.isEqual(e))}const fC=new it(ye.comparator),pC=new Tt(ye.comparator);function De(...n){let e=pC;for(const t of n)e=e.add(t);return e}const mC=new Tt(Ne);function gC(){return mC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function fE(n){return{integerValue:""+n}}function yC(n,e){return $P(e)?fE(e):nm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function vC(n,e,t){return n instanceof nh?function(o,a){const u={fields:{[Xw]:{stringValue:Qw},[Jw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Yp(a)&&(a=Ah(a)),a&&(u.fields[Yw]=a),{mapValue:u}}(t,e):n instanceof Ul?mE(n,e):n instanceof Bl?gE(n,e):function(o,a){const u=pE(o,a),d=l_(u)+l_(o.Ae);return up(u)&&up(o.Ae)?fE(d):nm(o.serializer,d)}(n,e)}function _C(n,e,t){return n instanceof Ul?mE(n,e):n instanceof Bl?gE(n,e):t}function pE(n,e){return n instanceof rh?function(r){return up(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class nh extends Rh{}class Ul extends Rh{constructor(e){super(),this.elements=e}}function mE(n,e){const t=yE(e);for(const r of n.elements)t.some(o=>Tr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Bl extends Rh{constructor(e){super(),this.elements=e}}function gE(n,e){let t=yE(e);for(const r of n.elements)t=t.filter(o=>!Tr(o,r));return{arrayValue:{values:t}}}class rh extends Rh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function l_(n){return ct(n.integerValue||n.doubleValue)}function yE(n){return Jp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wC(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Ul&&o instanceof Ul||r instanceof Bl&&o instanceof Bl?ea(r.elements,o.elements,Tr):r instanceof rh&&o instanceof rh?Tr(r.Ae,o.Ae):r instanceof nh&&o instanceof nh}(n.transform,e.transform)}class EC{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kh{}function vE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rm(n.key,Mn.none()):new Jl(n.key,n.data,Mn.none());{const t=n.data,r=cn.empty();let o=new Tt(Ot.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new qi(n.key,r,new vn(o.toArray()),Mn.none())}}function TC(n,e,t){n instanceof Jl?function(o,a,u){const d=o.value.clone(),f=c_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qi?function(o,a,u){if(!jc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=c_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(_E(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Rl(n,e,t,r){return n instanceof Jl?function(a,u,d,f){if(!jc(a.precondition,u))return d;const m=a.value.clone(),v=h_(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof qi?function(a,u,d,f){if(!jc(a.precondition,u))return d;const m=h_(a.fieldTransforms,f,u),v=u.data;return v.setAll(_E(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return jc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function SC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=pE(r.transform,o||null);a!=null&&(t===null&&(t=cn.empty()),t.set(r.field,a))}return t||null}function u_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ea(r,o,(a,u)=>wC(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Jl extends kh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qi extends kh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _E(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c_(n,e,t){const r=new Map;Be(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,_C(u,d,t[o]))}return r}function h_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,vC(a,u,e))}return r}class rm extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&TC(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=vE(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,r)=>u_(t,r))&&ea(this.baseMutations,e.baseMutations,(t,r)=>u_(t,r))}}class im{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return fC}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new im(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Le;function xC(n){switch(n){case Q.OK:return Te(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function wE(n){if(n===void 0)return Gr("GRPC error has no .code"),Q.UNKNOWN;switch(n){case ft.OK:return Q.OK;case ft.CANCELLED:return Q.CANCELLED;case ft.UNKNOWN:return Q.UNKNOWN;case ft.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ft.INTERNAL:return Q.INTERNAL;case ft.UNAVAILABLE:return Q.UNAVAILABLE;case ft.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ft.NOT_FOUND:return Q.NOT_FOUND;case ft.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ft.ABORTED:return Q.ABORTED;case ft.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ft.DATA_LOSS:return Q.DATA_LOSS;default:return Te(39323,{code:n})}}(Le=ft||(ft={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new bi([4294967295,4294967295],0);function d_(n){const e=RC().encode(n),t=new Lw;return t.update(e),new Uint8Array(t.digest())}function f_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bi([t,r],0),new bi([o,a],0)]}class sm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wl(`Invalid padding: ${t}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(bi.fromNumber(r)));return o.compare(kC)===1&&(o=new bi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=d_(e),[r,o]=f_(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new sm(a,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=d_(e),[r,o]=f_(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nh(Ie.min(),o,new it(Ne),Qr(),De())}}class Zl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Zl(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class EE{constructor(e,t){this.targetId=e,this.Ce=t}}class TE{constructor(e,t,r=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class p_{constructor(){this.ve=0,this.Fe=m_(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),r=De();return this.Fe.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:a})}}),new Zl(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=m_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.Je=xc(),this.He=xc(),this.Ye=new it(Ne)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(hp(a))if(r===0){const u=new ye(a.path);this.et(t,u,Kt.newNoDocument(u,Ie.min()))}else Be(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=ji(r).toUint8Array()}catch(f){if(f instanceof Gw)return Zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new sm(u,o,a)}catch(f){return Zo(f instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((a,u)=>{const d=this.ot(u);if(d){if(a.current&&hp(d.target)){const f=new ye(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Kt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}});let r=De();this.He.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const o=new Nh(e,t,this.Ye,this.je,r);return this.je=Qr(),this.Je=xc(),this.He=xc(),this.Ye=new it(Ne),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new p_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Tt(Ne),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Tt(Ne),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xc(){return new it(ye.comparator)}function m_(){return new it(ye.comparator)}const DC={asc:"ASCENDING",desc:"DESCENDING"},VC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class MC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fp(n,e){return n.useProto3Json||Ih(e)?e:{value:e}}function ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LC(n,e){return ih(n,e.toTimestamp())}function mr(n){return Be(!!n,49232),Ie.fromTimestamp(function(t){const r=Fi(t);return new Xe(r.seconds,r.nanos)}(n))}function om(n,e){return pp(n,e).canonicalString()}function pp(n,e){const t=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function IE(n){const e=Qe.fromString(n);return Be(RE(e),10190,{key:e.toString()}),e}function mp(n,e){return om(n.databaseId,e.path)}function Mf(n,e){const t=IE(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(PE(t))}function AE(n,e){return om(n.databaseId,e)}function OC(n){const e=IE(n);return e.length===4?Qe.emptyPath():PE(e)}function gp(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PE(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function g_(n,e,t){return{name:mp(n,e),fields:t.value.mapValue.fields}}function FC(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Be(v===void 0||typeof v=="string",58123),jt.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),jt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?Q.UNKNOWN:wE(m.code);return new fe(v,m.message||"")}(u);t=new TE(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Mf(n,r.document.name),a=mr(r.document.updateTime),u=r.document.createTime?mr(r.document.createTime):Ie.min(),d=new cn({mapValue:{fields:r.document.fields}}),f=Kt.newFoundDocument(o,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Uc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Mf(n,r.document),a=r.readTime?mr(r.readTime):Ie.min(),u=Kt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new Uc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Mf(n,r.document),a=r.removedTargetIds||[];t=new Uc([],a,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new CC(o,a),d=r.targetId;t=new EE(d,u)}}return t}function jC(n,e){let t;if(e instanceof Jl)t={update:g_(n,e.key,e.value)};else if(e instanceof rm)t={delete:mp(n,e.key)};else if(e instanceof qi)t={update:g_(n,e.key,e.data),updateMask:GC(e.fieldMask)};else{if(!(e instanceof IC))return Te(16599,{Vt:e.type});t={verify:mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ul)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof rh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:LC(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(n,e.precondition)),t}function UC(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?mr(o.updateTime):mr(a);return u.isEqual(Ie.min())&&(u=mr(a)),new EC(u,o.transformResults||[])}(t,e))):[]}function BC(n,e){return{documents:[AE(n,e.path)]}}function zC(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AE(n,o);const a=function(m){if(m.length!==0)return xE(Sr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:jo(T.field),direction:WC(T.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=fp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:o}}function $C(n){let e=OC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Be(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const T=CE(w);return T instanceof Sr&&iE(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(b){return new th(Uo(b.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Ih(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,C=w.values||[];return new eh(C,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,C=w.values||[];return new eh(C,T)}(t.endAt)),aC(e,o,u,a,d,"F",f,m)}function HC(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Uo(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uo(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Uo(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(r=>CE(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function WC(n){return DC[n]}function qC(n){return VC[n]}function KC(n){return bC[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return Ot.fromServerFormat(n.fieldPath)}function xE(n){return n instanceof Et?function(t){if(t.op==="=="){if(r_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(n_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(r_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(n_(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:qC(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const r=t.getFilters().map(o=>xE(o));return r.length===1?r[0]:{compositeFilter:{op:KC(t.op),filters:r}}}(n):Te(54877,{filter:n})}function GC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t,r,o,a=Ie.min(),u=Ie.min(),d=jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.yt=e}}function XC(n){const e=$C({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.Cn=new JC}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Oi.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class JC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Tt(Qe.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Tt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(kE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ra(0)}static cr(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LruGarbageCollector",ZC=1048576;function __([n,e],[t,r]){const o=Ne(n,t);return o===0?Ne(e,r):o}class ex{constructor(e){this.Ir=e,this.buffer=new Tt(__),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();__(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(v_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pa(t)?le(v_,"Ignoring IndexedDB error during garbage collection: ",t):await fa(t)}await this.Vr(3e5)})}}class nx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Sh.ce);const r=new ex(t);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(y_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Oo()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function rx(n,e){return new nx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Rl(r.mutation,o,vn.empty(),Xe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){const o=ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=_l();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let a=Qr();const u=xl(),d=function(){return xl()}();return t.forEach((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof qi)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Rl(v.mutation,m,v.mutation.getFieldMask(),Xe.now())):u.set(m.key,vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>d.set(m,new sx(v,u.get(m)??null))),d))}recalculateAndSaveOverlays(e,t){const r=xl();let o=new it((u,d)=>u-d),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||vn.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||De()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=dE();v.forEach(T=>{if(!a.has(T)){const C=vE(t.get(T),r.get(T));C!==null&&w.set(T,C),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return K.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):K.resolve(ks());let d=Ll,f=a;return u.next(m=>K.forEach(m,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?K.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{f=f.insert(v,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,De())).next(v=>({batchId:d,changes:hE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=_l();return this.indexManager.getCollectionParents(e,a).next(d=>K.forEach(d,f=>{const m=function(w,T){return new Ph(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Kt.newInvalidDocument(v)))});let d=_l();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Rl(v.mutation,m,vn.empty(),Xe.now()),xh(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:XC(o.bundledQuery),readTime:mr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.overlays=new it(ye.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ks();return K.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),K.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const o=ks(),a=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new it((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=ks(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=ks(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return K.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new PC(t,r));let a=this.qr.get(t);a===void 0&&(a=De(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.Qr=new Tt(xt.$r),this.Ur=new Tt(xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new xt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new xt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Qe([])),r=new xt(t,e),o=new xt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Qe([])),r=new xt(t,e),o=new xt(t,e+1);let a=De();return this.Ur.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new xt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Ne(e.Yr,t.Yr)}static Kr(e,t){return Ne(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(xt.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new AC(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new xt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Xp:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xt(t,0),o=new xt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],u=>{const d=this.Xr(u.Yr);a.push(d)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(Ne);return t.forEach(o=>{const a=new xt(o,0),u=new xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],d=>{r=r.add(d.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new xt(new ye(a),0);let d=new Tt(Ne);return this.Zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)},u),K.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(t.mutations,o=>{const a=new xt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new xt(t,0),o=this.Zr.firstAfterOrEqual(r);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.ri=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let r=Qr();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Kt.newInvalidDocument(o))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Qr();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||jP(FP(v),r)<=0||(o.has(v.key)||xh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Te(9500)}ii(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dx(this)}getSize(e){return K.resolve(this.size)}}class dx extends ix{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.persistence=e,this.si=new js(t=>Zp(t),em),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new am,this.targetCount=0,this.ai=ra.ur()}forEachTarget(e,t){return this.si.forEach((r,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(a).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new ux,this.referenceDelegate=e(this),this.Pi=new fx(this),this.indexManager=new YC,this.remoteDocumentCache=function(o){return new hx(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new QC(t),this.Ii=new ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new cx(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const o=new px(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ai(e,t){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class px extends BP{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.Ri=new am,this.Vi=null}static mi(e){return new lm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const o=ye.fromPath(r);return this.gi(e,o).next(a=>{a||t.removeEntry(o,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class sh{constructor(e,t){this.persistence=e,this.pi=new js(r=>HP(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=rx(this,t)}static mi(e,t){return new sh(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return K.forEach(this.pi,(r,o)=>this.br(e,r,o).next(a=>a?K.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oc(e.data.value)),t}br(e,t,r){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return K.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=De(),o=De();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new um(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return oA()?8:zP(Qt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new mx;return this.Ss(e,t,u).next(d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>a.result)}bs(e,t,r,o){return r.documentReadCount<this.fs?(Oo()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Oo()<=ke.DEBUG&&le("QueryEngine","Query:",Fo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Oo()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):K.resolve())}ys(e,t){if(a_(t))return K.resolve(null);let r=pr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=dp(t,null,"F"),r=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,dp(t,null,"F")):this.vs(e,m,t,f)}))})))}ws(e,t,r,o){return a_(t)||o.isEqual(Ie.min())?K.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?K.resolve(null):(Oo()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fo(t)),this.vs(e,u,t,OP(o,Ll)).next(d=>d))})}Ds(e,t){let r=new Tt(uE(e));return t.forEach((o,a)=>{xh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Oo()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.ps.getDocumentsMatchingQuery(e,t,Oi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="LocalStore",yx=3e8;class vx{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(Ne),this.xs=new js(a=>Zp(a),em),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ox(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function _x(n,e,t,r){return new vx(n,e,t,r)}async function DE(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=De();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ls:m,removedBatchIds:u,addedBatchIds:d}))})})}function wx(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const w=m.batch,T=w.keys();let C=K.resolve();return T.forEach(b=>{C=C.next(()=>v.getEntry(f,b)).next(L=>{const O=m.docVersions.get(b);Be(O!==null,48541),L.version.compareTo(O)<0&&(w.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),v.addEntry(L)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=De();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function VE(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Ex(n,e){const t=Pe(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w)));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(jt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(w,C),function(L,O,W){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=yx?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,C,v)&&d.push(t.Pi.updateTargetData(a,C))});let f=Qr(),m=De();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(Tx(a,u,e.documentUpdates).next(v=>{f=v.ks,m=v.qs})),!r.isEqual(Ie.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return K.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ms=o,a))}function Tx(n,e,t){let r=De(),o=De();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Qr();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):le(cm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{ks:u,qs:o}})}function Sx(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ix(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Pi.getTargetData(r,e).next(a=>a?(o=a,K.resolve(o)):t.Pi.allocateTargetId(r).next(u=>(o=new ki(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function yp(n,e,t){const r=Pe(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!pa(u))throw u;le(cm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function w_(n,e,t){const r=Pe(n);let o=Ie.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const w=Pe(f),T=w.xs.get(v);return T!==void 0?K.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,v)}(r,u,pr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Ie.min(),t?a:De())).next(d=>(Ax(r,cC(e),d),{documents:d,Qs:a})))}function Ax(n,e,t){let r=n.Os.get(e)||Ie.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class E_{constructor(){this.activeTargetIds=gC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Px{constructor(){this.Mo=new E_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="ConnectivityMonitor";class S_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(T_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(T_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function vp(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="RestConnection",xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Jc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=vp(),d=this.zo(e,t.toUriEncodedString());le(Lf,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),v=ca(m);return this.Jo(e,d,f,r,v).then(w=>(le(Lf,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Zo(Lf,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}zo(e,t){const r=xx[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class Nx extends Rx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=vp();return new Promise((d,f)=>{const m=new Ow;m.setWithCredentials(!0),m.listenOnce(Fw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Lc.NO_ERROR:const w=m.getResponseJson();le(Ht,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Lc.TIMEOUT:le(Ht,`RPC '${e}' ${u} timed out`),f(new fe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const T=m.getStatus();if(le(Ht,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const b=C?.error;if(b&&b.status&&b.message){const L=function(W){const q=W.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(q)>=0?q:Q.UNKNOWN}(b.status);f(new fe(L,b.message))}else f(new fe(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new fe(Q.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(Ht,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);le(Ht,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)})}T_(e,t,r){const o=vp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Bw(),d=Uw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");le(Ht,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let T=!1,C=!1;const b=new kx({Yo:O=>{C?le(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(T||(le(Ht,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),le(Ht,`RPC '${e}' stream ${o} sending:`,O),w.send(O))},Zo:()=>w.close()}),L=(O,W,q)=>{O.listen(W,J=>{try{q(J)}catch(se){setTimeout(()=>{throw se},0)}})};return L(w,vl.EventType.OPEN,()=>{C||(le(Ht,`RPC '${e}' stream ${o} transport opened.`),b.o_())}),L(w,vl.EventType.CLOSE,()=>{C||(C=!0,le(Ht,`RPC '${e}' stream ${o} transport closed`),b.a_(),this.E_(w))}),L(w,vl.EventType.ERROR,O=>{C||(C=!0,Zo(Ht,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),b.a_(new fe(Q.UNAVAILABLE,"The operation could not be completed")))}),L(w,vl.EventType.MESSAGE,O=>{if(!C){const W=O.data[0];Be(!!W,16349);const q=W,J=q?.error||q[0]?.error;if(J){le(Ht,`RPC '${e}' stream ${o} received error:`,J);const se=J.status;let ie=function(I){const x=ft[I];if(x!==void 0)return wE(x)}(se),ue=J.message;ie===void 0&&(ie=Q.INTERNAL,ue="Unknown error status: "+se+" with message "+J.message),C=!0,b.a_(new fe(ie,ue)),w.close()}else le(Ht,`RPC '${e}' stream ${o} received:`,W),b.u_(W)}}),L(d,jw.STAT_EVENT,O=>{O.stat===op.PROXY?le(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===op.NOPROXY&&le(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n){return new MC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class ME{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===t&&this.G_(r,o)},r=>{e(()=>{const o=new fe(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(le(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dx extends ME{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=FC(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?mr(u.readTime):Ie.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=gp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=hp(f)?{documents:BC(a,f)}:{query:zC(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=SE(a,u.resumeToken);const m=fp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=ih(a,u.snapshotVersion.toTimestamp());const m=fp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=HC(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=gp(this.serializer),t.removeTarget=e,this.q_(t)}}class Vx extends ME{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=UC(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=gp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jC(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{}class Mx extends bx{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,pp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(Q.UNKNOWN,a.toString())})}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,pp(t,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Q.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Lx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class Ox{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{Us(this)&&(le(Os,"Restarting streams for network reachability change."),await async function(f){const m=Pe(f);m.Ea.add(4),await eu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Vh(m)}(this))})}),this.Ra=new Lx(r,o)}}async function Vh(n){if(Us(n))for(const e of n.da)await e(!0)}async function eu(n){for(const e of n.da)await e(!1)}function LE(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),pm(t)?fm(t):ma(t).O_()&&dm(t,e))}function hm(n,e){const t=Pe(n),r=ma(t);t.Ia.delete(e),r.O_()&&OE(t,e),t.Ia.size===0&&(r.O_()?r.L_():Us(t)&&t.Ra.set("Unknown"))}function dm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ma(n).Y_(e)}function OE(n,e){n.Va.Ue(e),ma(n).Z_(e)}function fm(n){n.Va=new NC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ma(n).start(),n.Ra.ua()}function pm(n){return Us(n)&&!ma(n).x_()&&n.Ia.size>0}function Us(n){return Pe(n).Ea.size===0}function FE(n){n.Va=void 0}async function Fx(n){n.Ra.set("Online")}async function jx(n){n.Ia.forEach((e,t)=>{dm(n,e)})}async function Ux(n,e){FE(n),pm(n)?(n.Ra.ha(e),fm(n)):n.Ra.set("Unknown")}async function Bx(n,e,t){if(n.Ra.set("Online"),e instanceof TE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(r){le(Os,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(n,r)}else if(e instanceof Uc?n.Va.Ze(e):e instanceof EE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const r=await VE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(jt.EMPTY_BYTE_STRING,v.snapshotVersion)),OE(a,f);const w=new ki(v.target,f,m,v.sequenceNumber);dm(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){le(Os,"Failed to raise snapshot:",r),await oh(n,r)}}async function oh(n,e,t){if(!pa(e))throw e;n.Ea.add(1),await eu(n),n.Ra.set("Offline"),t||(t=()=>VE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Os,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Vh(n)})}function jE(n,e){return e().catch(t=>oh(n,t,e))}async function bh(n){const e=Pe(n),t=Bi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xp;for(;zx(e);)try{const o=await Sx(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,$x(e,o)}catch(o){await oh(e,o)}UE(e)&&BE(e)}function zx(n){return Us(n)&&n.Ta.length<10}function $x(n,e){n.Ta.push(e);const t=Bi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function UE(n){return Us(n)&&!Bi(n).x_()&&n.Ta.length>0}function BE(n){Bi(n).start()}async function Hx(n){Bi(n).ra()}async function Wx(n){const e=Bi(n);for(const t of n.Ta)e.ea(t.mutations)}async function qx(n,e,t){const r=n.Ta.shift(),o=im.from(r,e,t);await jE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await bh(n)}async function Kx(n,e){e&&Bi(n).X_&&await async function(r,o){if(function(u){return xC(u)&&u!==Q.ABORTED}(o.code)){const a=r.Ta.shift();Bi(r).B_(),await jE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await bh(r)}}(n,e),UE(n)&&BE(n)}async function A_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),le(Os,"RemoteStore received new credentials");const r=Us(t);t.Ea.add(3),await eu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vh(t)}async function Gx(n,e){const t=Pe(n);e?(t.Ea.delete(2),await Vh(t)):e||(t.Ea.add(2),await eu(t),t.Ra.set("Unknown"))}function ma(n){return n.ma||(n.ma=function(t,r,o){const a=Pe(t);return a.sa(),new Dx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:Fx.bind(null,n),t_:jx.bind(null,n),r_:Ux.bind(null,n),H_:Bx.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),pm(n)?fm(n):n.Ra.set("Unknown")):(await n.ma.stop(),FE(n))})),n.ma}function Bi(n){return n.fa||(n.fa=function(t,r,o){const a=Pe(t);return a.sa(),new Vx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hx.bind(null,n),r_:Kx.bind(null,n),ta:Wx.bind(null,n),na:qx.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await bh(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Os,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new mm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),pa(n))return new fe(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=_l(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.ga=new it(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class ia{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ia(e,t,Ko.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Xx{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Pe(t),a=o.queries;o.queries=C_(),a.forEach((u,d)=>{for(const f of d.Sa)f.onError(r)})})(this,new fe(Q.ABORTED,"Firestore shutting down"))}}function C_(){return new js(n=>lE(n),Ch)}async function zE(n,e){const t=Pe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new Qx,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=gm(u,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&ym(t)}async function $E(n,e){const t=Pe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Yx(n,e){const t=Pe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&ym(t)}function Jx(n,e,t){const r=Pe(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function ym(n){n.Ca.forEach(e=>{e.next()})}var _p,x_;(x_=_p||(_p={})).Ma="default",x_.Cache="cache";class HE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.key=e}}class qE{constructor(e){this.key=e}}class Zx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=uE(e),this.tu=new Ko(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new P_,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),C=xh(this.query,w)?w:null,b=!!T&&this.mutatedKeys.has(T.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;T&&C?T.data.isEqual(C.data)?b!==L&&(r.track({type:3,doc:C}),O=!0):this.su(T,C)||(r.track({type:2,doc:C}),O=!0,(f&&this.eu(C,f)>0||m&&this.eu(C,m)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),O=!0):T&&!C&&(r.track({type:1,doc:T}),O=!0,(f||m)&&(d=!0)),O&&(C?(u=u.add(C),a=L?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,w)=>function(C,b){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:O})}};return L(C)-L(b)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new ia(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new P_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new qE(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new WE(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vm="SyncEngine";class eR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tR{constructor(e){this.key=e,this.hu=!1}}class nR{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new js(d=>lE(d),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new it(ye.comparator),this.Au=new Map,this.Ru=new am,this.Vu={},this.mu=new Map,this.fu=ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rR(n,e,t=!0){const r=JE(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await KE(r,e,t,!0),o}async function iR(n,e){const t=JE(n);await KE(t,e,!0,!1)}async function KE(n,e,t,r){const o=await Ix(n.localStore,pr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await sR(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&LE(n.remoteStore,o),d}async function sR(n,e,t,r,o){n.pu=(w,T,C)=>async function(L,O,W,q){let J=O.view.ru(W);J.Cs&&(J=await w_(L.localStore,O.query,!1).then(({documents:N})=>O.view.ru(N,J)));const se=q&&q.targetChanges.get(O.targetId),ie=q&&q.targetMismatches.get(O.targetId)!=null,ue=O.view.applyChanges(J,L.isPrimaryClient,se,ie);return k_(L,O.targetId,ue.au),ue.snapshot}(n,w,T,C);const a=await w_(n.localStore,e,!0),u=new Zx(e,a.Qs),d=u.ru(a.documents),f=Zl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);k_(n,t,m.au);const v=new eR(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function oR(n,e,t){const r=Pe(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter(u=>!Ch(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&hm(r.remoteStore,o.targetId),wp(r,o.targetId)}).catch(fa)):(wp(r,o.targetId),await yp(r.localStore,o.targetId,!0))}async function aR(n,e){const t=Pe(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hm(t.remoteStore,r.targetId))}async function lR(n,e,t){const r=mR(n);try{const o=await function(u,d){const f=Pe(u),m=Xe.now(),v=d.reduce((C,b)=>C.add(b.key),De());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let b=Qr(),L=De();return f.Ns.getEntries(C,v).next(O=>{b=O,b.forEach((W,q)=>{q.isValidDocument()||(L=L.add(W))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,b)).next(O=>{w=O;const W=[];for(const q of d){const J=SC(q,w.get(q.key).overlayedDocument);J!=null&&W.push(new qi(q.key,J,tE(J.value.mapValue),Mn.exists(!0)))}return f.mutationQueue.addMutationBatch(C,m,W,d)}).next(O=>{T=O;const W=O.applyToLocalDocumentSet(w,L);return f.documentOverlayCache.saveOverlays(C,O.batchId,W)})}).then(()=>({batchId:T.batchId,changes:hE(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new it(Ne)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m}(r,o.batchId,t),await tu(r,o.changes),await bh(r.remoteStore)}catch(o){const a=gm(o,"Failed to persist write");t.reject(a)}}async function GE(n,e){const t=Pe(n);try{const r=await Ex(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Au.get(a);u&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Be(u.hu,14607):o.removedDocuments.size>0&&(Be(u.hu,42227),u.hu=!1))}),await tu(t,r,e)}catch(r){await fa(r)}}function R_(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Pe(u);f.onlineState=d;let m=!1;f.queries.forEach((v,w)=>{for(const T of w.Sa)T.va(d)&&(m=!0)}),m&&ym(f)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uR(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new it(ye.comparator);u=u.insert(a,Kt.newNoDocument(a,Ie.min()));const d=De().add(a),f=new Nh(Ie.min(),new Map,new it(Ne),u,d);await GE(r,f),r.du=r.du.remove(a),r.Au.delete(e),_m(r)}else await yp(r.localStore,e,!1).then(()=>wp(r,e,t)).catch(fa)}async function cR(n,e){const t=Pe(n),r=e.batch.batchId;try{const o=await wx(t.localStore,e);XE(t,r,null),QE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await tu(t,o)}catch(o){await fa(o)}}async function hR(n,e,t){const r=Pe(n);try{const o=await function(u,d){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(w=>(Be(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);XE(r,e,t),QE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await tu(r,o)}catch(o){await fa(o)}}function QE(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function XE(n,e,t){const r=Pe(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function wp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||YE(n,r)})}function YE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(hm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),_m(n))}function k_(n,e,t){for(const r of t)r instanceof WE?(n.Ru.addReference(r.key,e),dR(n,r)):r instanceof qE?(le(vm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||YE(n,r.key)):Te(19791,{wu:r})}function dR(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(le(vm,"New document in limbo: "+t),n.Eu.add(r),_m(n))}function _m(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Qe.fromString(e)),r=n.fu.next();n.Au.set(r,new tR(t)),n.du=n.du.insert(t,r),LE(n.remoteStore,new ki(pr(tm(t.path)),r,"TargetPurposeLimboResolution",Sh.ce))}}async function tu(n,e,t){const r=Pe(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((d,f)=>{u.push(r.pu(f,e,t).then(m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){o.push(m);const v=um.As(f.targetId,m);a.push(v)}}))}),await Promise.all(u),r.Pu.H_(o),await async function(f,m){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(m,T=>K.forEach(T.Es,C=>v.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>K.forEach(T.ds,C=>v.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!pa(w))throw w;le(cm,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const C=v.Ms.get(T),b=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(b);v.Ms=v.Ms.insert(T,L)}}}(r.localStore,a))}async function fR(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){le(vm,"User change. New user:",e.toKey());const r=await DE(t.localStore,e);t.currentUser=e,function(a,u){a.mu.forEach(d=>{d.forEach(f=>{f.reject(new fe(Q.CANCELLED,u))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(t,r.Ls)}}function pR(n,e){const t=Pe(n),r=t.Au.get(e);if(r&&r.hu)return De().add(r.key);{let o=De();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function JE(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uR.bind(null,e),e.Pu.H_=Yx.bind(null,e.eventManager),e.Pu.yu=Jx.bind(null,e.eventManager),e}function mR(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hR.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _x(this.persistence,new gx,e.initialUser,this.serializer)}Cu(e){return new NE(lm.mi,this.serializer)}Du(e){return new Px}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class gR extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tx(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new NE(r=>sh.mi(r,t),this.serializer)}}class Ep{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fR.bind(null,this.syncEngine),await Gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xx}()}createDatastore(e){const t=Dh(e.databaseInfo.databaseId),r=function(a){return new Nx(a)}(e.databaseInfo);return function(a,u,d,f){return new Mx(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,d){return new Ox(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>R_(this.syncEngine,t,0),function(){return S_.v()?new S_:new Cx}())}createSyncEngine(e,t){return function(o,a,u,d,f,m,v){const w=new nR(o,a,u,d,f,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=Pe(t);le(Os,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class yR{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{le(zi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(le(zi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=gm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ff(n,e){n.asyncQueue.verifyOperationInProgress(),le(zi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await DE(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function N_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vR(n);le(zi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>A_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>A_(e.remoteStore,o)),n._onlineComponents=e}async function vR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(zi,"Using user provided OfflineComponentProvider");try{await Ff(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await Ff(n,new ah)}}else le(zi,"Using default OfflineComponentProvider"),await Ff(n,new gR(void 0));return n._offlineComponents}async function eT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(zi,"Using user provided OnlineComponentProvider"),await N_(n,n._uninitializedComponentsProvider._online)):(le(zi,"Using default OnlineComponentProvider"),await N_(n,new Ep))),n._onlineComponents}function _R(n){return eT(n).then(e=>e.syncEngine)}async function tT(n){const e=await eT(n),t=e.eventManager;return t.onListen=rR.bind(null,e.syncEngine),t.onUnlisten=oR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aR.bind(null,e.syncEngine),t}function wR(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new ZE({next:T=>{v.Nu(),u.enqueueAndForget(()=>$E(a,w));const C=T.docs.has(d);!C&&T.fromCache?m.reject(new fe(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&f&&f.source==="server"?m.reject(new fe(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new HE(tm(d.path),v,{includeMetadataChanges:!0,qa:!0});return zE(a,w)}(await tT(n),n.asyncQueue,e,t,r)),r.promise}function ER(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new ZE({next:T=>{v.Nu(),u.enqueueAndForget(()=>$E(a,w)),T.fromCache&&f.source==="server"?m.reject(new fe(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new HE(d,v,{includeMetadataChanges:!0,qa:!0});return zE(a,w)}(await tT(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firestore.googleapis.com",V_=!0;class b_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=V_}else this.host=e.host,this.ssl=e.ssl??V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZC)throw new fe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PP;switch(r.type){case"firstParty":return new kP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=D_.get(t);r&&(le("ComponentProvider","Removing Datastore"),D_.delete(t),r.terminate())}(this),Promise.resolve()}}function TR(n,e,t,r={}){n=er(n,Mh);const o=ca(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(xw(`https://${d}`),Rw("Firestore",!0)),a.host!==rT&&a.host!==d&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!bs(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=qt.MOCK_USER;else{m=YI(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new fe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new qt(w)}n._authCredentials=new CP(new $w(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Yl(t,mt._jsonSchema))return new mt(e,r||null,new ye(Qe.fromString(t.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:pt("string",mt._jsonSchemaVersion),referencePath:pt("string")};class Mi extends Lh{constructor(e,t,r){super(e,t,tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ye(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function iT(n,e,...t){if(n=Ft(n),Hw("collection","path",e),n instanceof Mh){const r=Qe.fromString(e,...t);return Gv(r),new Mi(n,null,r)}{if(!(n instanceof mt||n instanceof Mi))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qe.fromString(e,...t));return Gv(r),new Mi(n.firestore,null,r)}}function sa(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=Gp.newId()),Hw("doc","path",e),n instanceof Mh){const r=Qe.fromString(e,...t);return Kv(r),new mt(n,null,new ye(r))}{if(!(n instanceof mt||n instanceof Mi))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qe.fromString(e,...t));return Kv(r),new mt(n.firestore,n instanceof Mi?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="AsyncQueue";class L_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bE(this,"async_queue_retry"),this._c=()=>{const r=Of();r&&le(M_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Of();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Of();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Hr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pa(e))throw e;le(M_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Gr("INTERNAL UNHANDLED ERROR: ",O_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=mm.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function O_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Bs extends Mh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new L_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L_(e),this._firestoreClient=void 0,await e}}}function SR(n,e){const t=typeof n=="object"?n:Vw(),r=typeof n=="string"?n:Jc,o=qp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=QI("firestore");a&&TR(o,...a)}return o}function wm(n){if(n._terminated)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IR(n),n._firestoreClient}function IR(n){const e=n._freezeSettings(),t=function(o,a,u,d){return new KP(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new yR(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bn(jt.fromBase64String(e))}catch(t){throw new fe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yl(e,bn._jsonSchema))return bn.fromBase64String(e.bytes)}}bn._jsonSchemaVersion="firestore/bytes/1.0",bn._jsonSchema={type:pt("string",bn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(Yl(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:pt("string",gr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yl(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new yr(e.vectorValues);throw new fe(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:pt("string",yr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=/^__.*__$/;class PR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jl(e,this.data,t,this.fieldTransforms)}}class sT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class Tm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&AR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dh(e)}Cc(e,t,r,o=!1){return new Tm({Ac:e,methodName:t,Dc:r,path:Ot.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sm(n){const e=n._freezeSettings(),t=Dh(n._databaseId);return new CR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aT(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);Im("Data must be an object, but it was:",u,r);const d=lT(r,u);let f,m;if(a.merge)f=new vn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const T=Tp(e,w,t);if(!u.contains(T))throw new fe(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);cT(v,T)||v.push(T)}f=new vn(v),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new PR(new cn(d),f,m)}class Fh extends Em{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function xR(n,e,t,r){const o=n.Cc(1,e,t);Im("Data must be an object, but it was:",o,r);const a=[],u=cn.empty();Wi(r,(f,m)=>{const v=Am(e,f,t);m=Ft(m);const w=o.yc(v);if(m instanceof Fh)a.push(v);else{const T=jh(m,w);T!=null&&(a.push(v),u.set(v,T))}});const d=new vn(a);return new sT(u,d,o.fieldTransforms)}function RR(n,e,t,r,o,a){const u=n.Cc(1,e,t),d=[Tp(e,r,t)],f=[o];if(a.length%2!=0)throw new fe(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(Tp(e,a[T])),f.push(a[T+1]);const m=[],v=cn.empty();for(let T=d.length-1;T>=0;--T)if(!cT(m,d[T])){const C=d[T];let b=f[T];b=Ft(b);const L=u.yc(C);if(b instanceof Fh)m.push(C);else{const O=jh(b,L);O!=null&&(m.push(C),v.set(C,O))}}const w=new vn(m);return new sT(v,w,u.fieldTransforms)}function jh(n,e){if(uT(n=Ft(n)))return Im("Unsupported field value:",e,n),lT(n,e);if(n instanceof Em)return function(r,o){if(!oT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let f=jh(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xe.fromDate(r);return{timestampValue:ih(o.serializer,a)}}if(r instanceof Xe){const a=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(o.serializer,a)}}if(r instanceof gr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bn)return{bytesValue:SE(o.serializer,r._byteString)};if(r instanceof mt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:om(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof yr)return function(u,d){return{mapValue:{fields:{[Zw]:{stringValue:eE},[Zc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return nm(d.serializer,m)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${Qp(r)}`)}(n,e)}function lT(n,e){const t={};return Kw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(n,(r,o)=>{const a=jh(o,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function uT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof gr||n instanceof bn||n instanceof mt||n instanceof Em||n instanceof yr)}function Im(n,e,t){if(!uT(t)||!Ww(t)){const r=Qp(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Tp(n,e,t){if((e=Ft(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return Am(n,e);throw lh("Field path arguments must be of type string or ",n,!1,void 0,t)}const kR=new RegExp("[~\\*/\\[\\]]");function Am(n,e,t){if(e.search(kR)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oh(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lh(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new fe(Q.INVALID_ARGUMENT,d+n+f)}function cT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class NR extends hT{data(){return super.data()}}function dT(n,e){return typeof e=="string"?Am(n,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VR{convertValue(e,t="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wi(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){const t=e.fields?.[Zc].arrayValue?.values?.map(r=>ct(r.doubleValue));return new yr(t)}convertGeoPoint(e){return new gr(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ah(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qe.fromString(e);Be(RE(r),9688,{name:e});const o=new Fl(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return o.isEqual(t)||Gr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class El{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ds extends hT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ds._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:pt("string",Ds._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class Bc extends Ds{data(e={}){return super.data(e)}}class Go{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bc(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new Bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new El(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new El(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:bR(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n){n=er(n,mt);const e=er(n.firestore,Bs);return wR(wm(e),n._key).then(t=>UR(e,n,t))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:pt("string",Go._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class pT extends VR{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function MR(n){n=er(n,Lh);const e=er(n.firestore,Bs),t=wm(e),r=new pT(e);return DR(n._query),ER(t,n._query).then(o=>new Go(e,r,n,o))}function LR(n,e,t){n=er(n,mt);const r=er(n.firestore,Bs),o=fT(n.converter,e);return Uh(r,[aT(Sm(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Mn.none())])}function OR(n,e,t,...r){n=er(n,mt);const o=er(n.firestore,Bs),a=Sm(o);let u;return u=typeof(e=Ft(e))=="string"||e instanceof Oh?RR(a,"updateDoc",n._key,e,t,r):xR(a,"updateDoc",n._key,e),Uh(o,[u.toMutation(n._key,Mn.exists(!0))])}function FR(n){return Uh(er(n.firestore,Bs),[new rm(n._key,Mn.none())])}function jR(n,e){const t=er(n.firestore,Bs),r=sa(n),o=fT(n.converter,e);return Uh(t,[aT(Sm(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}function Uh(n,e){return function(r,o){const a=new Hr;return r.asyncQueue.enqueueAndForget(async()=>lR(await _R(r),o,a)),a.promise}(wm(n),e)}function UR(n,e,t){const r=t.docs.get(e._key),o=new pT(n);return new Ds(n,o,e._key,r,new El(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){da=o})(ha),Jo(new Ms("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Bs(new xP(r.getProvider("auth-internal")),new NP(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(m.options.projectId,v)}(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Vi($v,Hv,e),Vi($v,Hv,"esm2020")})();function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BR=mT,gT=new Ql("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Hp("@firebase/auth");function zR(n,...e){uh.logLevel<=ke.WARN&&uh.warn(`Auth (${ha}): ${n}`,...e)}function zc(n,...e){uh.logLevel<=ke.ERROR&&uh.error(`Auth (${ha}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw Pm(n,...e)}function vr(n,...e){return Pm(n,...e)}function yT(n,e,t){const r={...BR(),[e]:t};return new Ql("auth","Firebase",r).create(e,{appName:n.name})}function Li(n){return yT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return gT.create(n,...e)}function Ee(n,e,...t){if(!n)throw Pm(e,...t)}function zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zc(e),new Error(e)}function Xr(n,e){n||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){return typeof self<"u"&&self.location?.href||""}function $R(){return j_()==="http:"||j_()==="https:"}function j_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($R()||rA()||"connection"in navigator)?navigator.onLine:!0}function WR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=eA()||iA()}get(){return HR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e){Xr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GR=new nu(3e4,6e4);function zs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ki(n,e,t,r,o={}){return _T(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Xl({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return nA()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ca(n.emulatorConfig.host)&&(m.credentials="include"),vT.fetch()(await wT(n,n.config.apiHost,t,d),m)})}async function _T(n,e,t){n._canInitEmulator=!1;const r={...qR,...e};try{const o=new XR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw kc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw kc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw kc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw yT(n,v,m);tr(n,v)}}catch(o){if(o instanceof Jr)throw o;tr(n,"network-request-failed",{message:String(o)})}}async function Bh(n,e,t,r,o={}){const a=await Ki(n,e,t,r,o);return"mfaPendingCredential"in a&&tr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function wT(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Cm(n.config,o):`${n.config.apiScheme}://${o}`;return KR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function QR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),GR.get())})}}function kc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=vr(n,e,r);return o.customData._tokenResponse=t,o}function U_(n){return n!==void 0&&n.enterprise!==void 0}class YR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JR(n,e){return Ki(n,"GET","/v2/recaptchaConfig",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(n,e){return Ki(n,"POST","/v1/accounts:delete",e)}async function ch(n,e){return Ki(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ek(n,e=!1){const t=Ft(n),r=await t.getIdToken(e),o=xm(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:kl(jf(o.auth_time)),issuedAtTime:kl(jf(o.iat)),expirationTime:kl(jf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function jf(n){return Number(n)*1e3}function xm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Iw(t);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function B_(n){const e=xm(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Jr&&tk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function tk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n){const e=n.auth,t=await n.getIdToken(),r=await zl(n,ch(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?ET(o.providerUserInfo):[],u=ik(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function rk(n){const e=Ft(n);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ik(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ET(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(n,e){const t=await _T(n,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await wT(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&ca(n.emulatorConfig.host)&&(f.credentials="include"),vT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ok(n,e){return Ki(n,"POST","/v2/accounts:revokeToken",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=B_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await sk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Qo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ip(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ek(this,e)}reload(){return rk(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await zl(this,ZR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:C,providerData:b,stsTokenManager:L}=t;Ee(w&&L,e,"internal-error");const O=Qo.fromJSON(this.name,L);Ee(typeof w=="string",e,"internal-error"),Ii(r,e.name),Ii(o,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof C=="boolean",e,"internal-error"),Ii(a,e.name),Ii(u,e.name),Ii(d,e.name),Ii(f,e.name),Ii(m,e.name),Ii(v,e.name);const W=new Zn({uid:w,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:O,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(W.providerData=b.map(q=>({...q}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,t,r=!1){const o=new Qo;o.updateFromServerResponse(t);const a=new Zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await hh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?ET(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Qo;d.updateFromIdToken(r);const f=new Zn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function $r(n){Xr(n instanceof Function,"Expected a class definition");let e=z_.get(n);return e?(Xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,z_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TT.type="NONE";const $_=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,a),this.fullPersistenceKey=$c("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ch(this.auth,{idToken:e}).catch(()=>{});return t?Zn._fromGetAccountInfoResponse(this.auth,t,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Xo($r($_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||$r($_);const u=$c(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const T=await ch(e,{idToken:v}).catch(()=>{});if(!T)break;w=await Zn._fromGetAccountInfoResponse(e,T,v)}else w=Zn._fromJSON(e,v);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Xo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Xo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xT(e))return"Blackberry";if(RT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||AT(e))&&!e.includes("edge/"))return"Chrome";if(CT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ST(n=Qt()){return/firefox\//i.test(n)}function IT(n=Qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AT(n=Qt()){return/crios\//i.test(n)}function PT(n=Qt()){return/iemobile/i.test(n)}function CT(n=Qt()){return/android/i.test(n)}function xT(n=Qt()){return/blackberry/i.test(n)}function RT(n=Qt()){return/webos/i.test(n)}function Rm(n=Qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ak(n=Qt()){return Rm(n)&&!!window.navigator?.standalone}function lk(){return sA()&&document.documentMode===10}function kT(n=Qt()){return Rm(n)||CT(n)||RT(n)||xT(n)||/windows phone/i.test(n)||PT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(n,e=[]){let t;switch(n){case"Browser":t=H_(Qt());break;case"Worker":t=`${H_(Qt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(n,e={}){return Ki(n,"GET","/v2/passwordPolicy",zs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=6;class dk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new uk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ch(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Li(this));const t=e?Ft(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ck(this),t=new dk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ok(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ga(n){return Ft(n)}class W_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pk(n){zh=n}function DT(n){return zh.loadJS(n)}function mk(){return zh.recaptchaEnterpriseScript}function gk(){return zh.gapiScript}function yk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class vk{constructor(){this.enterprise=new _k}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _k{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wk="recaptcha-enterprise",VT="NO_RECAPTCHA";class Ek{constructor(e){this.type=wk,this.auth=ga(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{JR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new YR(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;U_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(VT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&U_(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=mk();f.length!==0&&(f+=d),DT(f).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function q_(n,e,t,r=!1,o=!1){const a=new Ek(n);let u;if(o)u=VT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function K_(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await q_(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await q_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n,e){const t=qp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(bs(a,e??{}))return o;tr(o,"already-initialized")}return t.initialize({options:e})}function Sk(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map($r);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ik(n,e,t){const r=ga(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=bT(e),{host:u,port:d}=Ak(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(bs(m,r.config.emulator)&&bs(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ca(u)?(xw(`${a}//${u}${f}`),Rw("Auth",!0)):Pk()}function bT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Ak(n){const e=bT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:G_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:G_(u)}}}function G_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Pk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function Ck(n,e){return Ki(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(n,e){return Bh(n,"POST","/v1/accounts:signInWithPassword",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(n,e){return Bh(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,e))}async function kk(n,e){return Bh(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends km{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new $l(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $l(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K_(e,t,"signInWithPassword",xk);case"emailLink":return Rk(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K_(e,r,"signUpPassword",Ck);case"emailLink":return kk(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,e){return Bh(n,"POST","/v1/accounts:signInWithIdp",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="http://localhost";class Fs extends km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new Fs(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:Nk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vk(n){const e=gl(yl(n)).link,t=e?gl(yl(e)).deep_link_id:null,r=gl(yl(n)).deep_link_id;return(r?gl(yl(r)).link:null)||r||t||e||n}class Nm{constructor(e){const t=gl(yl(e)),r=t.apiKey??null,o=t.oobCode??null,a=Dk(t.mode??null);Ee(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Vk(e);try{return new Nm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,t){return $l._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Nm.parseLink(t);return Ee(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends MT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends ru{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ci.credential(t,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends ru{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends ru{constructor(){super("twitter.com")}static credential(e,t){return Fs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ri.credential(t,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Zn._fromIdTokenResponse(e,r,o),u=Q_(r);return new oa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Q_(r);return new oa({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Q_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Jr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new dh(e,t,r,o)}}function LT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(n,a,e,r):a})}async function bk(n,e,t=!1){const r=await zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return oa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(n,e,t=!1){const{auth:r}=n;if(Jn(r.app))return Promise.reject(Li(r));const o="reauthenticate";try{const a=await zl(n,LT(r,o,e,n),t);Ee(a.idToken,r,"internal-error");const u=xm(a.idToken);Ee(u,r,"internal-error");const{sub:d}=u;return Ee(n.uid===d,r,"user-mismatch"),oa._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(n,e,t=!1){if(Jn(n.app))return Promise.reject(Li(n));const r="signIn",o=await LT(n,r,e),a=await oa._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function Lk(n,e){return OT(ga(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n){const e=ga(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Fk(n,e,t){return Jn(n.app)?Promise.reject(Li(n)):Lk(Ft(n),ya.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ok(n),r})}function jk(n,e,t,r){return Ft(n).onIdTokenChanged(e,t,r)}function Uk(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}function Bk(n,e,t,r){return Ft(n).onAuthStateChanged(e,t,r)}function zk(n){return Ft(n).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=1e3,Hk=10;class jT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);lk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Hk):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},$k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const Wk=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}UT.type="SESSION";const BT=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await qk(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Dm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function Gk(n){_r().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function Qk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xk(){return navigator?.serviceWorker?.controller||null}function Yk(){return zT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firebaseLocalStorageDb",Jk=1,ph="firebaseLocalStorage",HT="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hh(n,e){return n.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function Zk(){const n=indexedDB.deleteDatabase($T);return new iu(n).toPromise()}function Ap(){const n=indexedDB.open($T,Jk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ph,{keyPath:HT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await Zk(),e(await Ap()))})})}async function X_(n,e,t){const r=Hh(n,!0).put({[HT]:e,value:t});return new iu(r).toPromise()}async function e2(n,e){const t=Hh(n,!1).get(e),r=await new iu(t).toPromise();return r===void 0?null:r.value}function Y_(n,e){const t=Hh(n,!0).delete(e);return new iu(t).toPromise()}const t2=800,n2=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>n2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(Yk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Qk(),!this.activeServiceWorker)return;this.sender=new Kk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await X_(e,fh,"1"),await Y_(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>X_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>e2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Y_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Hh(o,!1).getAll();return new iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const r2=WT;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n,e){return e?$r(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function s2(n){return OT(n.auth,new Vm(n),n.bypassAuthState)}function o2(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),Mk(t,new Vm(n),n.bypassAuthState)}async function a2(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),bk(t,new Vm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s2;case"linkViaPopup":case"linkViaRedirect":return a2;case"reauthViaPopup":case"reauthViaRedirect":return o2;default:tr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new nu(2e3,1e4);class Bo extends qT{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l2.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="pendingRedirect",Hc=new Map;class c2 extends qT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const r=await h2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h2(n,e){const t=p2(e),r=f2(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function d2(n,e){Hc.set(n._key(),e)}function f2(n){return $r(n._redirectPersistence)}function p2(n){return $c(u2,n.config.apiKey,n.name)}async function m2(n,e,t=!1){if(Jn(n.app))return Promise.reject(Li(n));const r=ga(n),o=i2(r,e),u=await new c2(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=600*1e3;class y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!KT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(vr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g2&&this.cachedEventUids.clear(),this.cachedEventUids.has(J_(e))}saveEventToCache(e){this.cachedEventUids.add(J_(e)),this.lastProcessedEventTime=Date.now()}}function J_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function v2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,e={}){return Ki(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E2=/^https?/;async function T2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _2(n);for(const t of e)try{if(S2(t))return}catch{}tr(n,"unauthorized-domain")}function S2(n){const e=Sp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!E2.test(t))return!1;if(w2.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new nu(3e4,6e4);function Z_(){const n=_r().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A2(n){return new Promise((e,t)=>{function r(){Z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z_(),t(vr(n,"network-request-failed"))},timeout:I2.get()})}if(_r().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_r().gapi?.load)r();else{const o=yk("iframefcb");return _r()[o]=()=>{gapi.load?r():t(vr(n,"network-request-failed"))},DT(`${gk()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function P2(n){return Wc=Wc||A2(n),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new nu(5e3,15e3),x2="__/auth/iframe",R2="emulator/auth/iframe",k2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D2(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Cm(e,R2):`https://${n.config.authDomain}/${x2}`,r={apiKey:e.apiKey,appName:n.name,v:ha},o=N2.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Xl(r).slice(1)}`}async function V2(n){const e=await P2(n),t=_r().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:D2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=vr(n,"network-request-failed"),d=_r().setTimeout(()=>{a(u)},C2.get());function f(){_r().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M2=500,L2=600,O2="_blank",F2="http://localhost";class e0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j2(n,e,t,r=M2,o=L2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...b2,width:r.toString(),height:o.toString(),top:a,left:u},m=Qt().toLowerCase();t&&(d=AT(m)?O2:t),ST(m)&&(e=e||F2,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[C,b])=>`${T}${C}=${b},`,"");if(ak(m)&&d!=="_self")return U2(e||"",d),new e0(null);const w=window.open(e||"",d,v);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new e0(w)}function U2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="__/auth/handler",z2="emulator/auth/handler",$2=encodeURIComponent("fac");async function t0(n,e,t,r,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ha,eventId:o};if(e instanceof MT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",dA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof ru){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${$2}=${encodeURIComponent(f)}`:"";return`${H2(n)}?${Xl(d).slice(1)}${m}`}function H2({config:n}){return n.emulator?Cm(n,z2):`https://${n.authDomain}/${B2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=m2,this._overrideRedirectResult=d2}async _openPopup(e,t,r,o){Xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await t0(e,t,r,Sp(),o);return j2(e,a,Dm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await t0(e,t,r,Sp(),o);return Gk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Xr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await V2(e),r=new y2(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uf,{type:Uf},o=>{const a=o?.[0]?.[Uf];a!==void 0&&t(!!a),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=T2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kT()||IT()||Rm()}}const q2=W2;var n0="@firebase/auth",r0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q2(n){Jo(new Ms("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(n)},m=new fk(r,o,a,f);return Sk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ms("auth-internal",e=>{const t=ga(e.getProvider("auth").getImmediate());return(r=>new K2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(n0,r0,G2(n)),Vi(n0,r0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=300,Y2=Cw("authIdTokenMaxAge")||X2;let i0=null;const J2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Y2)return;const o=t?.token;i0!==o&&(i0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Z2(n=Vw()){const e=qp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Tk(n,{popupRedirectResolver:q2,persistence:[r2,Wk,BT]}),r=Cw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=J2(a.toString());Uk(t,u,()=>u(t.currentUser)),jk(t,d=>u(d))}}const o=Aw("auth");return o&&Ik(t,`http://${o}`),t}function eN(){return document.getElementsByTagName("head")?.[0]??document}pk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=vr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",eN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q2("Browser");const bm=ee.createContext({});function Mm(n){const e=ee.useRef(null);return e.current===null&&(e.current=n()),e.current}const Wh=ee.createContext(null),Lm=ee.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class tN extends ee.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function nN({children:n,isPresent:e}){const t=ee.useId(),r=ee.useRef(null),o=ee.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=ee.useContext(Lm);return ee.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m}=o.current;if(e||!r.current||!u||!d)return;r.current.dataset.motionPopId=t;const v=document.createElement("style");return a&&(v.nonce=a),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),P.jsx(tN,{isPresent:e,childRef:r,sizeRef:o,children:ee.cloneElement(n,{ref:r})})}const rN=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:u})=>{const d=Mm(iN),f=ee.useId(),m=ee.useCallback(w=>{d.set(w,!0);for(const T of d.values())if(!T)return;r&&r()},[d,r]),v=ee.useMemo(()=>({id:f,initial:e,isPresent:t,custom:o,onExitComplete:m,register:w=>(d.set(w,!1),()=>d.delete(w))}),a?[Math.random(),m]:[t,m]);return ee.useMemo(()=>{d.forEach((w,T)=>d.set(T,!1))},[t]),ee.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),u==="popLayout"&&(n=P.jsx(nN,{isPresent:t,children:n})),P.jsx(Wh.Provider,{value:v,children:n})};function iN(){return new Map}function GT(n=!0){const e=ee.useContext(Wh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=ee.useId();ee.useEffect(()=>{n&&o(a)},[n]);const u=ee.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const Nc=n=>n.key||"";function s0(n){const e=[];return ee.Children.forEach(n,t=>{ee.isValidElement(t)&&e.push(t)}),e}const Om=typeof window<"u",QT=Om?ee.useLayoutEffect:ee.useEffect,sN=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1})=>{const[d,f]=GT(u),m=ee.useMemo(()=>s0(n),[n]),v=u&&!d?[]:m.map(Nc),w=ee.useRef(!0),T=ee.useRef(m),C=Mm(()=>new Map),[b,L]=ee.useState(m),[O,W]=ee.useState(m);QT(()=>{w.current=!1,T.current=m;for(let se=0;se<O.length;se++){const ie=Nc(O[se]);v.includes(ie)?C.delete(ie):C.get(ie)!==!0&&C.set(ie,!1)}},[O,v.length,v.join("-")]);const q=[];if(m!==b){let se=[...m];for(let ie=0;ie<O.length;ie++){const ue=O[ie],N=Nc(ue);v.includes(N)||(se.splice(ie,0,ue),q.push(ue))}a==="wait"&&q.length&&(se=q),W(s0(se)),L(m);return}const{forceRender:J}=ee.useContext(bm);return P.jsx(P.Fragment,{children:O.map(se=>{const ie=Nc(se),ue=u&&!d?!1:m===O||v.includes(ie),N=()=>{if(C.has(ie))C.set(ie,!0);else return;let I=!0;C.forEach(x=>{x||(I=!1)}),I&&(J?.(),W(T.current),u&&f?.(),r&&r())};return P.jsx(rN,{isPresent:ue,initial:!w.current||t?void 0:!1,custom:ue?void 0:e,presenceAffectsLayout:o,mode:a,onExitComplete:ue?void 0:N,children:se},ie)})})},wn=n=>n;let XT=wn;function Fm(n){let e;return()=>(e===void 0&&(e=n()),e)}const aa=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Wr=n=>n*1e3,qr=n=>n/1e3,oN={useManualTiming:!1};function aN(n){let e=new Set,t=new Set,r=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(f.schedule(m),n()),m(u)}const f={schedule:(m,v=!1,w=!1)=>{const C=w&&r?e:t;return v&&a.add(m),C.has(m)||C.add(m),m},cancel:m=>{t.delete(m),a.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const Dc=["read","resolveKeyframes","update","preRender","render","postRender"],lN=40;function YT(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Dc.reduce((W,q)=>(W[q]=aN(a),W),{}),{read:d,resolveKeyframes:f,update:m,preRender:v,render:w,postRender:T}=u,C=()=>{const W=performance.now();t=!1,o.delta=r?1e3/60:Math.max(Math.min(W-o.timestamp,lN),1),o.timestamp=W,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),v.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(C))},b=()=>{t=!0,r=!0,o.isProcessing||n(C)};return{schedule:Dc.reduce((W,q)=>{const J=u[q];return W[q]=(se,ie=!1,ue=!1)=>(t||b(),J.schedule(se,ie,ue)),W},{}),cancel:W=>{for(let q=0;q<Dc.length;q++)u[Dc[q]].cancel(W)},state:o,steps:u}}const{schedule:Ye,cancel:$i,state:Mt,steps:Bf}=YT(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0),jm=ee.createContext({strict:!1}),o0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},la={};for(const n in o0)la[n]={isEnabled:e=>o0[n].some(t=>!!e[t])};function Pp(n){for(const e in n)la[e]={...la[e],...n[e]}}function uN({children:n,features:e,strict:t=!1}){const[,r]=ee.useState(!zf(e)),o=ee.useRef(void 0);if(!zf(e)){const{renderer:a,...u}=e;o.current=a,Pp(u)}return ee.useEffect(()=>{zf(e)&&e().then(({renderer:a,...u})=>{Pp(u),o.current=a,r(!0)})},[]),P.jsx(jm.Provider,{value:{renderer:o.current,strict:t},children:n})}function zf(n){return typeof n=="function"}const cN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||cN.has(n)}let JT=n=>!mh(n);function hN(n){n&&(JT=e=>e.startsWith("on")?!mh(e):n(e))}try{hN(require("@emotion/is-prop-valid").default)}catch{}function dN(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(JT(o)||t===!0&&mh(o)||!e&&!mh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function fN(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const qh=ee.createContext({});function Hl(n){return typeof n=="string"||Array.isArray(n)}function Kh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Um=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bm=["initial",...Um];function Gh(n){return Kh(n.animate)||Bm.some(e=>Hl(n[e]))}function ZT(n){return!!(Gh(n)||n.variants)}function pN(n,e){if(Gh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Hl(t)?t:void 0,animate:Hl(r)?r:void 0}}return n.inherit!==!1?e:{}}function mN(n){const{initial:e,animate:t}=pN(n,ee.useContext(qh));return ee.useMemo(()=>({initial:e,animate:t}),[a0(e),a0(t)])}function a0(n){return Array.isArray(n)?n.join(" "):n}const gN=Symbol.for("motionComponentSymbol");function zo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function yN(n,e,t){return ee.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):zo(t)&&(t.current=r))},[e])}const zm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vN="framerAppearId",e1="data-"+zm(vN),{schedule:$m}=YT(queueMicrotask,!1),t1=ee.createContext({});function _N(n,e,t,r,o){var a,u;const{visualElement:d}=ee.useContext(qh),f=ee.useContext(jm),m=ee.useContext(Wh),v=ee.useContext(Lm).reducedMotion,w=ee.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:d,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const T=w.current,C=ee.useContext(t1);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&wN(w.current,t,o,C);const b=ee.useRef(!1);ee.useInsertionEffect(()=>{T&&b.current&&T.update(t,m)});const L=t[e1],O=ee.useRef(!!L&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,L))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,L)));return QT(()=>{T&&(b.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),$m.render(T.render),O.current&&T.animationState&&T.animationState.animateChanges())}),ee.useEffect(()=>{T&&(!O.current&&T.animationState&&T.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,L)}),O.current=!1))}),T}function wN(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:n1(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&zo(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function n1(n){if(n)return n.options.allowProjection!==!1?n.projection:n1(n.parent)}function EN({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:o}){var a,u;n&&Pp(n);function d(m,v){let w;const T={...ee.useContext(Lm),...m,layoutId:TN(m)},{isStatic:C}=T,b=mN(m),L=r(m,C);if(!C&&Om){SN();const O=IN(T);w=O.MeasureLayout,b.visualElement=_N(o,L,T,e,O.ProjectionNode)}return P.jsxs(qh.Provider,{value:b,children:[w&&b.visualElement?P.jsx(w,{visualElement:b.visualElement,...T}):null,t(o,m,yN(L,b.visualElement,v),L,C,b.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&u!==void 0?u:""})`}`;const f=ee.forwardRef(d);return f[gN]=o,f}function TN({layoutId:n}){const e=ee.useContext(bm).id;return e&&n!==void 0?e+"-"+n:n}function SN(n,e){ee.useContext(jm).strict}function IN(n){const{drag:e,layout:t}=la;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const AN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hm(n){return typeof n!="string"||n.includes("-")?!1:!!(AN.indexOf(n)>-1||/[A-Z]/u.test(n))}function l0(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Wm(n,e,t,r){if(typeof e=="function"){const[o,a]=l0(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=l0(r);e=e(t!==void 0?t:n.custom,o,a)}return e}const Cp=n=>Array.isArray(n),PN=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),CN=n=>Cp(n)?n[n.length-1]||0:n,Gt=n=>!!(n&&n.getVelocity);function qc(n){const e=Gt(n)?n.get():n;return PN(e)?e.toValue():e}function xN({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,o,a){const u={latestValues:RN(r,o,a,n),renderState:e()};return t&&(u.onMount=d=>t({props:r,current:d,...u}),u.onUpdate=d=>t(d)),u}const r1=n=>(e,t)=>{const r=ee.useContext(qh),o=ee.useContext(Wh),a=()=>xN(n,e,r,o);return t?a():Mm(a)};function RN(n,e,t,r){const o={},a=r(n,{});for(const T in a)o[T]=qc(a[T]);let{initial:u,animate:d}=n;const f=Gh(n),m=ZT(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const w=v?d:u;if(w&&typeof w!="boolean"&&!Kh(w)){const T=Array.isArray(w)?w:[w];for(let C=0;C<T.length;C++){const b=Wm(n,T[C]);if(b){const{transitionEnd:L,transition:O,...W}=b;for(const q in W){let J=W[q];if(Array.isArray(J)){const se=v?J.length-1:0;J=J[se]}J!==null&&(o[q]=J)}for(const q in L)o[q]=L[q]}}}return o}const va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$s=new Set(va),i1=n=>e=>typeof e=="string"&&e.startsWith(n),s1=i1("--"),kN=i1("var(--"),qm=n=>kN(n)?NN.test(n.split("/*")[0].trim()):!1,NN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,o1=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Yr=(n,e,t)=>t>e?e:t<n?n:t,_a={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Wl={..._a,transform:n=>Yr(0,1,n)},Vc={..._a,default:1},su=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ai=su("deg"),wr=su("%"),we=su("px"),DN=su("vh"),VN=su("vw"),u0={...wr,parse:n=>wr.parse(n)/100,transform:n=>wr.transform(n*100)},bN={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},MN={rotate:Ai,rotateX:Ai,rotateY:Ai,rotateZ:Ai,scale:Vc,scaleX:Vc,scaleY:Vc,scaleZ:Vc,skew:Ai,skewX:Ai,skewY:Ai,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Wl,originX:u0,originY:u0,originZ:we},c0={..._a,transform:Math.round},Km={...bN,...MN,zIndex:c0,size:we,fillOpacity:Wl,strokeOpacity:Wl,numOctaves:c0},LN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ON=va.length;function FN(n,e,t){let r="",o=!0;for(let a=0;a<ON;a++){const u=va[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=o1(d,Km[u]);if(!f){o=!1;const v=LN[u]||u;r+=`${v}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Gm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const m=e[f];if($s.has(f)){u=!0;continue}else if(s1(f)){o[f]=m;continue}else{const v=o1(m,Km[f]);f.startsWith("origin")?(d=!0,a[f]=v):r[f]=v}}if(e.transform||(u||t?r.transform=FN(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:v=0}=a;r.transformOrigin=`${f} ${m} ${v}`}}const jN={offset:"stroke-dashoffset",array:"stroke-dasharray"},UN={offset:"strokeDashoffset",array:"strokeDasharray"};function BN(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?jN:UN;n[a.offset]=we.transform(-r);const u=we.transform(e),d=we.transform(t);n[a.array]=`${u} ${d}`}function h0(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function zN(n,e,t){const r=h0(e,n.x,n.width),o=h0(t,n.y,n.height);return`${r} ${o}`}function Qm(n,{attrX:e,attrY:t,attrScale:r,originX:o,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},v,w){if(Gm(n,m,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:C,dimensions:b}=n;T.transform&&(b&&(C.transform=T.transform),delete T.transform),b&&(o!==void 0||a!==void 0||C.transform)&&(C.transformOrigin=zN(b,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),r!==void 0&&(T.scale=r),u!==void 0&&BN(T,u,d,f,!1)}const Xm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),a1=()=>({...Xm(),attrs:{}}),Ym=n=>typeof n=="string"&&n.toLowerCase()==="svg";function l1(n,{style:e,vars:t},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const u1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c1(n,e,t,r){l1(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(u1.has(o)?o:zm(o),e.attrs[o])}const gh={};function $N(n){Object.assign(gh,n)}function h1(n,{layout:e,layoutId:t}){return $s.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!gh[n]||n==="opacity")}function Jm(n,e,t){var r;const{style:o}=n,a={};for(const u in o)(Gt(o[u])||e.style&&Gt(e.style[u])||h1(u,n)||((r=t?.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=o[u]);return a}function d1(n,e,t){const r=Jm(n,e,t);for(const o in n)if(Gt(n[o])||Gt(e[o])){const a=va.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}function HN(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const d0=["x","y","width","height","cx","cy","r"],WN={useVisualState:r1({scrapeMotionValuesFromProps:d1,createRenderState:a1,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:o})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in o)if($s.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<d0.length;d++){const f=d0[d];n[f]!==e[f]&&(u=!0)}u&&Ye.read(()=>{HN(t,r),Ye.render(()=>{Qm(r,o,Ym(t.tagName),n.transformTemplate),c1(t,r)})})}})},qN={useVisualState:r1({scrapeMotionValuesFromProps:Jm,createRenderState:Xm})};function f1(n,e,t){for(const r in e)!Gt(e[r])&&!h1(r,t)&&(n[r]=e[r])}function KN({transformTemplate:n},e){return ee.useMemo(()=>{const t=Xm();return Gm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function GN(n,e){const t=n.style||{},r={};return f1(r,t,n),Object.assign(r,KN(n,e)),r}function QN(n,e){const t={},r=GN(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function XN(n,e,t,r){const o=ee.useMemo(()=>{const a=a1();return Qm(a,e,Ym(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};f1(a,n.style,n),o.style={...a,...o.style}}return o}function YN(n=!1){return(t,r,o,{latestValues:a},u)=>{const f=(Hm(t)?XN:QN)(r,a,u,t),m=dN(r,typeof t=="string",n),v=t!==ee.Fragment?{...m,...f,ref:o}:{},{children:w}=r,T=ee.useMemo(()=>Gt(w)?w.get():w,[w]);return ee.createElement(t,{...v,children:T})}}function JN(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Hm(r)?WN:qN,preloadedFeatures:n,useRender:YN(o),createVisualElement:e,Component:r};return EN(u)}}function p1(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Qh(n,e,t){const r=n.getProps();return Wm(r,e,t!==void 0?t:r.custom,n)}const ZN=Fm(()=>window.ScrollTimeline!==void 0);class eD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(o=>{if(ZN()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{r.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tD extends eD{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Zm(n,e){return n?n[e]||n.default||n:void 0}const xp=2e4;function m1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<xp;)e+=t,r=n.next(e);return e>=xp?1/0:e}function eg(n){return typeof n=="function"}function f0(n,e){n.timeline=e,n.onfinish=null}const tg=n=>Array.isArray(n)&&typeof n[0]=="number",nD={linearEasing:void 0};function rD(n,e){const t=Fm(n);return()=>{var r;return(r=nD[e])!==null&&r!==void 0?r:t()}}const yh=rD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),g1=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=n(aa(0,o-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function y1(n){return!!(typeof n=="function"&&yh()||!n||typeof n=="string"&&(n in Rp||yh())||tg(n)||Array.isArray(n)&&n.every(y1))}const Tl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Rp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tl([0,.65,.55,1]),circOut:Tl([.55,0,1,.45]),backIn:Tl([.31,.01,.66,-.59]),backOut:Tl([.33,1.53,.69,.99])};function v1(n,e){if(n)return typeof n=="function"&&yh()?g1(n,e):tg(n)?Tl(n):Array.isArray(n)?n.map(t=>v1(t,e)||Rp.easeOut):Rp[n]}const Yn={x:!1,y:!1};function _1(){return Yn.x||Yn.y}function w1(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const a=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function E1(n,e){const t=w1(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function p0(n){return e=>{e.pointerType==="touch"||_1()||n(e)}}function iD(n,e,t={}){const[r,o,a]=E1(n,t),u=p0(d=>{const{target:f}=d,m=e(d);if(typeof m!="function"||!f)return;const v=p0(w=>{m(w),f.removeEventListener("pointerleave",v)});f.addEventListener("pointerleave",v,o)});return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const T1=(n,e)=>e?n===e?!0:T1(n,e.parentElement):!1,ng=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,sD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oD(n){return sD.has(n.tagName)||n.tabIndex!==-1}const Sl=new WeakSet;function m0(n){return e=>{e.key==="Enter"&&n(e)}}function $f(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aD=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=m0(()=>{if(Sl.has(t))return;$f(t,"down");const o=m0(()=>{$f(t,"up")}),a=()=>$f(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function g0(n){return ng(n)&&!_1()}function lD(n,e,t={}){const[r,o,a]=E1(n,t),u=d=>{const f=d.currentTarget;if(!g0(d)||Sl.has(f))return;Sl.add(f);const m=e(d),v=(C,b)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!g0(C)||!Sl.has(f))&&(Sl.delete(f),typeof m=="function"&&m(C,{success:b}))},w=C=>{v(C,t.useGlobalTarget||T1(f,C.target))},T=C=>{v(C,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return r.forEach(d=>{!oD(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",m=>aD(m,o),o)}),a}function uD(n){return n==="x"||n==="y"?Yn[n]?null:(Yn[n]=!0,()=>{Yn[n]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}const S1=new Set(["width","height","top","left","right","bottom",...va]);let Kc;function cD(){Kc=void 0}const Er={now:()=>(Kc===void 0&&Er.set(Mt.isProcessing||oN.useManualTiming?Mt.timestamp:performance.now()),Kc),set:n=>{Kc=n,queueMicrotask(cD)}};function rg(n,e){n.indexOf(e)===-1&&n.push(e)}function ig(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class sg{constructor(){this.subscriptions=[]}add(e){return rg(this.subscriptions,e),()=>ig(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function I1(n,e){return e?n*(1e3/e):0}const y0=30,hD=n=>!isNaN(parseFloat(n));class dD{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const a=Er.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sg);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>y0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,y0);return I1(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ql(n,e){return new dD(n,e)}function fD(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ql(t))}function pD(n,e){const t=Qh(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=CN(a[u]);fD(n,u,d)}}function mD(n){return!!(Gt(n)&&n.add)}function kp(n,e){const t=n.getValue("willChange");if(mD(t))return t.add(e)}function A1(n){return n.props[e1]}const P1=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,gD=1e-7,yD=12;function vD(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=P1(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>gD&&++d<yD);return u}function ou(n,e,t,r){if(n===e&&t===r)return wn;const o=a=>vD(a,0,1,n,t);return a=>a===0||a===1?a:P1(o(a),e,r)}const C1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,x1=n=>e=>1-n(1-e),R1=ou(.33,1.53,.69,.99),og=x1(R1),k1=C1(og),N1=n=>(n*=2)<1?.5*og(n):.5*(2-Math.pow(2,-10*(n-1))),ag=n=>1-Math.sin(Math.acos(n)),D1=x1(ag),V1=C1(ag),b1=n=>/^0[^.\s]+$/u.test(n);function _D(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||b1(n):!0}const Nl=n=>Math.round(n*1e5)/1e5,lg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wD(n){return n==null}const ED=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ug=(n,e)=>t=>!!(typeof t=="string"&&ED.test(t)&&t.startsWith(n)||e&&!wD(t)&&Object.prototype.hasOwnProperty.call(t,e)),M1=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(lg);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},TD=n=>Yr(0,255,n),Hf={..._a,transform:n=>Math.round(TD(n))},Ns={test:ug("rgb","red"),parse:M1("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Hf.transform(n)+", "+Hf.transform(e)+", "+Hf.transform(t)+", "+Nl(Wl.transform(r))+")"};function SD(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Np={test:ug("#"),parse:SD,transform:Ns.transform},$o={test:ug("hsl","hue"),parse:M1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+wr.transform(Nl(e))+", "+wr.transform(Nl(t))+", "+Nl(Wl.transform(r))+")"},Wt={test:n=>Ns.test(n)||Np.test(n)||$o.test(n),parse:n=>Ns.test(n)?Ns.parse(n):$o.test(n)?$o.parse(n):Np.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ns.transform(n):$o.transform(n)},ID=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AD(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(lg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(ID))===null||t===void 0?void 0:t.length)||0)>0}const L1="number",O1="color",PD="var",CD="var(",v0="${}",xD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(xD,f=>(Wt.test(f)?(r.color.push(a),o.push(O1),t.push(Wt.parse(f))):f.startsWith(CD)?(r.var.push(a),o.push(PD),t.push(f)):(r.number.push(a),o.push(L1),t.push(parseFloat(f))),++a,v0)).split(v0);return{values:t,split:d,indexes:r,types:o}}function F1(n){return Kl(n).values}function j1(n){const{split:e,types:t}=Kl(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===L1?a+=Nl(o[u]):d===O1?a+=Wt.transform(o[u]):a+=o[u]}return a}}const RD=n=>typeof n=="number"?0:n;function kD(n){const e=F1(n);return j1(n)(e.map(RD))}const Hi={test:AD,parse:F1,createTransformer:j1,getAnimatableNone:kD},ND=new Set(["brightness","contrast","saturate","opacity"]);function DD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(lg)||[];if(!r)return n;const o=t.replace(r,"");let a=ND.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const VD=/\b([a-z-]*)\(.*?\)/gu,Dp={...Hi,getAnimatableNone:n=>{const e=n.match(VD);return e?e.map(DD).join(" "):n}},bD={...Km,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:Dp,WebkitFilter:Dp},cg=n=>bD[n];function U1(n,e){let t=cg(n);return t!==Dp&&(t=Hi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const MD=new Set(["auto","none","0"]);function LD(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!MD.has(a)&&Kl(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=U1(t,o)}const _0=n=>n===_a||n===we,w0=(n,e)=>parseFloat(n.split(", ")[e]),E0=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return w0(o[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?w0(a[1],n):0}},OD=new Set(["x","y","z"]),FD=va.filter(n=>!OD.has(n));function jD(n){const e=[];return FD.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const ua={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:E0(4,13),y:E0(5,14)};ua.translateX=ua.x;ua.translateY=ua.y;const Vs=new Set;let Vp=!1,bp=!1;function B1(){if(bp){const n=Array.from(Vs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=jD(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bp=!1,Vp=!1,Vs.forEach(n=>n.complete()),Vs.clear()}function z1(){Vs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(bp=!0)})}function UD(){z1(),B1()}class hg{constructor(e,t,r,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vs.add(this),Vp||(Vp=!0,Ye.read(z1),Ye.resolveKeyframes(B1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o?.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),BD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zD(n){const e=BD.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function H1(n,e,t=1){const[r,o]=zD(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return $1(u)?parseFloat(u):u}return qm(o)?H1(o,e,t+1):o}const W1=n=>e=>e.test(n),$D={test:n=>n==="auto",parse:n=>n},q1=[_a,we,wr,Ai,VN,DN,$D],T0=n=>q1.find(W1(n));class K1 extends hg{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),qm(m))){const v=H1(m,t.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!S1.has(r)||e.length!==2)return;const[o,a]=e,u=T0(o),d=T0(a);if(u!==d)if(_0(u)&&_0(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)_D(e[o])&&r.push(o);r.length&&LD(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ua[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=ua[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const S0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Hi.test(n)||n==="0")&&!n.startsWith("url("));function HD(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function WD(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=S0(o,e),d=S0(a,e);return!u||!d?!1:HD(n)||(t==="spring"||eg(t))&&r}const qD=n=>n!==null;function Xh(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(qD),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const KD=40;class G1{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Er.now(),this.options={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>KD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UD(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Er.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!WD(e,r,o,a))if(u)this.options.duration=0;else{f&&f(Xh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(n,e,t)=>n+(e-n)*t;function Wf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function GD({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Wf(f,d,n+1/3),a=Wf(f,d,n),u=Wf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function vh(n,e){return t=>t>0?e:n}const qf=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},QD=[Np,Ns,$o],XD=n=>QD.find(e=>e.test(n));function I0(n){const e=XD(n);if(!e)return!1;let t=e.parse(n);return e===$o&&(t=GD(t)),t}const A0=(n,e)=>{const t=I0(n),r=I0(e);if(!t||!r)return vh(n,e);const o={...t};return a=>(o.red=qf(t.red,r.red,a),o.green=qf(t.green,r.green,a),o.blue=qf(t.blue,r.blue,a),o.alpha=rt(t.alpha,r.alpha,a),Ns.transform(o))},YD=(n,e)=>t=>e(n(t)),au=(...n)=>n.reduce(YD),Mp=new Set(["none","hidden"]);function JD(n,e){return Mp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function ZD(n,e){return t=>rt(n,e,t)}function dg(n){return typeof n=="number"?ZD:typeof n=="string"?qm(n)?vh:Wt.test(n)?A0:nV:Array.isArray(n)?Q1:typeof n=="object"?Wt.test(n)?A0:eV:vh}function Q1(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>dg(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function eV(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=dg(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function tV(n,e){var t;const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=n.indexes[u][o[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,o[u]++}return r}const nV=(n,e)=>{const t=Hi.createTransformer(e),r=Kl(n),o=Kl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Mp.has(n)&&!o.values.length||Mp.has(e)&&!r.values.length?JD(n,e):au(Q1(tV(r,o),o.values),t):vh(n,e)};function X1(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?rt(n,e,t):dg(n)(n,e)}const rV=5;function Y1(n,e,t){const r=Math.max(e-rV,0);return I1(t-n(r),e-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kf=.001;function iV({duration:n=ot.duration,bounce:e=ot.bounce,velocity:t=ot.velocity,mass:r=ot.mass}){let o,a,u=1-e;u=Yr(ot.minDamping,ot.maxDamping,u),n=Yr(ot.minDuration,ot.maxDuration,qr(n)),u<1?(o=m=>{const v=m*u,w=v*n,T=v-t,C=Lp(m,u),b=Math.exp(-w);return Kf-T/C*b},a=m=>{const w=m*u*n,T=w*t+t,C=Math.pow(u,2)*Math.pow(m,2)*n,b=Math.exp(-w),L=Lp(Math.pow(m,2),u);return(-o(m)+Kf>0?-1:1)*((T-C)*b)/L}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-Kf+v*w},a=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const d=5/n,f=oV(o,a,d);if(n=Wr(n),isNaN(f))return{stiffness:ot.stiffness,damping:ot.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const sV=12;function oV(n,e,t){let r=t;for(let o=1;o<sV;o++)r=r-n(r)/e(r);return r}function Lp(n,e){return n*Math.sqrt(1-e*e)}const aV=["duration","bounce"],lV=["stiffness","damping","mass"];function P0(n,e){return e.some(t=>n[t]!==void 0)}function uV(n){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...n};if(!P0(n,lV)&&P0(n,aV))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*Yr(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:ot.mass,stiffness:o,damping:a}}else{const t=iV(n);e={...e,...t,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function J1(n=ot.visualDuration,e=ot.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:v,duration:w,velocity:T,isResolvedFromDuration:C}=uV({...t,velocity:-qr(t.velocity||0)}),b=T||0,L=m/(2*Math.sqrt(f*v)),O=u-a,W=qr(Math.sqrt(f/v)),q=Math.abs(O)<5;r||(r=q?ot.restSpeed.granular:ot.restSpeed.default),o||(o=q?ot.restDelta.granular:ot.restDelta.default);let J;if(L<1){const ie=Lp(W,L);J=ue=>{const N=Math.exp(-L*W*ue);return u-N*((b+L*W*O)/ie*Math.sin(ie*ue)+O*Math.cos(ie*ue))}}else if(L===1)J=ie=>u-Math.exp(-W*ie)*(O+(b+W*O)*ie);else{const ie=W*Math.sqrt(L*L-1);J=ue=>{const N=Math.exp(-L*W*ue),I=Math.min(ie*ue,300);return u-N*((b+L*W*O)*Math.sinh(I)+ie*O*Math.cosh(I))/ie}}const se={calculatedDuration:C&&w||null,next:ie=>{const ue=J(ie);if(C)d.done=ie>=w;else{let N=0;L<1&&(N=ie===0?Wr(b):Y1(J,ie,ue));const I=Math.abs(N)<=r,x=Math.abs(u-ue)<=o;d.done=I&&x}return d.value=d.done?u:ue,d},toString:()=>{const ie=Math.min(m1(se),xp),ue=g1(N=>se.next(ie*N).value,ie,30);return ie+"ms "+ue}};return se}function C0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:v}){const w=n[0],T={done:!1,value:w},C=I=>d!==void 0&&I<d||f!==void 0&&I>f,b=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let L=t*e;const O=w+L,W=u===void 0?O:u(O);W!==O&&(L=W-w);const q=I=>-L*Math.exp(-I/r),J=I=>W+q(I),se=I=>{const x=q(I),D=J(I);T.done=Math.abs(x)<=m,T.value=T.done?W:D};let ie,ue;const N=I=>{C(T.value)&&(ie=I,ue=J1({keyframes:[T.value,b(T.value)],velocity:Y1(J,I,T.value),damping:o,stiffness:a,restDelta:m,restSpeed:v}))};return N(0),{calculatedDuration:null,next:I=>{let x=!1;return!ue&&ie===void 0&&(x=!0,se(I),N(I)),ie!==void 0&&I>=ie?ue.next(I-ie):(!x&&se(I),T)}}}const cV=ou(.42,0,1,1),hV=ou(0,0,.58,1),Z1=ou(.42,0,.58,1),dV=n=>Array.isArray(n)&&typeof n[0]!="number",fV={linear:wn,easeIn:cV,easeInOut:Z1,easeOut:hV,circIn:ag,circInOut:V1,circOut:D1,backIn:og,backInOut:k1,backOut:R1,anticipate:N1},x0=n=>{if(tg(n)){XT(n.length===4);const[e,t,r,o]=n;return ou(e,t,r,o)}else if(typeof n=="string")return fV[n];return n};function pV(n,e,t){const r=[],o=t||X1,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||wn:e;d=au(f,d)}r.push(d)}return r}function mV(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(XT(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=pV(e,r,o),f=d.length,m=v=>{if(u&&v<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const T=aa(n[w],n[w+1],v);return d[w](T)};return t?v=>m(Yr(n[0],n[a-1],v)):m}function gV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=aa(0,e,r);n.push(rt(t,1,o))}}function yV(n){const e=[0];return gV(e,n.length-1),e}function vV(n,e){return n.map(t=>t*e)}function _V(n,e){return n.map(()=>e||Z1).splice(0,n.length-1)}function _h({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=dV(r)?r.map(x0):x0(r),a={done:!1,value:e[0]},u=vV(t&&t.length===e.length?t:yV(e),n),d=mV(u,e,{ease:Array.isArray(o)?o:_V(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const wV=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ye.update(e,!0),stop:()=>$i(e),now:()=>Mt.isProcessing?Mt.timestamp:Er.now()}},EV={decay:C0,inertia:C0,tween:_h,keyframes:_h,spring:J1},TV=n=>n/100;class fg extends G1{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:o,keyframes:a}=this.options,u=o?.KeyframeResolver||hg,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(a,d,t,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,d=eg(t)?t:EV[t]||_h;let f,m;d!==_h&&typeof e[0]!="number"&&(f=au(TV,X1(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});a==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=m1(v));const{calculatedDuration:w}=v,T=w+o,C=T*(r+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:T,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:v,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:T,repeat:C,repeatType:b,repeatDelay:L,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-T*(this.speed>=0?1:-1),q=this.speed>=0?W<0:W>v;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let J=this.currentTime,se=a;if(C){const I=Math.min(this.currentTime,v)/w;let x=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&x--,x=Math.min(x,C+1),!!(x%2)&&(b==="reverse"?(D=1-D,L&&(D-=L/w)):b==="mirror"&&(se=u)),J=Yr(0,1,D)*w}const ie=q?{done:!1,value:f[0]}:se.next(J);d&&(ie.value=d(ie.value));let{done:ue}=ie;!q&&m!==null&&(ue=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return N&&o!==void 0&&(ie.value=Xh(f,this.options,o)),O&&O(ie.value),N&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?qr(e.calculatedDuration):0}get time(){return qr(this.currentTime)}set time(e){e=Wr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=wV,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const SV=new Set(["opacity","clipPath","filter","transform"]);function IV(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:t};f&&(m.offset=f);const v=v1(d,o);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const AV=Fm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wh=10,PV=2e4;function CV(n){return eg(n.type)||n.type==="spring"||!y1(n.ease)}function xV(n,e){const t=new fg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const o=[];let a=0;for(;!r.done&&a<PV;)r=t.sample(a),o.push(r.value),a+=wh;return{times:void 0,keyframes:o,duration:a-wh,ease:"linear"}}const eS={anticipate:N1,backInOut:k1,circInOut:V1};function RV(n){return n in eS}class R0 extends G1{constructor(e){super(e);const{name:t,motionValue:r,element:o,keyframes:a}=this.options;this.resolver=new K1(a,(u,d)=>this.onKeyframesResolved(u,d),t,r,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:o,ease:a,type:u,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&yh()&&RV(a)&&(a=eS[a]),CV(this.options)){const{onComplete:w,onUpdate:T,motionValue:C,element:b,...L}=this.options,O=xV(e,L);e=O.keyframes,e.length===1&&(e[1]=e[0]),r=O.duration,o=O.times,a=O.ease,u="keyframes"}const v=IV(d.owner.current,f,e,{...this.options,duration:r,times:o,ease:a});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(f0(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;d.set(Xh(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:o,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return qr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return qr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Wr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return wn;const{animation:r}=t;f0(r,e)}return wn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:o,type:a,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:w,element:T,...C}=this.options,b=new fg({...C,keyframes:r,duration:o,type:a,ease:u,times:d,isGenerator:!0}),L=Wr(this.time);m.setWithVelocity(b.sample(L-wh).value,b.sample(L).value,wh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:o,repeatType:a,damping:u,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return AV()&&r&&SV.has(r)&&!f&&!m&&!o&&a!=="mirror"&&u!==0&&d!=="inertia"}}const kV={type:"spring",stiffness:500,damping:25,restSpeed:10},NV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),DV={type:"keyframes",duration:.8},VV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bV=(n,{keyframes:e})=>e.length>2?DV:$s.has(n)?n.startsWith("scale")?NV(e[1]):kV:VV;function MV({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:m,...v}){return!!Object.keys(v).length}const pg=(n,e,t,r={},o,a)=>u=>{const d=Zm(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Wr(f);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};MV(d)||(v={...v,...bV(n,v)}),v.duration&&(v.duration=Wr(v.duration)),v.repeatDelay&&(v.repeatDelay=Wr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const T=Xh(v.keyframes,d);if(T!==void 0)return Ye.update(()=>{v.onUpdate(T),v.onComplete()}),new tD([])}return!a&&R0.supports(v)?new R0(v):new fg(v)};function LV({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function tS(n,e,{delay:t=0,transitionOverride:r,type:o}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in f){const T=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),C=f[w];if(C===void 0||v&&LV(v,w))continue;const b={delay:t,...Zm(u||{},w)};let L=!1;if(window.MotionHandoffAnimation){const W=A1(n);if(W){const q=window.MotionHandoffAnimation(W,w,Ye);q!==null&&(b.startTime=q,L=!0)}}kp(n,w),T.start(pg(w,T,C,n.shouldReduceMotion&&S1.has(w)?{type:!1}:b,n,L));const O=T.animation;O&&m.push(O)}return d&&Promise.all(m).then(()=>{Ye.update(()=>{d&&pD(n,d)})}),m}function Op(n,e,t={}){var r;const o=Qh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(a=t.transitionOverride);const u=o?()=>Promise.all(tS(n,o,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:T}=a;return OV(n,e,v+m,w,T,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,v]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>v())}else return Promise.all([u(),d(t.delay)])}function OV(n,e,t=0,r=0,o=1,a){const u=[],d=(n.variantChildren.size-1)*r,f=o===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(n.variantChildren).sort(FV).forEach((m,v)=>{m.notify("AnimationStart",e),u.push(Op(m,e,{...a,delay:t+f(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function FV(n,e){return n.sortNodePosition(e)}function jV(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Op(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=Op(n,e,t);else{const o=typeof e=="function"?Qh(n,e,t.custom):e;r=Promise.all(tS(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const UV=Bm.length;function nS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?nS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<UV;t++){const r=Bm[t],o=n.props[r];(Hl(o)||o===!1)&&(e[r]=o)}return e}const BV=[...Um].reverse(),zV=Um.length;function $V(n){return e=>Promise.all(e.map(({animation:t,options:r})=>jV(n,t,r)))}function HV(n){let e=$V(n),t=k0(),r=!0;const o=f=>(m,v)=>{var w;const T=Qh(n,v,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:C,transitionEnd:b,...L}=T;m={...m,...L,...b}}return m};function a(f){e=f(n)}function u(f){const{props:m}=n,v=nS(n.parent)||{},w=[],T=new Set;let C={},b=1/0;for(let O=0;O<zV;O++){const W=BV[O],q=t[W],J=m[W]!==void 0?m[W]:v[W],se=Hl(J),ie=W===f?q.isActive:null;ie===!1&&(b=O);let ue=J===v[W]&&J!==m[W]&&se;if(ue&&r&&n.manuallyAnimateOnMount&&(ue=!1),q.protectedKeys={...C},!q.isActive&&ie===null||!J&&!q.prevProp||Kh(J)||typeof J=="boolean")continue;const N=WV(q.prevProp,J);let I=N||W===f&&q.isActive&&!ue&&se||O>b&&se,x=!1;const D=Array.isArray(J)?J:[J];let M=D.reduce(o(W),{});ie===!1&&(M={});const{prevResolvedValues:j={}}=q,R={...j,...M},Je=Ae=>{I=!0,T.has(Ae)&&(x=!0,T.delete(Ae)),q.needsAnimating[Ae]=!0;const ne=n.getValue(Ae);ne&&(ne.liveStyle=!1)};for(const Ae in R){const ne=M[Ae],me=j[Ae];if(C.hasOwnProperty(Ae))continue;let oe=!1;Cp(ne)&&Cp(me)?oe=!p1(ne,me):oe=ne!==me,oe?ne!=null?Je(Ae):T.add(Ae):ne!==void 0&&T.has(Ae)?Je(Ae):q.protectedKeys[Ae]=!0}q.prevProp=J,q.prevResolvedValues=M,q.isActive&&(C={...C,...M}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(ue&&N)||x)&&w.push(...D.map(Ae=>({animation:Ae,options:{type:W}})))}if(T.size){const O={};T.forEach(W=>{const q=n.getBaseTarget(W),J=n.getValue(W);J&&(J.liveStyle=!0),O[W]=q??null}),w.push({animation:O})}let L=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(w):Promise.resolve()}function d(f,m){var v;if(t[f].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(T=>{var C;return(C=T.animationState)===null||C===void 0?void 0:C.setActive(f,m)}),t[f].isActive=m;const w=u(f);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=k0(),r=!0}}}function WV(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!p1(e,n):!1}function As(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k0(){return{animate:As(!0),whileInView:As(),whileHover:As(),whileTap:As(),whileDrag:As(),whileFocus:As(),exit:As()}}class Gi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qV extends Gi{constructor(e){super(e),e.animationState||(e.animationState=HV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let KV=0;class GV extends Gi{constructor(){super(...arguments),this.id=KV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rS={animation:{Feature:qV},exit:{Feature:GV}};function Gl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function lu(n){return{point:{x:n.pageX,y:n.pageY}}}const QV=n=>e=>ng(e)&&n(e,lu(e));function Dl(n,e,t,r){return Gl(n,e,QV(t),r)}const N0=(n,e)=>Math.abs(n-e);function XV(n,e){const t=N0(n.x,e.x),r=N0(n.y,e.y);return Math.sqrt(t**2+r**2)}class iS{constructor(e,t,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Qf(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,C=XV(w.offset,{x:0,y:0})>=3;if(!T&&!C)return;const{point:b}=w,{timestamp:L}=Mt;this.history.push({...b,timestamp:L});const{onStart:O,onMove:W}=this.handlers;T||(O&&O(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Gf(T,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:C,onSessionEnd:b,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Qf(w.type==="pointercancel"?this.lastMoveEventInfo:Gf(T,this.transformPagePoint),this.history);this.startEvent&&C&&C(w,O),b&&b(w,O)},!ng(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=o||window;const u=lu(e),d=Gf(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Mt;this.history=[{...f,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,Qf(d,this.history)),this.removeListeners=au(Dl(this.contextWindow,"pointermove",this.handlePointerMove),Dl(this.contextWindow,"pointerup",this.handlePointerUp),Dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function Gf(n,e){return e?{point:e(n.point)}:n}function D0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Qf({point:n},e){return{point:n,delta:D0(n,sS(e)),offset:D0(n,YV(e)),velocity:JV(e,.1)}}function YV(n){return n[0]}function sS(n){return n[n.length-1]}function JV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=sS(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>Wr(e)));)t--;if(!r)return{x:0,y:0};const a=qr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const oS=1e-4,ZV=1-oS,eb=1+oS,aS=.01,tb=0-aS,nb=0+aS;function En(n){return n.max-n.min}function rb(n,e,t){return Math.abs(n-e)<=t}function V0(n,e,t,r=.5){n.origin=r,n.originPoint=rt(e.min,e.max,n.origin),n.scale=En(t)/En(e),n.translate=rt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=ZV&&n.scale<=eb||isNaN(n.scale))&&(n.scale=1),(n.translate>=tb&&n.translate<=nb||isNaN(n.translate))&&(n.translate=0)}function Vl(n,e,t,r){V0(n.x,e.x,t.x,r?r.originX:void 0),V0(n.y,e.y,t.y,r?r.originY:void 0)}function b0(n,e,t){n.min=t.min+e.min,n.max=n.min+En(e)}function ib(n,e,t){b0(n.x,e.x,t.x),b0(n.y,e.y,t.y)}function M0(n,e,t){n.min=e.min-t.min,n.max=n.min+En(e)}function bl(n,e,t){M0(n.x,e.x,t.x),M0(n.y,e.y,t.y)}function sb(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?rt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?rt(t,n,r.max):Math.min(n,t)),n}function L0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function ob(n,{top:e,left:t,bottom:r,right:o}){return{x:L0(n.x,t,o),y:L0(n.y,e,r)}}function O0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function ab(n,e){return{x:O0(n.x,e.x),y:O0(n.y,e.y)}}function lb(n,e){let t=.5;const r=En(n),o=En(e);return o>r?t=aa(e.min,e.max-r,n.min):r>o&&(t=aa(n.min,n.max-o,e.min)),Yr(0,1,t)}function ub(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Fp=.35;function cb(n=Fp){return n===!1?n=0:n===!0&&(n=Fp),{x:F0(n,"left","right"),y:F0(n,"top","bottom")}}function F0(n,e,t){return{min:j0(n,e),max:j0(n,t)}}function j0(n,e){return typeof n=="number"?n:n[e]||0}const U0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:U0(),y:U0()}),B0=()=>({min:0,max:0}),ut=()=>({x:B0(),y:B0()});function Vn(n){return[n("x"),n("y")]}function lS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function hb({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function db(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Xf(n){return n===void 0||n===1}function jp({scale:n,scaleX:e,scaleY:t}){return!Xf(n)||!Xf(e)||!Xf(t)}function xs(n){return jp(n)||uS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function uS(n){return z0(n.x)||z0(n.y)}function z0(n){return n&&n!=="0%"}function Eh(n,e,t){const r=n-t,o=e*r;return t+o}function $0(n,e,t,r,o){return o!==void 0&&(n=Eh(n,o,r)),Eh(n,t,r)+e}function Up(n,e=0,t=1,r,o){n.min=$0(n.min,e,t,r,o),n.max=$0(n.max,e,t,r,o)}function cS(n,{x:e,y:t}){Up(n.x,e.translate,e.scale,e.originPoint),Up(n.y,t.translate,t.scale,t.originPoint)}const H0=.999999999999,W0=1.0000000000001;function fb(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,cS(n,u)),r&&xs(a.latestValues)&&qo(n,a.latestValues))}e.x<W0&&e.x>H0&&(e.x=1),e.y<W0&&e.y>H0&&(e.y=1)}function Wo(n,e){n.min=n.min+e,n.max=n.max+e}function q0(n,e,t,r,o=.5){const a=rt(n.min,n.max,o);Up(n,e,t,a,r)}function qo(n,e){q0(n.x,e.x,e.scaleX,e.scale,e.originX),q0(n.y,e.y,e.scaleY,e.scale,e.originY)}function hS(n,e){return lS(db(n.getBoundingClientRect(),e))}function pb(n,e,t){const r=hS(n,t),{scroll:o}=e;return o&&(Wo(r.x,o.offset.x),Wo(r.y,o.offset.y)),r}const dS=({current:n})=>n?n.ownerDocument.defaultView:null,mb=new WeakMap;class gb{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(lu(v).point)},a=(v,w)=>{const{drag:T,dragPropagation:C,onDragStart:b}=this.getProps();if(T&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uD(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(O=>{let W=this.getAxisMotionValue(O).get()||0;if(wr.test(W)){const{projection:q}=this.visualElement;if(q&&q.layout){const J=q.layout.layoutBox[O];J&&(W=En(J)*(parseFloat(W)/100))}}this.originPoint[O]=W}),b&&Ye.postRender(()=>b(v,w)),kp(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},u=(v,w)=>{const{dragPropagation:T,dragDirectionLock:C,onDirectionLock:b,onDrag:L}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:O}=w;if(C&&this.currentDirection===null){this.currentDirection=yb(O),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",w.point,O),this.updateAxis("y",w.point,O),this.visualElement.render(),L&&L(v,w)},d=(v,w)=>this.stop(v,w),f=()=>Vn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new iS(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:dS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ye.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!bc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=sb(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=ob(o.layoutBox,t):this.constraints=!1,this.elastic=cb(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Vn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=ub(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=pb(r,o.root,this.visualElement.getTransformPagePoint());let u=ab(o.layout.layoutBox,a);if(t){const d=t(hb(u));this.hasMutatedConstraints=!!d,d&&(u=lS(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Vn(v=>{if(!bc(v,t,this.currentDirection))return;let w=f&&f[v]||{};u&&(w={min:0,max:0});const T=o?200:1e6,C=o?40:1e7,b={type:"inertia",velocity:r?e[v]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(v,b)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return kp(this.visualElement,e),r.start(pg(e,r,0,t,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(t=>{const{drag:r}=this.getProps();if(!bc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-rt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!zo(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=lb({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!bc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(rt(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;mb.set(this.visualElement,this);const e=this.visualElement.current,t=Dl(e,"pointerdown",f=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();zo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ye.read(r);const u=Gl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=f[v].translate,w.set(w.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Fp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function bc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function yb(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class vb extends Gi{constructor(e){super(e),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new gb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const K0=n=>(e,t)=>{n&&Ye.postRender(()=>n(e,t))};class _b extends Gi{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(e){this.session=new iS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:K0(e),onStart:K0(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&Ye.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Dl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ml={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=G0(n,e.target.x),r=G0(n,e.target.y);return`${t}% ${r}%`}},wb={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=Hi.parse(n);if(o.length>5)return r;const a=Hi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=rt(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}};class Eb extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;$N(Tb),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Ye.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$m.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fS(n){const[e,t]=GT(),r=ee.useContext(bm);return P.jsx(Eb,{...n,layoutGroup:r,switchLayoutGroup:ee.useContext(t1),isPresent:e,safeToRemove:t})}const Tb={borderRadius:{...ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ml,borderTopRightRadius:ml,borderBottomLeftRadius:ml,borderBottomRightRadius:ml,boxShadow:wb};function Sb(n,e,t){const r=Gt(n)?n:ql(n);return r.start(pg("",r,e,t)),r.animation}function Ib(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Ab=(n,e)=>n.depth-e.depth;class Pb{constructor(){this.children=[],this.isDirty=!1}add(e){rg(this.children,e),this.isDirty=!0}remove(e){ig(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ab),this.isDirty=!1,this.children.forEach(e)}}function Cb(n,e){const t=Er.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&($i(r),n(a-e))};return Ye.read(r,!0),()=>$i(r)}const pS=["TopLeft","TopRight","BottomLeft","BottomRight"],xb=pS.length,Q0=n=>typeof n=="string"?parseFloat(n):n,X0=n=>typeof n=="number"||we.test(n);function Rb(n,e,t,r,o,a){o?(n.opacity=rt(0,t.opacity!==void 0?t.opacity:1,kb(r)),n.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,Nb(r))):a&&(n.opacity=rt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<xb;u++){const d=`border${pS[u]}Radius`;let f=Y0(e,d),m=Y0(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||X0(f)===X0(m)?(n[d]=Math.max(rt(Q0(f),Q0(m),r),0),(wr.test(m)||wr.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=rt(e.rotate||0,t.rotate||0,r))}function Y0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const kb=mS(0,.5,D1),Nb=mS(.5,.95,wn);function mS(n,e,t){return r=>r<n?0:r>e?1:t(aa(n,e,r))}function J0(n,e){n.min=e.min,n.max=e.max}function Dn(n,e){J0(n.x,e.x),J0(n.y,e.y)}function Z0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ew(n,e,t,r,o){return n-=e,n=Eh(n,1/t,r),o!==void 0&&(n=Eh(n,1/o,r)),n}function Db(n,e=0,t=1,r=.5,o,a=n,u=n){if(wr.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=rt(a.min,a.max,r);n===a&&(d-=e),n.min=ew(n.min,e,t,d,o),n.max=ew(n.max,e,t,d,o)}function tw(n,e,[t,r,o],a,u){Db(n,e[t],e[r],e[o],e.scale,a,u)}const Vb=["x","scaleX","originX"],bb=["y","scaleY","originY"];function nw(n,e,t,r){tw(n.x,e,Vb,t?t.x:void 0,r?r.x:void 0),tw(n.y,e,bb,t?t.y:void 0,r?r.y:void 0)}function rw(n){return n.translate===0&&n.scale===1}function gS(n){return rw(n.x)&&rw(n.y)}function iw(n,e){return n.min===e.min&&n.max===e.max}function Mb(n,e){return iw(n.x,e.x)&&iw(n.y,e.y)}function sw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function yS(n,e){return sw(n.x,e.x)&&sw(n.y,e.y)}function ow(n){return En(n.x)/En(n.y)}function aw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Lb{constructor(){this.members=[]}add(e){rg(this.members,e),e.scheduleRender()}remove(e){if(ig(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ob(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:T,skewX:C,skewY:b}=t;m&&(r=`perspective(${m}px) ${r}`),v&&(r+=`rotate(${v}deg) `),w&&(r+=`rotateX(${w}deg) `),T&&(r+=`rotateY(${T}deg) `),C&&(r+=`skewX(${C}deg) `),b&&(r+=`skewY(${b}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Rs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Il=typeof window<"u"&&window.MotionDebug!==void 0,Yf=["","X","Y","Z"],Fb={visibility:"hidden"},lw=1e3;let jb=0;function Jf(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function vS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=A1(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ye,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&vS(r)}function _S({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=jb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Il&&(Rs.totalNodes=Rs.resolvedTargetDeltas=Rs.recalculatedProjection=0),this.nodes.forEach(zb),this.nodes.forEach(Kb),this.nodes.forEach(Gb),this.nodes.forEach($b),Il&&window.MotionDebug.record(Rs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pb)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new sg),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ib(u),this.instance=u;const{layoutId:f,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=Cb(T,250),Gc.hasAnimatedSinceResize&&(Gc.hasAnimatedSinceResize=!1,this.nodes.forEach(cw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:C,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||v.getDefaultTransition()||Zb,{onLayoutAnimationStart:O,onLayoutAnimationComplete:W}=v.getProps(),q=!this.targetLayout||!yS(this.targetLayout,b)||C,J=!T&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||J||T&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,J);const se={...Zm(L,"layout"),onPlay:O,onComplete:W};(v.shouldReduceMotion||this.options.layoutRoot)&&(se.delay=0,se.type=!1),this.startAnimation(se)}else T||cw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qb),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uw);return}this.isUpdating||this.nodes.forEach(Wb),this.isUpdating=!1,this.nodes.forEach(qb),this.nodes.forEach(Ub),this.nodes.forEach(Bb),this.clearAllSnapshots();const d=Er.now();Mt.delta=Yr(0,1e3/60,d-Mt.timestamp),Mt.timestamp=d,Mt.isProcessing=!0,Bf.update.process(Mt),Bf.preRender.process(Mt),Bf.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$m.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Hb),this.sharedNodes.forEach(Xb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!gS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(d||xs(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),eM(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ut();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(tM))){const{scroll:v}=this.root;v&&(Wo(f.x,v.offset.x),Wo(f.y,v.offset.y))}return f}removeElementScroll(u){var d;const f=ut();if(Dn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:T}=v;v!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Dn(f,u),Wo(f.x,w.offset.x),Wo(f.y,w.offset.y))}return f}applyTransform(u,d=!1){const f=ut();Dn(f,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&qo(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),xs(v.latestValues)&&qo(f,v.latestValues)}return xs(this.latestValues)&&qo(f,this.latestValues),f}removeTransform(u){const d=ut();Dn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!xs(m.latestValues))continue;jp(m.latestValues)&&m.updateSnapshot();const v=ut(),w=m.measurePageBox();Dn(v,w),nw(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return xs(this.latestValues)&&nw(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),bl(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ib(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),cS(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),bl(this.relativeTargetOrigin,this.target,C.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Il&&Rs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jp(this.parent.latestValues)||uS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(m=!1),m)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Dn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,C=this.treeScale.y;fb(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ut());const{target:b}=d;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z0(this.prevProjectionDelta.x,this.projectionDelta.x),Z0(this.prevProjectionDelta.y,this.projectionDelta.y)),Vl(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==C||!aw(this.projectionDelta.x,this.prevProjectionDelta.x)||!aw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Il&&Rs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},v={...this.latestValues},w=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=ut(),C=f?f.source:void 0,b=this.layout?this.layout.source:void 0,L=C!==b,O=this.getStack(),W=!O||O.members.length<=1,q=!!(L&&!W&&this.options.crossfade===!0&&!this.path.some(Jb));this.animationProgress=0;let J;this.mixTargetDelta=se=>{const ie=se/1e3;hw(w.x,u.x,ie),hw(w.y,u.y,ie),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bl(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yb(this.relativeTarget,this.relativeTargetOrigin,T,ie),J&&Mb(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=ut()),Dn(J,this.relativeTarget)),L&&(this.animationValues=v,Rb(v,m,this.latestValues,ie,q,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Gc.hasAnimatedSinceResize=!0,this.currentAnimation=Sb(0,lw,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:v}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&wS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||ut();const w=En(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const T=En(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}Dn(d,f),qo(d,v),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Lb),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Jf("z",u,m,this.animationValues);for(let v=0;v<Yf.length;v++)Jf(`rotate${Yf[v]}`,u,m,this.animationValues),Jf(`skew${Yf[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Fb;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=qc(u?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=qc(u?.pointerEvents)||""),this.hasProjected&&!xs(this.latestValues)&&(L.transform=v?v({},""):"none",this.hasProjected=!1),L}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=Ob(this.projectionDeltaWithTransform,this.treeScale,T),v&&(m.transform=v(T,m.transform));const{x:C,y:b}=this.projectionDelta;m.transformOrigin=`${C.origin*100}% ${b.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const L in gh){if(T[L]===void 0)continue;const{correct:O,applyTo:W}=gh[L],q=m.transform==="none"?T[L]:O(T[L],w);if(W){const J=W.length;for(let se=0;se<J;se++)m[W[se]]=q}else m[L]=q}return this.options.layoutId&&(m.pointerEvents=w===this?qc(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(uw),this.root.sharedNodes.clear()}}}function Ub(n){n.updateLayout()}function Bb(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?Vn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],C=En(T);T.min=r[w].min,T.max=T.min+C}):wS(a,t.layoutBox,r)&&Vn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],C=En(r[w]);T.max=T.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+C)});const d=Ho();Vl(d,r,t.layoutBox);const f=Ho();u?Vl(f,n.applyTransform(o,!0),t.measuredBox):Vl(f,r,t.layoutBox);const m=!gS(d);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:C}=w;if(T&&C){const b=ut();bl(b,t.layoutBox,T.layoutBox);const L=ut();bl(L,r,C.layoutBox),yS(b,L)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=b,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function zb(n){Il&&Rs.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function $b(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Hb(n){n.clearSnapshot()}function uw(n){n.clearMeasurements()}function Wb(n){n.isLayoutDirty=!1}function qb(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function cw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Kb(n){n.resolveTargetDelta()}function Gb(n){n.calcProjection()}function Qb(n){n.resetSkewAndRotation()}function Xb(n){n.removeLeadSnapshot()}function hw(n,e,t){n.translate=rt(e.translate,0,t),n.scale=rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function dw(n,e,t,r){n.min=rt(e.min,t.min,r),n.max=rt(e.max,t.max,r)}function Yb(n,e,t,r){dw(n.x,e.x,t.x,r),dw(n.y,e.y,t.y,r)}function Jb(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Zb={duration:.45,ease:[.4,0,.1,1]},fw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),pw=fw("applewebkit/")&&!fw("chrome/")?Math.round:wn;function mw(n){n.min=pw(n.min),n.max=pw(n.max)}function eM(n){mw(n.x),mw(n.y)}function wS(n,e,t){return n==="position"||n==="preserve-aspect"&&!rb(ow(e),ow(t),.2)}function tM(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const nM=_S({attachResizeListener:(n,e)=>Gl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zf={current:void 0},ES=_S({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Zf.current){const n=new nM({});n.mount(window),n.setOptions({layoutScroll:!0}),Zf.current=n}return Zf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),rM={pan:{Feature:_b},drag:{Feature:vb,ProjectionNode:ES,MeasureLayout:fS}};function gw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&Ye.postRender(()=>a(e,lu(e)))}class iM extends Gi{mount(){const{current:e}=this.node;e&&(this.unmount=iD(e,t=>(gw(this.node,t,"Start"),r=>gw(this.node,r,"End"))))}unmount(){}}class sM extends Gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=au(Gl(this.node.current,"focus",()=>this.onFocus()),Gl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yw(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&Ye.postRender(()=>a(e,lu(e)))}class oM extends Gi{mount(){const{current:e}=this.node;e&&(this.unmount=lD(e,t=>(yw(this.node,t,"Start"),(r,{success:o})=>yw(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bp=new WeakMap,ep=new WeakMap,aM=n=>{const e=Bp.get(n.target);e&&e(n)},lM=n=>{n.forEach(aM)};function uM({root:n,...e}){const t=n||document;ep.has(t)||ep.set(t,{});const r=ep.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(lM,{root:n,...e})),r[o]}function cM(n,e,t){const r=uM(e);return Bp.set(n,t),r.observe(n),()=>{Bp.delete(n),r.unobserve(n)}}const hM={some:0,all:1};class dM extends Gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:hM[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),T=m?v:w;T&&T(f)};return cM(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(fM(e,t))&&this.startObserver()}unmount(){}}function fM({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const TS={inView:{Feature:dM},tap:{Feature:oM},focus:{Feature:sM},hover:{Feature:iM}},pM={layout:{ProjectionNode:ES,MeasureLayout:fS}},zp={current:null},SS={current:!1};function mM(){if(SS.current=!0,!!Om)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>zp.current=n.matches;n.addListener(e),e()}else zp.current=!1}const gM=[...q1,Wt,Hi],yM=n=>gM.find(W1(n)),vw=new WeakMap;function vM(n,e,t){for(const r in e){const o=e[r],a=t[r];if(Gt(o))n.addValue(r,o);else if(Gt(a))n.addValue(r,ql(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,ql(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const _w=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _M{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=Er.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Ye.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Gh(t),this.isVariantNode=ZT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const C in T){const b=T[C];f[C]!==void 0&&Gt(b)&&b.set(f[C],!1)}}mount(e){this.current=e,vw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),SS.current||mM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vw.delete(this.current),this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=$s.has(e),o=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in la){const t=la[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<_w.length;r++){const o=_w[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=vM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ql(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&($1(o)||b1(o))?o=parseFloat(o):!yM(o)&&Hi.test(t)&&(o=U1(e,t)),this.setBaseTarget(e,Gt(o)?o.get():o)),Gt(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const u=Wm(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Gt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new sg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class IS extends _M{constructor(){super(...arguments),this.KeyframeResolver=K1}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function wM(n){return window.getComputedStyle(n)}class EM extends IS{constructor(){super(...arguments),this.type="html",this.renderInstance=l1}readValueFromInstance(e,t){if($s.has(t)){const r=cg(t);return r&&r.default||0}else{const r=wM(e),o=(s1(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return hS(e,t)}build(e,t,r){Gm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Jm(e,t,r)}}class TM extends IS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($s.has(t)){const r=cg(t);return r&&r.default||0}return t=u1.has(t)?t:zm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return d1(e,t,r)}build(e,t,r){Qm(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,o){c1(e,t,r,o)}mount(e){this.isSVGTag=Ym(e.tagName),super.mount(e)}}const AS=(n,e)=>Hm(n)?new TM(e):new EM(e,{allowProjection:n!==ee.Fragment}),SM=JN({...rS,...TS,...rM,...pM},AS),_n=fN(SM),IM={renderer:AS,...rS,...TS},AM={some:0,all:1};function PM(n,e,{root:t,margin:r,amount:o="some"}={}){const a=w1(n),u=new WeakMap,d=m=>{m.forEach(v=>{const w=u.get(v.target);if(v.isIntersecting!==!!w)if(v.isIntersecting){const T=e(v);typeof T=="function"?u.set(v.target,T):f.unobserve(v.target)}else typeof w=="function"&&(w(v),u.delete(v.target))})},f=new IntersectionObserver(d,{root:t,rootMargin:r,threshold:typeof o=="number"?o:AM[o]});return a.forEach(m=>f.observe(m)),()=>f.disconnect()}function mg(n,{root:e,margin:t,amount:r,once:o=!1}={}){const[a,u]=ee.useState(!1);return ee.useEffect(()=>{if(!n.current||o&&a)return;const d=()=>(u(!0),o?void 0:()=>u(!1)),f={root:e&&e.current||void 0,margin:t,amount:r};return PM(n.current,d,f)},[e,n,t,o,r]),a}const CM=()=>P.jsx("style",{children:`
        /* REFINED: A softer, more modern glass effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 1rem;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        /* REFINED: Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }
        /* ADMIN PANEL STYLES */
        .input-field {
            width: 100%;
            background-color: rgb(249 250 251 / 1); /* bg-gray-50 */
            border: 1px solid rgb(209 213 219 / 1); /* border-gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 0.75rem 1rem;
            color: rgb(17 24 39 / 1); /* text-gray-900 */
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        .btn-primary {
            background-image: linear-gradient(to right, #3b82f6, #14b8a6);
            color: white;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }
        .btn-secondary {
            background-color: transparent;
            border: 1px solid #d1d5db;
            color: #4b5563;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .btn-secondary:hover {
            background-color: #e5e7eb;
        }
    `}),xM=()=>P.jsx("div",{className:"flex justify-center items-center h-screen bg-[#fdfcf9]",children:P.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-teal-500"})}),Qi=({children:n,id:e,className:t="",animateInView:r=!0})=>{const o=ee.useRef(null),a=mg(o,{once:!0,amount:.2});return P.jsx(_n.section,{id:e,ref:o,initial:r?{opacity:0,y:50}:!1,animate:r?{opacity:a?1:0,y:a?0:50}:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:`py-20 md:py-24 min-h-[50vh] ${t}`,children:n})},Xi=()=>{const n=ee.useRef(null),e=mg(n,{once:!0,amount:.5});return P.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:P.jsx(_n.div,{className:"h-full bg-gradient-to-r from-blue-500 to-teal-400 rounded-full",initial:{scaleX:0},animate:{scaleX:e?1:0},transition:{duration:1,ease:"easeOut"},style:{transformOrigin:"center"}})})},Ps=()=>P.jsx("div",{className:"my-8 md:my-12",children:P.jsx("hr",{className:"border-t border-gray-200/80 max-w-4xl mx-auto"})}),RM=()=>{const[n,e]=ee.useState(!1);return P.jsxs(_n.header,{initial:{y:-100},animate:{y:0},transition:{duration:.8,ease:"easeOut"},className:"bg-white/70 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200/80",children:[P.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[P.jsx("a",{href:"#home",children:P.jsx("img",{src:"/Costas_Portfolio/assets/logo.png",alt:"Logo",className:"h-8 w-8 object-contain"})}),P.jsxs("div",{className:"hidden md:flex space-x-8 items-center text-gray-600 font-medium",children:[P.jsx("a",{href:"#about",className:"hover:text-blue-500 transition-colors",children:"About"}),P.jsx("a",{href:"#experience",className:"hover:text-blue-500 transition-colors",children:"Experience"}),P.jsx("a",{href:"#skills",className:"hover:text-blue-500 transition-colors",children:"Skills"}),P.jsx("a",{href:"#achievements",className:"hover:text-blue-500 transition-colors",children:"Achievements"}),P.jsx("a",{href:"#tools-tech",className:"hover:text-blue-500 transition-colors",children:"Tech Stack"}),P.jsx("a",{href:"#journey",className:"hover:text-blue-500 transition-colors",children:"Journey"}),P.jsx("a",{href:"#projects",className:"hover:text-blue-500 transition-colors",children:"Projects"}),P.jsx("a",{href:"#certifications",className:"hover:text-blue-500 transition-colors",children:"Certificates"}),P.jsx("a",{href:"#contact",className:"hover:text-blue-500 transition-colors",children:"Contact"})]}),P.jsx("div",{className:"md:hidden",children:P.jsx("button",{onClick:()=>e(!n),className:"text-gray-700 focus:outline-none","aria-label":"Toggle Menu",children:n?P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),n&&P.jsxs("div",{className:"md:hidden px-6 pb-4 flex flex-col space-y-4 text-gray-600 font-medium",children:[P.jsx("a",{href:"#about",onClick:()=>e(!1),children:"About"}),P.jsx("a",{href:"#experience",onClick:()=>e(!1),children:"Experience"}),P.jsx("a",{href:"#skills",onClick:()=>e(!1),children:"Skills"}),P.jsx("a",{href:"#achievements",onClick:()=>e(!1),children:"Achievements"}),P.jsx("a",{href:"#tools-tech",onClick:()=>e(!1),children:"Tech Stack"}),P.jsx("a",{href:"#journey",onClick:()=>e(!1),children:"Journey"}),P.jsx("a",{href:"#projects",onClick:()=>e(!1),children:"Projects"}),P.jsx("a",{href:"#certifications",onClick:()=>e(!1),children:"Certificates"}),P.jsx("a",{href:"#contact",onClick:()=>e(!1),children:"Contact"})]})]})},kM=()=>P.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden bg-[#fcfaf7]",children:P.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[P.jsxs(_n.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"md:col-span-3",children:[P.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-800 mb-4",children:[P.jsx("span",{className:"block mb-2 text-xl font-normal text-gray-500",children:"Hello, I'm"}),"Costas Pinto"]}),P.jsx("p",{className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400",children:"Data Science & ML Enthusiast"}),P.jsx("p",{className:"max-w-xl text-gray-600 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),P.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4",children:[P.jsxs(_n.a,{href:"#",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-teal-400 text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-blue-500/20 transition-all hover:shadow-xl",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),P.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-800 transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]})]})]}),P.jsx(_n.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,type:"spring"},className:"md:col-span-2 flex justify-center items-center relative",children:P.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px] flex items-center justify-center",children:[P.jsx(_n.div,{animate:{rotate:360},transition:{duration:40,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-tr from-blue-200 via-teal-200 to-blue-300 rounded-full opacity-40 blur-3xl"}),P.jsx("div",{className:"relative z-10 flex justify-center items-center",children:P.jsx("img",{src:"./assets/Costas.png",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain z-10"})})]})})]})}),NM=()=>P.jsxs(Qi,{id:"about",children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"About Me"}),P.jsx(Xi,{}),P.jsx("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:P.jsx("p",{className:"text-lg leading-relaxed text-gray-700 text-center",children:"As a current MCA student at Manipal University, Jaipur, with a Bachelor's in Computer Science, I am deeply engaged in the world of data analytics and machine learning. My internship at SkillFied Mentor provided a strong foundation in data exploration, visualization, and interpretation using tools like Python, Excel, and Power BI. I am passionate about leveraging technology to make complex subjects accessible, a skill I've honed as the founder of JHT SMART STEPS LEARNING. I am eager to apply my analytical skills to new challenges in the AI and ML space."})})]}),ww=({date:n,title:e,company:t,details:r})=>P.jsxs(_n.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-blue-200",children:[P.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-500 to-teal-400 rounded-full border-4 border-white"}),P.jsx("p",{className:"text-gray-500 mb-1 font-medium",children:n}),P.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e}),P.jsx("p",{className:"text-lg text-teal-600 font-semibold mb-3",children:t}),P.jsx("ul",{className:"list-disc list-inside text-gray-600 space-y-2",children:r.map((o,a)=>P.jsx("li",{children:o},a))})]}),DM=()=>P.jsxs(Qi,{id:"experience",children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"Experience"}),P.jsx(Xi,{}),P.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[P.jsx(ww,{date:"Jul 2025 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables.","Collaborated with a cross-functional team to build dashboards and reports."]}),P.jsx(ww,{date:"Aug 2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]})]})]}),VM=()=>{const n=ee.useRef(null),e=mg(n,{once:!0,amount:.3}),t={"Programming Languages":[{name:"Python",level:95},{name:"Java",level:85},{name:"JavaScript",level:90},{name:"SQL",level:88}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Power BI",level:85},{name:"Excel",level:92},{name:"Machine Learning",level:80},{name:"PostgreSQL",level:78},{name:"MongoDB",level:80}],"Web & App Development":[{name:"React",level:88},{name:"Firebase",level:85},{name:"Tailwind CSS",level:80},{name:"Vite",level:75},{name:"Streamlit",level:82}],"AI & Generative AI":[{name:"Generative AI",level:88},{name:"Prompt Engineering",level:90},{name:"LangChain",level:85},{name:"LLMs & RAG",level:80}],"Design & Presentation":[{name:"UI/UX Design",level:87},{name:"PowerPoint & Reporting",level:90}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:94}]};return P.jsxs(Qi,{id:"skills",children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"My Skills"}),P.jsx(Xi,{}),P.jsx("div",{ref:n,className:"p-8 md:p-12 max-w-5xl mx-auto rounded-2xl glass-card space-y-12",children:Object.entries(t).map(([r,o])=>P.jsxs("div",{children:[P.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:r}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:o.map((a,u)=>P.jsxs("div",{children:[P.jsxs("div",{className:"flex justify-between mb-1",children:[P.jsx("span",{className:"text-lg font-semibold text-gray-700",children:a.name}),P.jsxs("span",{className:"text-sm font-medium text-teal-600",children:[a.level,"%"]})]}),P.jsx("div",{className:"bg-gray-200 w-full rounded-full h-2.5",children:P.jsx(_n.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-teal-400",initial:{width:0},animate:{width:e?`${a.level}%`:0},transition:{duration:1,delay:.1*u,ease:"easeOut"}})})]},a.name))})]},r))})]})},bM=()=>P.jsxs(Qi,{id:"achievements",children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"Key Achievements"}),P.jsx(Xi,{}),P.jsx("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card space-y-4",children:P.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-3 text-lg",children:[P.jsxs("li",{children:["Completed ",P.jsx("strong",{children:"60+ Certifications"})," from IBM, Google, Meta, Microsoft, and Forage."]}),P.jsxs("li",{children:["Built and deployed ",P.jsx("strong",{children:"25+ AI/Data/Full-stack projects"})," solving real-world problems."]}),P.jsxs("li",{children:["Earned top-tier recognitions in job simulations at ",P.jsx("strong",{children:"BCG, Lloyds, BA, EA, TATA"}),", and more."]}),P.jsxs("li",{children:["Founded ",P.jsx("strong",{children:"JHT SMART STEPS LEARNING"})," – empowering students through digital education."]})]})})]}),MM=()=>{const n=["Python","Java","JavaScript","React","Node.js","Firebase","Power BI","Excel","Vite","Tailwind CSS","Git","GitHub","MySQL"];return P.jsxs(Qi,{id:"tools-tech",children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"Technologies & Tools"}),P.jsx(Xi,{}),P.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 max-w-5xl mx-auto text-center",children:n.map(e=>P.jsx("div",{className:"p-4 bg-white/60 rounded-xl shadow hover:shadow-lg transition-all",children:P.jsx("p",{className:"text-lg font-semibold text-gray-700",children:e})},e))})]})},LM=()=>P.jsxs(Qi,{id:"journey",children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"My Learning Journey"}),P.jsx(Xi,{}),P.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card space-y-6 text-gray-700",children:[P.jsx("p",{children:"From mastering foundational concepts to building AI-powered solutions, my journey is marked by continuous growth:"}),P.jsxs("ul",{className:"list-disc list-inside space-y-3 text-lg",children:[P.jsxs("li",{children:[P.jsx("strong",{children:"2024:"})," Learned Python, Java, and front-end development. Built my first ML models."]}),P.jsxs("li",{children:[P.jsx("strong",{children:"2025:"})," Completed 60+ certifications in AI, Data Science, UX, and Full-stack Dev."]}),P.jsxs("li",{children:[P.jsx("strong",{children:"Ongoing:"})," Practicing daily with real-world challenges, GitHub repos, and internships."]})]})]})]}),OM=({projects:n})=>P.jsxs(Qi,{id:"projects",animateInView:!1,children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"My Projects"}),P.jsx(Xi,{}),P.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:n.length>0?P.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>P.jsxs(_n.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},whileHover:{y:-8,scale:1.03,transition:{type:"spring",stiffness:300}},className:"p-6 flex flex-col rounded-2xl glass-card overflow-hidden",children:[P.jsx("img",{src:e.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:e.title,className:"rounded-lg mb-4 aspect-video object-cover border border-gray-200/50"}),P.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e.title}),P.jsx("p",{className:"text-gray-600 flex-grow mb-4",children:e.description}),P.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags?.map(r=>P.jsx("span",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full",children:r},r))}),e.projectLink&&P.jsx("a",{href:e.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-blue-600 border border-blue-500 rounded-full py-2 px-4 hover:bg-blue-500 hover:text-white transition-all duration-300",children:"View Project"})]},e.id))}):P.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:P.jsx("p",{className:"text-center text-gray-600 text-lg",children:"No projects found. Please add some projects from the admin panel."})})})]}),FM=({licensesPdfUrl:n,internshipsPdfUrl:e})=>P.jsxs(Qi,{id:"certifications",children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"Certificates"}),P.jsx(Xi,{}),P.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[P.jsx(_n.a,{href:n||"#",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-500 to-teal-400 ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Licenses & Certs"}),P.jsx(_n.a,{href:e||"#",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-500 to-teal-400 ${!e&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certs"})]})]}),jM=()=>P.jsx("footer",{id:"contact",className:"bg-gray-100 border-t border-gray-200 mt-20",children:P.jsxs("div",{className:"container mx-auto px-6 py-16 text-center",children:[P.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Let's Connect"}),P.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mb-8",children:"As a Data Analyst Intern at SkillFied Mentor, an MCA (AI & ML) Student at Manipal University Jaipur, and the Founder of JHT SMART STEPS LEARNING, I'm always eager to connect. Whether you have a project in mind, a question, or just want to say hi, my inbox is always open."}),P.jsx("a",{href:"mailto:costaspinto312@gmail.com",className:"inline-block text-2xl font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400 hover:opacity-80 transition-opacity mb-6",children:"costaspinto312@gmail.com"}),P.jsxs("div",{className:"flex justify-center items-center gap-6 mt-6",children:[P.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),P.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-800 transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})}),P.jsx("a",{href:"https://MrCoss.github.io/Costas_Portfolio",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})})]}),P.jsx("div",{className:"border-t border-gray-200 mt-12 pt-8 text-gray-500",children:P.jsxs("p",{children:["© ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})})]})}),UM=({onLogin:n,message:e,auth:t})=>{const[r,o]=ee.useState(""),[a,u]=ee.useState(""),[d,f]=ee.useState(e),m=async v=>{v.preventDefault(),f("Logging in...");try{await Fk(t,r,a),f("Login successful!"),n(!0)}catch(w){console.error("Login error:",w),f(`Login failed: ${w.message}`),n(!1)}};return P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:P.jsxs("form",{onSubmit:m,className:"p-8 rounded-2xl w-full max-w-sm glass-card",children:[P.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-6",children:"Admin Login"}),P.jsx("input",{type:"email",value:r,onChange:v=>o(v.target.value),placeholder:"Email",className:"input-field mb-4",required:!0}),P.jsx("input",{type:"password",value:a,onChange:v=>u(v.target.value),placeholder:"Password",className:"input-field mb-4",required:!0}),P.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Login"}),d&&P.jsx("p",{className:"text-red-500 text-center mt-4",children:d})]})})},BM=({db:n,fetchProjects:e,existingProject:t,onDone:r})=>{const[o,a]=ee.useState({title:t?.title||"",description:t?.description||"",tags:Array.isArray(t?.tags)?t.tags.join(", "):t?.tags||"",projectLink:t?.projectLink||"",imageUrl:t?.imageUrl||""}),[u,d]=ee.useState(""),f=!!t,m=w=>{const{name:T,value:C}=w.target;a(b=>({...b,[T]:C}))},v=async w=>{w.preventDefault(),d(f?"Updating...":"Adding...");const T=(o.tags||"").split(",").map(b=>b.trim()).filter(b=>b.length>0),C={...o,tags:T};try{f?await OR(sa(n,"projects",t.id),C):await jR(iT(n,"projects"),C),d(`Project ${f?"updated":"added"} successfully!`),e(),setTimeout(()=>r(),1500)}catch(b){console.error(b),d(`Error: ${b.message}`)}};return P.jsxs("div",{className:"p-8 rounded-2xl glass-card",children:[P.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:f?"Edit Project":"Add New Project"}),P.jsxs("form",{onSubmit:v,className:"space-y-4",children:[P.jsx("input",{type:"text",name:"title",placeholder:"Project Title",value:o.title,onChange:m,className:"input-field",required:!0}),P.jsx("textarea",{name:"description",placeholder:"Description",value:o.description,onChange:m,className:"input-field",required:!0}),P.jsx("input",{type:"text",name:"tags",placeholder:"Tags (comma-separated)",value:o.tags,onChange:m,className:"input-field"}),P.jsxs("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:["Image URL (e.g., from Imgur, Cloudinary)",P.jsx("input",{type:"url",name:"imageUrl",placeholder:"Paste image link here",value:o.imageUrl,onChange:m,className:"input-field"}),P.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your image to a service like Imgur or Cloudinary and paste the direct link here."})]}),P.jsx("button",{type:"submit",className:"btn-primary w-full",children:f?"Update Project":"Add Project"}),P.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full",children:"Cancel"}),u&&P.jsx("p",{className:"text-center mt-4 text-blue-700",children:u})]})]})},zM=({db:n,projects:e,fetchProjects:t,auth:r})=>{const[o,a]=ee.useState(null),[u,d]=ee.useState(""),[f,m]=ee.useState(""),[v,w]=ee.useState("");if(o)return P.jsx(BM,{db:n,fetchProjects:t,existingProject:o,onDone:()=>a(null)});const T=async L=>{d("Deleting...");try{await FR(sa(n,"projects",L)),d("Project deleted."),t()}catch(O){d(`Error: ${O.message}`)}},C=async(L,O,W)=>{L.preventDefault(),d(`Updating ${W}...`);try{await LR(sa(n,"portfolioAssets",W),{pdfUrl:O}),d(`${W} link updated.`),W==="licenses"&&m(""),W==="internships"&&w("")}catch(q){d(`Error: ${q.message}`)}},b=async()=>{try{await zk(r),d("Logged out successfully!"),window.location.hash=""}catch(L){console.error("Logout error:",L),d(`Logout failed: ${L.message}`)}};return P.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[P.jsxs("div",{className:"p-8 rounded-2xl glass-card lg:col-span-2",children:[P.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Manage Projects"}),P.jsx("button",{onClick:()=>a({}),className:"btn-primary mb-4",children:"Add New Project"}),P.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:P.jsx(sN,{children:e.map(L=>P.jsxs(_n.div,{layout:!0,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"flex justify-between items-center bg-white/50 p-3 rounded-lg",children:[P.jsx("span",{className:"text-gray-700 font-medium",children:L.title}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("button",{onClick:()=>a(L),className:"text-blue-500 hover:underline",children:"Edit"}),P.jsx("button",{onClick:()=>T(L.id),className:"text-red-500 hover:underline",children:"Delete"})]})]},L.id))})})]}),P.jsxs("div",{className:"p-8 rounded-2xl glass-card",children:[P.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Update PDFs"}),P.jsxs("form",{onSubmit:L=>C(L,f,"licenses"),className:"space-y-4 mb-6",children:[P.jsx("input",{type:"url",placeholder:"Licenses & Certs PDF Link",value:f,onChange:L=>m(L.target.value),className:"input-field",required:!0}),P.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Update Licenses"})]}),P.jsxs("form",{onSubmit:L=>C(L,v,"internships"),className:"space-y-4",children:[P.jsx("input",{type:"url",placeholder:"Internships PDF Link",value:v,onChange:L=>w(L.target.value),className:"input-field",required:!0}),P.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Update Internships"})]})]}),u&&P.jsx("p",{className:"text-center p-3 rounded-lg bg-blue-500/10 text-blue-700 lg:col-span-2",children:u}),P.jsx("button",{onClick:b,className:"btn-secondary w-full py-2 px-4 text-base mt-8",children:"Logout"})]})},$M=({db:n,projects:e,fetchProjects:t,auth:r})=>{const[o,a]=ee.useState(!1),[u,d]=ee.useState("");ee.useEffect(()=>{const m=Bk(r,v=>{a(!!v)});return()=>m()},[r]);const f=m=>{a(m),m||d("Login failed. Please check your credentials.")};return P.jsx("div",{className:"bg-[#fdfcf9] min-h-screen",children:P.jsxs("div",{className:"container mx-auto px-6 py-12",children:[P.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center mb-12",children:"Admin Dashboard"}),o?P.jsx(zM,{db:n,projects:e,fetchProjects:t,auth:r}):P.jsx(UM,{onLogin:f,message:u,auth:r})]})})},HM={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},PS=Dw(HM),Mc=SR(PS),WM=Z2(PS);function qM(){const[n,e]=ee.useState("home"),[t,r]=ee.useState([]),[o,a]=ee.useState(""),[u,d]=ee.useState(""),[f,m]=ee.useState(!0),[v,w]=ee.useState(!1);ee.useEffect(()=>(v?(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.overflow="",document.documentElement.style.overflow=""),()=>{document.body.style.overflow="",document.documentElement.style.overflow=""}),[v]);const T=async()=>{try{const L=(await MR(iT(Mc,"projects"))).docs.map(q=>({id:q.id,...q.data()}));r(L);const O=await F_(sa(Mc,"portfolioAssets","licenses"));O.exists()&&a(O.data().pdfUrl);const W=await F_(sa(Mc,"portfolioAssets","internships"));W.exists()&&d(W.data().pdfUrl)}catch(b){console.error("Error fetching data: ",b)}finally{m(!1)}};if(ee.useEffect(()=>{T();const b=()=>{const L=window.location.hash.replace("#","");e(L==="admin"?"admin":"home")};return window.addEventListener("hashchange",b,!1),b(),()=>window.removeEventListener("hashchange",b)},[]),f)return P.jsx(xM,{});const C=()=>n==="admin"?P.jsx($M,{db:Mc,projects:t,fetchProjects:T,auth:WM}):P.jsxs(P.Fragment,{children:[P.jsx(RM,{isMobileMenuOpen:v,closeMobileMenu:()=>w(!1),toggleMobileMenu:()=>w(!v)}),P.jsxs("main",{className:"relative z-10",children:[P.jsx(kM,{}),P.jsxs("div",{className:"container mx-auto px-6",children:[P.jsx(NM,{}),P.jsx(Ps,{}),P.jsx(DM,{}),P.jsx(Ps,{}),P.jsx(VM,{}),P.jsx(Ps,{}),P.jsx(bM,{}),P.jsx(Ps,{}),P.jsx(MM,{}),P.jsx(Ps,{}),P.jsx(LM,{}),P.jsx(Ps,{}),P.jsx(OM,{projects:t}),P.jsx(Ps,{}),P.jsx(FM,{licensesPdfUrl:o,internshipsPdfUrl:u})]})]}),P.jsx(jM,{})]});return P.jsx(uN,{features:IM,children:P.jsxs("div",{className:"bg-[#fcfaf7] text-gray-800 font-sans overflow-x-hidden overflow-y-auto min-h-screen",children:[P.jsx(CM,{}),C()]})})}UI.createRoot(document.getElementById("root")).render(P.jsx(VI.StrictMode,{children:P.jsx(qM,{})}));
