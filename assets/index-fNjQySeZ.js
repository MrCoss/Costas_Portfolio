(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Gw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pp={exports:{}},jl={},mp={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function WI(){if(N_)return Ce;N_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function C(U,Q,le){this.props=U,this.context=Q,this.refs=N,this.updater=le||S}C.prototype.isReactComponent={},C.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=C.prototype;function W(U,Q,le){this.props=U,this.context=Q,this.refs=N,this.updater=le||S}var q=W.prototype=new F;q.constructor=W,R(q,C.prototype),q.isPureReactComponent=!0;var X=Array.isArray,J=Object.prototype.hasOwnProperty,oe={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(U,Q,le){var Ie,Pe={},Ve=null,je=null;if(Q!=null)for(Ie in Q.ref!==void 0&&(je=Q.ref),Q.key!==void 0&&(Ve=""+Q.key),Q)J.call(Q,Ie)&&!D.hasOwnProperty(Ie)&&(Pe[Ie]=Q[Ie]);var Ue=arguments.length-2;if(Ue===1)Pe.children=le;else if(1<Ue){for(var We=Array(Ue),bt=0;bt<Ue;bt++)We[bt]=arguments[bt+2];Pe.children=We}if(U&&U.defaultProps)for(Ie in Ue=U.defaultProps,Ue)Pe[Ie]===void 0&&(Pe[Ie]=Ue[Ie]);return{$$typeof:t,type:U,key:Ve,ref:je,props:Pe,_owner:oe.current}}function A(U,Q){return{$$typeof:t,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function O(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return Q[le]})}var B=/\/+/g;function b(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):Q.toString(36)}function Be(U,Q,le,Ie,Pe){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(Ve){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case t:case e:je=!0}}if(je)return je=U,Pe=Pe(je),U=Ie===""?"."+b(je,0):Ie,X(Pe)?(le="",U!=null&&(le=U.replace(B,"$&/")+"/"),Be(Pe,Q,le,"",function(bt){return bt})):Pe!=null&&(V(Pe)&&(Pe=A(Pe,le+(!Pe.key||je&&je.key===Pe.key?"":(""+Pe.key).replace(B,"$&/")+"/")+U)),Q.push(Pe)),1;if(je=0,Ie=Ie===""?".":Ie+":",X(U))for(var Ue=0;Ue<U.length;Ue++){Ve=U[Ue];var We=Ie+b(Ve,Ue);je+=Be(Ve,Q,le,We,Pe)}else if(We=E(U),typeof We=="function")for(U=We.call(U),Ue=0;!(Ve=U.next()).done;)Ve=Ve.value,We=Ie+b(Ve,Ue++),je+=Be(Ve,Q,le,We,Pe);else if(Ve==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return je}function pt(U,Q,le){if(U==null)return U;var Ie=[],Pe=0;return Be(U,Ie,"","",function(Ve){return Q.call(le,Ve,Pe++)}),Ie}function ct(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var xe={current:null},ie={transition:null},me={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:oe};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:pt,forEach:function(U,Q,le){pt(U,function(){Q.apply(this,arguments)},le)},count:function(U){var Q=0;return pt(U,function(){Q++}),Q},toArray:function(U){return pt(U,function(Q){return Q})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ce.Component=C,Ce.Fragment=n,Ce.Profiler=s,Ce.PureComponent=W,Ce.StrictMode=r,Ce.Suspense=f,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ce.act=te,Ce.cloneElement=function(U,Q,le){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ie=R({},U.props),Pe=U.key,Ve=U.ref,je=U._owner;if(Q!=null){if(Q.ref!==void 0&&(Ve=Q.ref,je=oe.current),Q.key!==void 0&&(Pe=""+Q.key),U.type&&U.type.defaultProps)var Ue=U.type.defaultProps;for(We in Q)J.call(Q,We)&&!D.hasOwnProperty(We)&&(Ie[We]=Q[We]===void 0&&Ue!==void 0?Ue[We]:Q[We])}var We=arguments.length-2;if(We===1)Ie.children=le;else if(1<We){Ue=Array(We);for(var bt=0;bt<We;bt++)Ue[bt]=arguments[bt+2];Ie.children=Ue}return{$$typeof:t,type:U.type,key:Pe,ref:Ve,props:Ie,_owner:je}},Ce.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ce.createElement=I,Ce.createFactory=function(U){var Q=I.bind(null,U);return Q.type=U,Q},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(U){return{$$typeof:h,render:U}},Ce.isValidElement=V,Ce.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:ct}},Ce.memo=function(U,Q){return{$$typeof:p,type:U,compare:Q===void 0?null:Q}},Ce.startTransition=function(U){var Q=ie.transition;ie.transition={};try{U()}finally{ie.transition=Q}},Ce.unstable_act=te,Ce.useCallback=function(U,Q){return xe.current.useCallback(U,Q)},Ce.useContext=function(U){return xe.current.useContext(U)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(U){return xe.current.useDeferredValue(U)},Ce.useEffect=function(U,Q){return xe.current.useEffect(U,Q)},Ce.useId=function(){return xe.current.useId()},Ce.useImperativeHandle=function(U,Q,le){return xe.current.useImperativeHandle(U,Q,le)},Ce.useInsertionEffect=function(U,Q){return xe.current.useInsertionEffect(U,Q)},Ce.useLayoutEffect=function(U,Q){return xe.current.useLayoutEffect(U,Q)},Ce.useMemo=function(U,Q){return xe.current.useMemo(U,Q)},Ce.useReducer=function(U,Q,le){return xe.current.useReducer(U,Q,le)},Ce.useRef=function(U){return xe.current.useRef(U)},Ce.useState=function(U){return xe.current.useState(U)},Ce.useSyncExternalStore=function(U,Q,le){return xe.current.useSyncExternalStore(U,Q,le)},Ce.useTransition=function(){return xe.current.useTransition()},Ce.version="18.3.1",Ce}var D_;function zm(){return D_||(D_=1,mp.exports=WI()),mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function qI(){if(V_)return jl;V_=1;var t=zm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var g,_={},E=null,S=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:h,key:E,ref:S,props:_,_owner:s.current}}return jl.Fragment=n,jl.jsx=l,jl.jsxs=l,jl}var L_;function KI(){return L_||(L_=1,pp.exports=qI()),pp.exports}var k=KI(),L=zm();const Ge=Gw(L);var oh={},gp={exports:{}},mn={},yp={exports:{}},vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function GI(){return M_||(M_=1,function(t){function e(ie,me){var te=ie.length;ie.push(me);e:for(;0<te;){var U=te-1>>>1,Q=ie[U];if(0<s(Q,me))ie[U]=me,ie[te]=Q,te=U;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var me=ie[0],te=ie.pop();if(te!==me){ie[0]=te;e:for(var U=0,Q=ie.length,le=Q>>>1;U<le;){var Ie=2*(U+1)-1,Pe=ie[Ie],Ve=Ie+1,je=ie[Ve];if(0>s(Pe,te))Ve<Q&&0>s(je,Pe)?(ie[U]=je,ie[Ve]=te,U=Ve):(ie[U]=Pe,ie[Ie]=te,U=Ie);else if(Ve<Q&&0>s(je,te))ie[U]=je,ie[Ve]=te,U=Ve;else break e}}return me}function s(ie,me){var te=ie.sortIndex-me.sortIndex;return te!==0?te:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],g=1,_=null,E=3,S=!1,R=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ie){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ie)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=n(p)}}function X(ie){if(N=!1,q(ie),!R)if(n(f)!==null)R=!0,ct(J);else{var me=n(p);me!==null&&xe(X,me.startTime-ie)}}function J(ie,me){R=!1,N&&(N=!1,F(I),I=-1),S=!0;var te=E;try{for(q(me),_=n(f);_!==null&&(!(_.expirationTime>me)||ie&&!O());){var U=_.callback;if(typeof U=="function"){_.callback=null,E=_.priorityLevel;var Q=U(_.expirationTime<=me);me=t.unstable_now(),typeof Q=="function"?_.callback=Q:_===n(f)&&r(f),q(me)}else r(f);_=n(f)}if(_!==null)var le=!0;else{var Ie=n(p);Ie!==null&&xe(X,Ie.startTime-me),le=!1}return le}finally{_=null,E=te,S=!1}}var oe=!1,D=null,I=-1,A=5,V=-1;function O(){return!(t.unstable_now()-V<A)}function B(){if(D!==null){var ie=t.unstable_now();V=ie;var me=!0;try{me=D(!0,ie)}finally{me?b():(oe=!1,D=null)}}else oe=!1}var b;if(typeof W=="function")b=function(){W(B)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,pt=Be.port2;Be.port1.onmessage=B,b=function(){pt.postMessage(null)}}else b=function(){C(B,0)};function ct(ie){D=ie,oe||(oe=!0,b())}function xe(ie,me){I=C(function(){ie(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){R||S||(R=!0,ct(J))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var te=E;E=me;try{return ie()}finally{E=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var te=E;E=ie;try{return me()}finally{E=te}},t.unstable_scheduleCallback=function(ie,me,te){var U=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?U+te:U):te=U,ie){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,ie={id:g++,callback:me,priorityLevel:ie,startTime:te,expirationTime:Q,sortIndex:-1},te>U?(ie.sortIndex=te,e(p,ie),n(f)===null&&ie===n(p)&&(N?(F(I),I=-1):N=!0,xe(X,te-U))):(ie.sortIndex=Q,e(f,ie),R||S||(R=!0,ct(J))),ie},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ie){var me=E;return function(){var te=E;E=me;try{return ie.apply(this,arguments)}finally{E=te}}}}(vp)),vp}var O_;function QI(){return O_||(O_=1,yp.exports=GI()),yp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function XI(){if(F_)return mn;F_=1;var t=zm(),e=QI();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return f.call(_,i)?!0:f.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function S(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,u,d){if(o===null||typeof o>"u"||S(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,u,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function W(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,W);C[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,W);C[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,W);C[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,o,u,d){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),oe=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var te=Object.assign,U;function Q(i){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var le=!1;function Ie(i,o){if(!i||le)return"";le=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,P=v.length-1;1<=T&&0<=P&&m[T]!==v[P];)P--;for(;1<=T&&0<=P;T--,P--)if(m[T]!==v[P]){if(T!==1||P!==1)do if(T--,P--,0>P||m[T]!==v[P]){var M=`
`+m[T].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=T&&0<=P);break}}}finally{le=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Q(i):""}function Pe(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=Ie(i.type,!1),i;case 11:return i=Ie(i.type.render,!1),i;case 1:return i=Ie(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case oe:return"Portal";case A:return"Profiler";case I:return"StrictMode";case b:return"Suspense";case Be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case pt:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case ct:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function bt(i){var o=We(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Fr(i){i._valueTracker||(i._valueTracker=bt(i))}function po(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function gs(i,o){var u=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function mo(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Wa(i,o){o=o.checked,o!=null&&q(i,"checked",o,!1)}function qa(i,o){Wa(i,o);var u=Ue(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?go(i,o.type,u):o.hasOwnProperty("defaultValue")&&go(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Wu(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function go(i,o,u){(o!=="number"||yi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var jr=Array.isArray;function Ur(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ka(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function yo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(jr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function vo(i,o){var u=Ue(o.value),d=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function Ga(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function xt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?xt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Br,Qa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Br.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function vi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vs=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(i){vs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ys[o]=ys[i]})});function Xa(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ys.hasOwnProperty(i)&&ys[i]?(""+o).trim():o+"px"}function Ya(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=Xa(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var Ja=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Za(i,o){if(o){if(Ja[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function el(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function _o(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wo=null,Pn=null,cr=null;function Eo(i){if(i=Sl(i)){if(typeof wo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Ec(o),wo(i.stateNode,i.type,o))}}function hr(i){Pn?cr?cr.push(i):cr=[i]:Pn=i}function tl(){if(Pn){var i=Pn,o=cr;if(cr=Pn=null,Eo(i),o)for(i=0;i<o.length;i++)Eo(o[i])}}function ws(i,o){return i(o)}function nl(){}var zr=!1;function rl(i,o,u){if(zr)return i(o,u);zr=!0;try{return ws(i,o,u)}finally{zr=!1,(Pn!==null||cr!==null)&&(nl(),tl())}}function mt(i,o){var u=i.stateNode;if(u===null)return null;var d=Ec(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var To=!1;if(h)try{var $n={};Object.defineProperty($n,"passive",{get:function(){To=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{To=!1}function Es(i,o,u,d,m,v,T,P,M){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(ne){this.onError(ne)}}var Ts=!1,xo=null,Hn=!1,il=null,Bd={onError:function(i){Ts=!0,xo=i}};function So(i,o,u,d,m,v,T,P,M){Ts=!1,xo=null,Es.apply(Bd,arguments)}function qu(i,o,u,d,m,v,T,P,M){if(So.apply(this,arguments),Ts){if(Ts){var K=xo;Ts=!1,xo=null}else throw Error(n(198));Hn||(Hn=!0,il=K)}}function Wn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function xs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function qn(i){if(Wn(i)!==i)throw Error(n(188))}function Ku(i){var o=i.alternate;if(!o){if(o=Wn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return qn(m),i;if(v===d)return qn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var T=!1,P=m.child;P;){if(P===u){T=!0,u=m,d=v;break}if(P===d){T=!0,d=m,u=v;break}P=P.sibling}if(!T){for(P=v.child;P;){if(P===u){T=!0,u=v,d=m;break}if(P===d){T=!0,d=v,u=m;break}P=P.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function sl(i){return i=Ku(i),i!==null?Io(i):null}function Io(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Io(i);if(o!==null)return o;i=i.sibling}return null}var ko=e.unstable_scheduleCallback,ol=e.unstable_cancelCallback,Gu=e.unstable_shouldYield,zd=e.unstable_requestPaint,qe=e.unstable_now,Qu=e.unstable_getCurrentPriorityLevel,Ss=e.unstable_ImmediatePriority,_i=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,al=e.unstable_LowPriority,Xu=e.unstable_IdlePriority,Is=null,vn=null;function Yu(i){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Is,i,void 0,(i.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Zu,ll=Math.log,Ju=Math.LN2;function Zu(i){return i>>>=0,i===0?32:31-(ll(i)/Ju|0)|0}var Ao=64,Po=4194304;function wi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ks(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,T=u&268435455;if(T!==0){var P=T&~m;P!==0?d=wi(P):(v&=T,v!==0&&(d=wi(v)))}else T=u&~m,T!==0?d=wi(T):v!==0&&(d=wi(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-nn(o),m=1<<u,d|=i[u],o&=~m;return d}function $d(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-nn(v),P=1<<T,M=m[T];M===-1?((P&u)===0||(P&d)!==0)&&(m[T]=$d(P,o)):M<=o&&(i.expiredLanes|=P),v&=~P}}function _n(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function As(){var i=Ao;return Ao<<=1,(Ao&4194240)===0&&(Ao=64),i}function Ei(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ti(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-nn(o),i[o]=u}function He(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-nn(u),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~v}}function xi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-nn(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var De=0;function Si(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ec,Co,tc,nc,rc,ul=!1,dr=[],Ft=null,Kn=null,Gn=null,Ii=new Map,Rn=new Map,fr=[],Hd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(i,o){switch(i){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Ii.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(o.pointerId)}}function ln(i,o,u,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Sl(o),o!==null&&Co(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Wd(i,o,u,d,m){switch(o){case"focusin":return Ft=ln(Ft,i,o,u,d,m),!0;case"dragenter":return Kn=ln(Kn,i,o,u,d,m),!0;case"mouseover":return Gn=ln(Gn,i,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return Ii.set(v,ln(Ii.get(v)||null,i,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Rn.set(v,ln(Rn.get(v)||null,i,o,u,d,m)),!0}return!1}function sc(i){var o=Ns(i.target);if(o!==null){var u=Wn(o);if(u!==null){if(o=u.tag,o===13){if(o=xs(u),o!==null){i.blockedOn=o,rc(i.priority,function(){tc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ro(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);_s=d,u.target.dispatchEvent(d),_s=null}else return o=Sl(u),o!==null&&Co(o),i.blockedOn=u,!1;o.shift()}return!0}function Ps(i,o,u){Hr(i)&&u.delete(o)}function oc(){ul=!1,Ft!==null&&Hr(Ft)&&(Ft=null),Kn!==null&&Hr(Kn)&&(Kn=null),Gn!==null&&Hr(Gn)&&(Gn=null),Ii.forEach(Ps),Rn.forEach(Ps)}function Qn(i,o){i.blockedOn===o&&(i.blockedOn=null,ul||(ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oc)))}function Xn(i){function o(m){return Qn(m,i)}if(0<dr.length){Qn(dr[0],i);for(var u=1;u<dr.length;u++){var d=dr[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Ft!==null&&Qn(Ft,i),Kn!==null&&Qn(Kn,i),Gn!==null&&Qn(Gn,i),Ii.forEach(o),Rn.forEach(o),u=0;u<fr.length;u++)d=fr[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<fr.length&&(u=fr[0],u.blockedOn===null);)sc(u),u.blockedOn===null&&fr.shift()}var Wr=X.ReactCurrentBatchConfig,ki=!0;function tt(i,o,u,d){var m=De,v=Wr.transition;Wr.transition=null;try{De=1,cl(i,o,u,d)}finally{De=m,Wr.transition=v}}function qd(i,o,u,d){var m=De,v=Wr.transition;Wr.transition=null;try{De=4,cl(i,o,u,d)}finally{De=m,Wr.transition=v}}function cl(i,o,u,d){if(ki){var m=Ro(i,o,u,d);if(m===null)rf(i,o,d,Cs,u),ic(i,d);else if(Wd(m,i,o,u,d))d.stopPropagation();else if(ic(i,d),o&4&&-1<Hd.indexOf(i)){for(;m!==null;){var v=Sl(m);if(v!==null&&ec(v),v=Ro(i,o,u,d),v===null&&rf(i,o,d,Cs,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else rf(i,o,d,null,u)}}var Cs=null;function Ro(i,o,u,d){if(Cs=null,i=_o(d),i=Ns(i),i!==null)if(o=Wn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=xs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Cs=i,null}function hl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qu()){case Ss:return 1;case _i:return 4;case Cn:case al:return 16;case Xu:return 536870912;default:return 16}default:return 16}}var wn=null,bo=null,un=null;function dl(){if(un)return un;var i,o=bo,u=o.length,d,m="value"in wn?wn.value:wn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var T=u-i;for(d=1;d<=T&&o[u-d]===m[v-d];d++);return un=m.slice(i,1<d?1-d:void 0)}function No(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pr(){return!0}function fl(){return!1}function jt(i){function o(u,d,m,v,T){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?pr:fl,this.isPropagationStopped=fl,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),o}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=jt(Yn),mr=te({},Yn,{view:0,detail:0}),Kd=jt(mr),Vo,qr,Ai,Rs=te({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ai&&(Ai&&i.type==="mousemove"?(Vo=i.screenX-Ai.screenX,qr=i.screenY-Ai.screenY):qr=Vo=0,Ai=i),Vo)},movementY:function(i){return"movementY"in i?i.movementY:qr}}),Lo=jt(Rs),pl=te({},Rs,{dataTransfer:0}),ac=jt(pl),Mo=te({},mr,{relatedTarget:0}),Oo=jt(Mo),lc=te({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=jt(lc),uc=te({},Yn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cc=jt(uc),hc=te({},Yn,{data:0}),ml=jt(hc),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=dc[i])?!!o[i]:!1}function gr(){return fc}var c=te({},mr,{key:function(i){if(i.key){var o=Fo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=No(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?No(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?No(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=jt(c),w=te({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=jt(w),z=te({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),G=jt(z),ae=te({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=jt(ae),It=te({},Rs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=jt(It),Nt=[9,13,27,32],_t=h&&"CompositionEvent"in window,bn=null;h&&"documentMode"in document&&(bn=document.documentMode);var En=h&&"TextEvent"in window&&!bn,bs=h&&(!_t||bn&&8<bn&&11>=bn),jo=" ",ky=!1;function Ay(i,o){switch(i){case"keyup":return Nt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Py(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Uo=!1;function zS(i,o){switch(i){case"compositionend":return Py(o);case"keypress":return o.which!==32?null:(ky=!0,jo);case"textInput":return i=o.data,i===jo&&ky?null:i;default:return null}}function $S(i,o){if(Uo)return i==="compositionend"||!_t&&Ay(i,o)?(i=dl(),un=bo=wn=null,Uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return bs&&o.locale!=="ko"?null:o.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!HS[i.type]:o==="textarea"}function Ry(i,o,u,d){hr(d),o=vc(o,"onChange"),0<o.length&&(u=new Do("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var gl=null,yl=null;function WS(i){Gy(i,0)}function pc(i){var o=Wo(i);if(po(o))return i}function qS(i,o){if(i==="change")return o}var by=!1;if(h){var Gd;if(h){var Qd="oninput"in document;if(!Qd){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),Qd=typeof Ny.oninput=="function"}Gd=Qd}else Gd=!1;by=Gd&&(!document.documentMode||9<document.documentMode)}function Dy(){gl&&(gl.detachEvent("onpropertychange",Vy),yl=gl=null)}function Vy(i){if(i.propertyName==="value"&&pc(yl)){var o=[];Ry(o,yl,i,_o(i)),rl(WS,o)}}function KS(i,o,u){i==="focusin"?(Dy(),gl=o,yl=u,gl.attachEvent("onpropertychange",Vy)):i==="focusout"&&Dy()}function GS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(yl)}function QS(i,o){if(i==="click")return pc(o)}function XS(i,o){if(i==="input"||i==="change")return pc(o)}function YS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jn=typeof Object.is=="function"?Object.is:YS;function vl(i,o){if(Jn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!Jn(i[m],o[m]))return!1}return!0}function Ly(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function My(i,o){var u=Ly(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ly(u)}}function Oy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Oy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Fy(){for(var i=window,o=yi();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=yi(i.document)}return o}function Xd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function JS(i){var o=Fy(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Oy(u.ownerDocument.documentElement,u)){if(d!==null&&Xd(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=My(u,v);var T=My(u,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ZS=h&&"documentMode"in document&&11>=document.documentMode,Bo=null,Yd=null,_l=null,Jd=!1;function jy(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Jd||Bo==null||Bo!==yi(d)||(d=Bo,"selectionStart"in d&&Xd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),_l&&vl(_l,d)||(_l=d,d=vc(Yd,"onSelect"),0<d.length&&(o=new Do("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=Bo)))}function mc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var zo={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Zd={},Uy={};h&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function gc(i){if(Zd[i])return Zd[i];if(!zo[i])return i;var o=zo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Uy)return Zd[i]=o[u];return i}var By=gc("animationend"),zy=gc("animationiteration"),$y=gc("animationstart"),Hy=gc("transitionend"),Wy=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(i,o){Wy.set(i,o),a(o,[i])}for(var ef=0;ef<qy.length;ef++){var tf=qy[ef],eI=tf.toLowerCase(),tI=tf[0].toUpperCase()+tf.slice(1);Pi(eI,"on"+tI)}Pi(By,"onAnimationEnd"),Pi(zy,"onAnimationIteration"),Pi($y,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Hy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nI=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Ky(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,qu(d,o,void 0,i),i.currentTarget=null}function Gy(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var P=d[T],M=P.instance,K=P.currentTarget;if(P=P.listener,M!==v&&m.isPropagationStopped())break e;Ky(m,P,K),v=M}else for(T=0;T<d.length;T++){if(P=d[T],M=P.instance,K=P.currentTarget,P=P.listener,M!==v&&m.isPropagationStopped())break e;Ky(m,P,K),v=M}}}if(Hn)throw i=il,Hn=!1,il=null,i}function Qe(i,o){var u=o[cf];u===void 0&&(u=o[cf]=new Set);var d=i+"__bubble";u.has(d)||(Qy(o,i,2,!1),u.add(d))}function nf(i,o,u){var d=0;o&&(d|=4),Qy(u,i,d,o)}var yc="_reactListening"+Math.random().toString(36).slice(2);function El(i){if(!i[yc]){i[yc]=!0,r.forEach(function(u){u!=="selectionchange"&&(nI.has(u)||nf(u,!1,i),nf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[yc]||(o[yc]=!0,nf("selectionchange",!1,o))}}function Qy(i,o,u,d){switch(hl(o)){case 1:var m=tt;break;case 4:m=qd;break;default:m=cl}u=m.bind(null,o,u,i),m=void 0,!To||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function rf(i,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var P=d.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;P!==null;){if(T=Ns(P),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}P=P.parentNode}}d=d.return}rl(function(){var K=v,ne=_o(u),re=[];e:{var ee=Wy.get(i);if(ee!==void 0){var ue=Do,de=i;switch(i){case"keypress":if(No(u)===0)break e;case"keydown":case"keyup":ue=y;break;case"focusin":de="focus",ue=Oo;break;case"focusout":de="blur",ue=Oo;break;case"beforeblur":case"afterblur":ue=Oo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case By:case zy:case $y:ue=Kr;break;case Hy:ue=$e;break;case"scroll":ue=Kd;break;case"wheel":ue=Le;break;case"copy":case"cut":case"paste":ue=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=x}var fe=(o&4)!==0,gt=!fe&&i==="scroll",$=fe?ee!==null?ee+"Capture":null:ee;fe=[];for(var j=K,H;j!==null;){H=j;var se=H.stateNode;if(H.tag===5&&se!==null&&(H=se,$!==null&&(se=mt(j,$),se!=null&&fe.push(Tl(j,se,H)))),gt)break;j=j.return}0<fe.length&&(ee=new ue(ee,de,null,u,ne),re.push({event:ee,listeners:fe}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ee&&u!==_s&&(de=u.relatedTarget||u.fromElement)&&(Ns(de)||de[Gr]))break e;if((ue||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=K,de=de?Ns(de):null,de!==null&&(gt=Wn(de),de!==gt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=K),ue!==de)){if(fe=Lo,se="onMouseLeave",$="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(fe=x,se="onPointerLeave",$="onPointerEnter",j="pointer"),gt=ue==null?ee:Wo(ue),H=de==null?ee:Wo(de),ee=new fe(se,j+"leave",ue,u,ne),ee.target=gt,ee.relatedTarget=H,se=null,Ns(ne)===K&&(fe=new fe($,j+"enter",de,u,ne),fe.target=H,fe.relatedTarget=gt,se=fe),gt=se,ue&&de)t:{for(fe=ue,$=de,j=0,H=fe;H;H=$o(H))j++;for(H=0,se=$;se;se=$o(se))H++;for(;0<j-H;)fe=$o(fe),j--;for(;0<H-j;)$=$o($),H--;for(;j--;){if(fe===$||$!==null&&fe===$.alternate)break t;fe=$o(fe),$=$o($)}fe=null}else fe=null;ue!==null&&Xy(re,ee,ue,fe,!1),de!==null&&gt!==null&&Xy(re,gt,de,fe,!0)}}e:{if(ee=K?Wo(K):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var ge=qS;else if(Cy(ee))if(by)ge=XS;else{ge=GS;var ve=KS}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=QS);if(ge&&(ge=ge(i,K))){Ry(re,ge,u,ne);break e}ve&&ve(i,ee,K),i==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&go(ee,"number",ee.value)}switch(ve=K?Wo(K):window,i){case"focusin":(Cy(ve)||ve.contentEditable==="true")&&(Bo=ve,Yd=K,_l=null);break;case"focusout":_l=Yd=Bo=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,jy(re,u,ne);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":jy(re,u,ne)}var _e;if(_t)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Uo?Ay(i,u)&&(Se="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Se="onCompositionStart");Se&&(bs&&u.locale!=="ko"&&(Uo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Uo&&(_e=dl()):(wn=ne,bo="value"in wn?wn.value:wn.textContent,Uo=!0)),ve=vc(K,Se),0<ve.length&&(Se=new ml(Se,i,null,u,ne),re.push({event:Se,listeners:ve}),_e?Se.data=_e:(_e=Py(u),_e!==null&&(Se.data=_e)))),(_e=En?zS(i,u):$S(i,u))&&(K=vc(K,"onBeforeInput"),0<K.length&&(ne=new ml("onBeforeInput","beforeinput",null,u,ne),re.push({event:ne,listeners:K}),ne.data=_e))}Gy(re,o)})}function Tl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function vc(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=mt(i,u),v!=null&&d.unshift(Tl(i,v,m)),v=mt(i,o),v!=null&&d.push(Tl(i,v,m))),i=i.return}return d}function $o(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Xy(i,o,u,d,m){for(var v=o._reactName,T=[];u!==null&&u!==d;){var P=u,M=P.alternate,K=P.stateNode;if(M!==null&&M===d)break;P.tag===5&&K!==null&&(P=K,m?(M=mt(u,v),M!=null&&T.unshift(Tl(u,M,P))):m||(M=mt(u,v),M!=null&&T.push(Tl(u,M,P)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var rI=/\r\n?/g,iI=/\u0000|\uFFFD/g;function Yy(i){return(typeof i=="string"?i:""+i).replace(rI,`
`).replace(iI,"")}function _c(i,o,u){if(o=Yy(o),Yy(i)!==o&&u)throw Error(n(425))}function wc(){}var sf=null,of=null;function af(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,sI=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,oI=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(i){return Jy.resolve(null).then(i).catch(aI)}:lf;function aI(i){setTimeout(function(){throw i})}function uf(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),Xn(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Xn(o)}function Ci(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Zy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),yr="__reactFiber$"+Ho,xl="__reactProps$"+Ho,Gr="__reactContainer$"+Ho,cf="__reactEvents$"+Ho,lI="__reactListeners$"+Ho,uI="__reactHandles$"+Ho;function Ns(i){var o=i[yr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Gr]||u[yr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Zy(i);i!==null;){if(u=i[yr])return u;i=Zy(i)}return o}i=u,u=i.parentNode}return null}function Sl(i){return i=i[yr]||i[Gr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ec(i){return i[xl]||null}var hf=[],qo=-1;function Ri(i){return{current:i}}function Xe(i){0>qo||(i.current=hf[qo],hf[qo]=null,qo--)}function Ke(i,o){qo++,hf[qo]=i.current,i.current=o}var bi={},qt=Ri(bi),cn=Ri(!1),Ds=bi;function Ko(i,o){var u=i.type.contextTypes;if(!u)return bi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function hn(i){return i=i.childContextTypes,i!=null}function Tc(){Xe(cn),Xe(qt)}function ev(i,o,u){if(qt.current!==bi)throw Error(n(168));Ke(qt,o),Ke(cn,u)}function tv(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,je(i)||"Unknown",m));return te({},u,d)}function xc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||bi,Ds=qt.current,Ke(qt,i),Ke(cn,cn.current),!0}function nv(i,o,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=tv(i,o,Ds),d.__reactInternalMemoizedMergedChildContext=i,Xe(cn),Xe(qt),Ke(qt,i)):Xe(cn),Ke(cn,u)}var Qr=null,Sc=!1,df=!1;function rv(i){Qr===null?Qr=[i]:Qr.push(i)}function cI(i){Sc=!0,rv(i)}function Ni(){if(!df&&Qr!==null){df=!0;var i=0,o=De;try{var u=Qr;for(De=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}Qr=null,Sc=!1}catch(m){throw Qr!==null&&(Qr=Qr.slice(i+1)),ko(Ss,Ni),m}finally{De=o,df=!1}}return null}var Go=[],Qo=0,Ic=null,kc=0,Nn=[],Dn=0,Vs=null,Xr=1,Yr="";function Ls(i,o){Go[Qo++]=kc,Go[Qo++]=Ic,Ic=i,kc=o}function iv(i,o,u){Nn[Dn++]=Xr,Nn[Dn++]=Yr,Nn[Dn++]=Vs,Vs=i;var d=Xr;i=Yr;var m=32-nn(d)-1;d&=~(1<<m),u+=1;var v=32-nn(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Xr=1<<32-nn(o)+m|u<<m|d,Yr=v+i}else Xr=1<<v|u<<m|d,Yr=i}function ff(i){i.return!==null&&(Ls(i,1),iv(i,1,0))}function pf(i){for(;i===Ic;)Ic=Go[--Qo],Go[Qo]=null,kc=Go[--Qo],Go[Qo]=null;for(;i===Vs;)Vs=Nn[--Dn],Nn[Dn]=null,Yr=Nn[--Dn],Nn[Dn]=null,Xr=Nn[--Dn],Nn[Dn]=null}var Tn=null,xn=null,nt=!1,Zn=null;function sv(i,o){var u=On(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function ov(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Tn=i,xn=Ci(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Tn=i,xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Vs!==null?{id:Xr,overflow:Yr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=On(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Tn=i,xn=null,!0):!1;default:return!1}}function mf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gf(i){if(nt){var o=xn;if(o){var u=o;if(!ov(i,o)){if(mf(i))throw Error(n(418));o=Ci(u.nextSibling);var d=Tn;o&&ov(i,o)?sv(d,u):(i.flags=i.flags&-4097|2,nt=!1,Tn=i)}}else{if(mf(i))throw Error(n(418));i.flags=i.flags&-4097|2,nt=!1,Tn=i}}}function av(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tn=i}function Ac(i){if(i!==Tn)return!1;if(!nt)return av(i),nt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!af(i.type,i.memoizedProps)),o&&(o=xn)){if(mf(i))throw lv(),Error(n(418));for(;o;)sv(i,o),o=Ci(o.nextSibling)}if(av(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){xn=Ci(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}xn=null}}else xn=Tn?Ci(i.stateNode.nextSibling):null;return!0}function lv(){for(var i=xn;i;)i=Ci(i.nextSibling)}function Xo(){xn=Tn=null,nt=!1}function yf(i){Zn===null?Zn=[i]:Zn.push(i)}var hI=X.ReactCurrentBatchConfig;function Il(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var P=m.refs;T===null?delete P[v]:P[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Pc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function uv(i){var o=i._init;return o(i._payload)}function cv(i){function o($,j){if(i){var H=$.deletions;H===null?($.deletions=[j],$.flags|=16):H.push(j)}}function u($,j){if(!i)return null;for(;j!==null;)o($,j),j=j.sibling;return null}function d($,j){for($=new Map;j!==null;)j.key!==null?$.set(j.key,j):$.set(j.index,j),j=j.sibling;return $}function m($,j){return $=Ui($,j),$.index=0,$.sibling=null,$}function v($,j,H){return $.index=H,i?(H=$.alternate,H!==null?(H=H.index,H<j?($.flags|=2,j):H):($.flags|=2,j)):($.flags|=1048576,j)}function T($){return i&&$.alternate===null&&($.flags|=2),$}function P($,j,H,se){return j===null||j.tag!==6?(j=lp(H,$.mode,se),j.return=$,j):(j=m(j,H),j.return=$,j)}function M($,j,H,se){var ge=H.type;return ge===D?ne($,j,H.props.children,se,H.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ct&&uv(ge)===j.type)?(se=m(j,H.props),se.ref=Il($,j,H),se.return=$,se):(se=Jc(H.type,H.key,H.props,null,$.mode,se),se.ref=Il($,j,H),se.return=$,se)}function K($,j,H,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=up(H,$.mode,se),j.return=$,j):(j=m(j,H.children||[]),j.return=$,j)}function ne($,j,H,se,ge){return j===null||j.tag!==7?(j=$s(H,$.mode,se,ge),j.return=$,j):(j=m(j,H),j.return=$,j)}function re($,j,H){if(typeof j=="string"&&j!==""||typeof j=="number")return j=lp(""+j,$.mode,H),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case J:return H=Jc(j.type,j.key,j.props,null,$.mode,H),H.ref=Il($,null,j),H.return=$,H;case oe:return j=up(j,$.mode,H),j.return=$,j;case ct:var se=j._init;return re($,se(j._payload),H)}if(jr(j)||me(j))return j=$s(j,$.mode,H,null),j.return=$,j;Pc($,j)}return null}function ee($,j,H,se){var ge=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ge!==null?null:P($,j,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case J:return H.key===ge?M($,j,H,se):null;case oe:return H.key===ge?K($,j,H,se):null;case ct:return ge=H._init,ee($,j,ge(H._payload),se)}if(jr(H)||me(H))return ge!==null?null:ne($,j,H,se,null);Pc($,H)}return null}function ue($,j,H,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(H)||null,P(j,$,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case J:return $=$.get(se.key===null?H:se.key)||null,M(j,$,se,ge);case oe:return $=$.get(se.key===null?H:se.key)||null,K(j,$,se,ge);case ct:var ve=se._init;return ue($,j,H,ve(se._payload),ge)}if(jr(se)||me(se))return $=$.get(H)||null,ne(j,$,se,ge,null);Pc(j,se)}return null}function de($,j,H,se){for(var ge=null,ve=null,_e=j,Se=j=0,Lt=null;_e!==null&&Se<H.length;Se++){_e.index>Se?(Lt=_e,_e=null):Lt=_e.sibling;var Fe=ee($,_e,H[Se],se);if(Fe===null){_e===null&&(_e=Lt);break}i&&_e&&Fe.alternate===null&&o($,_e),j=v(Fe,j,Se),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe,_e=Lt}if(Se===H.length)return u($,_e),nt&&Ls($,Se),ge;if(_e===null){for(;Se<H.length;Se++)_e=re($,H[Se],se),_e!==null&&(j=v(_e,j,Se),ve===null?ge=_e:ve.sibling=_e,ve=_e);return nt&&Ls($,Se),ge}for(_e=d($,_e);Se<H.length;Se++)Lt=ue(_e,$,Se,H[Se],se),Lt!==null&&(i&&Lt.alternate!==null&&_e.delete(Lt.key===null?Se:Lt.key),j=v(Lt,j,Se),ve===null?ge=Lt:ve.sibling=Lt,ve=Lt);return i&&_e.forEach(function(Bi){return o($,Bi)}),nt&&Ls($,Se),ge}function fe($,j,H,se){var ge=me(H);if(typeof ge!="function")throw Error(n(150));if(H=ge.call(H),H==null)throw Error(n(151));for(var ve=ge=null,_e=j,Se=j=0,Lt=null,Fe=H.next();_e!==null&&!Fe.done;Se++,Fe=H.next()){_e.index>Se?(Lt=_e,_e=null):Lt=_e.sibling;var Bi=ee($,_e,Fe.value,se);if(Bi===null){_e===null&&(_e=Lt);break}i&&_e&&Bi.alternate===null&&o($,_e),j=v(Bi,j,Se),ve===null?ge=Bi:ve.sibling=Bi,ve=Bi,_e=Lt}if(Fe.done)return u($,_e),nt&&Ls($,Se),ge;if(_e===null){for(;!Fe.done;Se++,Fe=H.next())Fe=re($,Fe.value,se),Fe!==null&&(j=v(Fe,j,Se),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return nt&&Ls($,Se),ge}for(_e=d($,_e);!Fe.done;Se++,Fe=H.next())Fe=ue(_e,$,Se,Fe.value,se),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Se:Fe.key),j=v(Fe,j,Se),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(HI){return o($,HI)}),nt&&Ls($,Se),ge}function gt($,j,H,se){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case J:e:{for(var ge=H.key,ve=j;ve!==null;){if(ve.key===ge){if(ge=H.type,ge===D){if(ve.tag===7){u($,ve.sibling),j=m(ve,H.props.children),j.return=$,$=j;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ct&&uv(ge)===ve.type){u($,ve.sibling),j=m(ve,H.props),j.ref=Il($,ve,H),j.return=$,$=j;break e}u($,ve);break}else o($,ve);ve=ve.sibling}H.type===D?(j=$s(H.props.children,$.mode,se,H.key),j.return=$,$=j):(se=Jc(H.type,H.key,H.props,null,$.mode,se),se.ref=Il($,j,H),se.return=$,$=se)}return T($);case oe:e:{for(ve=H.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){u($,j.sibling),j=m(j,H.children||[]),j.return=$,$=j;break e}else{u($,j);break}else o($,j);j=j.sibling}j=up(H,$.mode,se),j.return=$,$=j}return T($);case ct:return ve=H._init,gt($,j,ve(H._payload),se)}if(jr(H))return de($,j,H,se);if(me(H))return fe($,j,H,se);Pc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,j!==null&&j.tag===6?(u($,j.sibling),j=m(j,H),j.return=$,$=j):(u($,j),j=lp(H,$.mode,se),j.return=$,$=j),T($)):u($,j)}return gt}var Yo=cv(!0),hv=cv(!1),Cc=Ri(null),Rc=null,Jo=null,vf=null;function _f(){vf=Jo=Rc=null}function wf(i){var o=Cc.current;Xe(Cc),i._currentValue=o}function Ef(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function Zo(i,o){Rc=i,vf=Jo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(dn=!0),i.firstContext=null)}function Vn(i){var o=i._currentValue;if(vf!==i)if(i={context:i,memoizedValue:o,next:null},Jo===null){if(Rc===null)throw Error(n(308));Jo=i,Rc.dependencies={lanes:0,firstContext:i}}else Jo=Jo.next=i;return o}var Ms=null;function Tf(i){Ms===null?Ms=[i]:Ms.push(i)}function dv(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Tf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Jr(i,d)}function Jr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Di=!1;function xf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Zr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Vi(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Jr(i,u)}return m=d.interleaved,m===null?(o.next=o,Tf(d)):(o.next=m.next,m.next=o),d.interleaved=o,Jr(i,u)}function bc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,xi(i,u)}}function pv(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Nc(i,o,u,d){var m=i.updateQueue;Di=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var M=P,K=M.next;M.next=null,T===null?v=K:T.next=K,T=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==T&&(P===null?ne.firstBaseUpdate=K:P.next=K,ne.lastBaseUpdate=M))}if(v!==null){var re=m.baseState;T=0,ne=K=M=null,P=v;do{var ee=P.lane,ue=P.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=i,fe=P;switch(ee=o,ue=u,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){re=de.call(ue,re,ee);break e}re=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,ee=typeof de=="function"?de.call(ue,re,ee):de,ee==null)break e;re=te({},re,ee);break e;case 2:Di=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[P]:ee.push(P))}else ue={eventTime:ue,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(K=ne=ue,M=re):ne=ne.next=ue,T|=ee;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(ne===null&&(M=re),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);js|=T,i.lanes=T,i.memoizedState=re}}function mv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var kl={},vr=Ri(kl),Al=Ri(kl),Pl=Ri(kl);function Os(i){if(i===kl)throw Error(n(174));return i}function Sf(i,o){switch(Ke(Pl,o),Ke(Al,i),Ke(vr,kl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:St(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=St(o,i)}Xe(vr),Ke(vr,o)}function ea(){Xe(vr),Xe(Al),Xe(Pl)}function gv(i){Os(Pl.current);var o=Os(vr.current),u=St(o,i.type);o!==u&&(Ke(Al,i),Ke(vr,u))}function If(i){Al.current===i&&(Xe(vr),Xe(Al))}var it=Ri(0);function Dc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var kf=[];function Af(){for(var i=0;i<kf.length;i++)kf[i]._workInProgressVersionPrimary=null;kf.length=0}var Vc=X.ReactCurrentDispatcher,Pf=X.ReactCurrentBatchConfig,Fs=0,st=null,kt=null,Dt=null,Lc=!1,Cl=!1,Rl=0,dI=0;function Kt(){throw Error(n(321))}function Cf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Jn(i[u],o[u]))return!1;return!0}function Rf(i,o,u,d,m,v){if(Fs=v,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Vc.current=i===null||i.memoizedState===null?gI:yI,i=u(d,m),Cl){v=0;do{if(Cl=!1,Rl=0,25<=v)throw Error(n(301));v+=1,Dt=kt=null,o.updateQueue=null,Vc.current=vI,i=u(d,m)}while(Cl)}if(Vc.current=Fc,o=kt!==null&&kt.next!==null,Fs=0,Dt=kt=st=null,Lc=!1,o)throw Error(n(300));return i}function bf(){var i=Rl!==0;return Rl=0,i}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?st.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Ln(){if(kt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var o=Dt===null?st.memoizedState:Dt.next;if(o!==null)Dt=o,kt=i;else{if(i===null)throw Error(n(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Dt===null?st.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function bl(i,o){return typeof o=="function"?o(i):o}function Nf(i){var o=Ln(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=kt,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var P=T=null,M=null,K=v;do{var ne=K.lane;if((Fs&ne)===ne)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var re={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(P=M=re,T=d):M=M.next=re,st.lanes|=ne,js|=ne}K=K.next}while(K!==null&&K!==v);M===null?T=d:M.next=P,Jn(d,o.memoizedState)||(dn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=M,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do v=m.lane,st.lanes|=v,js|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Df(i){var o=Ln(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);Jn(v,o.memoizedState)||(dn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function yv(){}function vv(i,o){var u=st,d=Ln(),m=o(),v=!Jn(d.memoizedState,m);if(v&&(d.memoizedState=m,dn=!0),d=d.queue,Vf(Ev.bind(null,u,d,i),[i]),d.getSnapshot!==o||v||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,Nl(9,wv.bind(null,u,d,m,o),void 0,null),Vt===null)throw Error(n(349));(Fs&30)!==0||_v(u,o,m)}return m}function _v(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function wv(i,o,u,d){o.value=u,o.getSnapshot=d,Tv(o)&&xv(i)}function Ev(i,o,u){return u(function(){Tv(o)&&xv(i)})}function Tv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Jn(i,u)}catch{return!0}}function xv(i){var o=Jr(i,1);o!==null&&rr(o,i,1,-1)}function Sv(i){var o=_r();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:i},o.queue=i,i=i.dispatch=mI.bind(null,st,i),[o.memoizedState,i]}function Nl(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function Iv(){return Ln().memoizedState}function Mc(i,o,u,d){var m=_r();st.flags|=i,m.memoizedState=Nl(1|o,u,void 0,d===void 0?null:d)}function Oc(i,o,u,d){var m=Ln();d=d===void 0?null:d;var v=void 0;if(kt!==null){var T=kt.memoizedState;if(v=T.destroy,d!==null&&Cf(d,T.deps)){m.memoizedState=Nl(o,u,v,d);return}}st.flags|=i,m.memoizedState=Nl(1|o,u,v,d)}function kv(i,o){return Mc(8390656,8,i,o)}function Vf(i,o){return Oc(2048,8,i,o)}function Av(i,o){return Oc(4,2,i,o)}function Pv(i,o){return Oc(4,4,i,o)}function Cv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Rv(i,o,u){return u=u!=null?u.concat([i]):null,Oc(4,4,Cv.bind(null,o,i),u)}function Lf(){}function bv(i,o){var u=Ln();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Cf(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function Nv(i,o){var u=Ln();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Cf(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function Dv(i,o,u){return(Fs&21)===0?(i.baseState&&(i.baseState=!1,dn=!0),i.memoizedState=u):(Jn(u,o)||(u=As(),st.lanes|=u,js|=u,i.baseState=!0),o)}function fI(i,o){var u=De;De=u!==0&&4>u?u:4,i(!0);var d=Pf.transition;Pf.transition={};try{i(!1),o()}finally{De=u,Pf.transition=d}}function Vv(){return Ln().memoizedState}function pI(i,o,u){var d=Fi(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Lv(i))Mv(o,u);else if(u=dv(i,o,u,d),u!==null){var m=on();rr(u,i,d,m),Ov(u,o,d)}}function mI(i,o,u){var d=Fi(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lv(i))Mv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,P=v(T,u);if(m.hasEagerState=!0,m.eagerState=P,Jn(P,T)){var M=o.interleaved;M===null?(m.next=m,Tf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=dv(i,o,m,d),u!==null&&(m=on(),rr(u,i,d,m),Ov(u,o,d))}}function Lv(i){var o=i.alternate;return i===st||o!==null&&o===st}function Mv(i,o){Cl=Lc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Ov(i,o,u){if((u&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,xi(i,u)}}var Fc={readContext:Vn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},gI={readContext:Vn,useCallback:function(i,o){return _r().memoizedState=[i,o===void 0?null:o],i},useContext:Vn,useEffect:kv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Mc(4194308,4,Cv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Mc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Mc(4,2,i,o)},useMemo:function(i,o){var u=_r();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=_r();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=pI.bind(null,st,i),[d.memoizedState,i]},useRef:function(i){var o=_r();return i={current:i},o.memoizedState=i},useState:Sv,useDebugValue:Lf,useDeferredValue:function(i){return _r().memoizedState=i},useTransition:function(){var i=Sv(!1),o=i[0];return i=fI.bind(null,i[1]),_r().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=st,m=_r();if(nt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Vt===null)throw Error(n(349));(Fs&30)!==0||_v(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,kv(Ev.bind(null,d,v,i),[i]),d.flags|=2048,Nl(9,wv.bind(null,d,v,u,o),void 0,null),u},useId:function(){var i=_r(),o=Vt.identifierPrefix;if(nt){var u=Yr,d=Xr;u=(d&~(1<<32-nn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Rl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=dI++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},yI={readContext:Vn,useCallback:bv,useContext:Vn,useEffect:Vf,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:Pv,useMemo:Nv,useReducer:Nf,useRef:Iv,useState:function(){return Nf(bl)},useDebugValue:Lf,useDeferredValue:function(i){var o=Ln();return Dv(o,kt.memoizedState,i)},useTransition:function(){var i=Nf(bl)[0],o=Ln().memoizedState;return[i,o]},useMutableSource:yv,useSyncExternalStore:vv,useId:Vv,unstable_isNewReconciler:!1},vI={readContext:Vn,useCallback:bv,useContext:Vn,useEffect:Vf,useImperativeHandle:Rv,useInsertionEffect:Av,useLayoutEffect:Pv,useMemo:Nv,useReducer:Df,useRef:Iv,useState:function(){return Df(bl)},useDebugValue:Lf,useDeferredValue:function(i){var o=Ln();return kt===null?o.memoizedState=i:Dv(o,kt.memoizedState,i)},useTransition:function(){var i=Df(bl)[0],o=Ln().memoizedState;return[i,o]},useMutableSource:yv,useSyncExternalStore:vv,useId:Vv,unstable_isNewReconciler:!1};function er(i,o){if(i&&i.defaultProps){o=te({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Mf(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:te({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var jc={isMounted:function(i){return(i=i._reactInternals)?Wn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=on(),m=Fi(i),v=Zr(d,m);v.payload=o,u!=null&&(v.callback=u),o=Vi(i,v,m),o!==null&&(rr(o,i,m,d),bc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=on(),m=Fi(i),v=Zr(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Vi(i,v,m),o!==null&&(rr(o,i,m,d),bc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=on(),d=Fi(i),m=Zr(u,d);m.tag=2,o!=null&&(m.callback=o),o=Vi(i,m,d),o!==null&&(rr(o,i,d,u),bc(o,i,d))}};function Fv(i,o,u,d,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!vl(u,d)||!vl(m,v):!0}function jv(i,o,u){var d=!1,m=bi,v=o.contextType;return typeof v=="object"&&v!==null?v=Vn(v):(m=hn(o)?Ds:qt.current,d=o.contextTypes,v=(d=d!=null)?Ko(i,m):bi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=jc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Uv(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&jc.enqueueReplaceState(o,o.state,null)}function Of(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},xf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Vn(v):(v=hn(o)?Ds:qt.current,m.context=Ko(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Mf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&jc.enqueueReplaceState(m,m.state,null),Nc(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ta(i,o){try{var u="",d=o;do u+=Pe(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Ff(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function jf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var _I=typeof WeakMap=="function"?WeakMap:Map;function Bv(i,o,u){u=Zr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){qc||(qc=!0,ep=d),jf(i,o)},u}function zv(i,o,u){u=Zr(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){jf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){jf(i,o),typeof d!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function $v(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new _I;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=DI.bind(null,i,o,u),o.then(i,i))}function Hv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Wv(i,o,u,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Zr(-1,1),o.tag=2,Vi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var wI=X.ReactCurrentOwner,dn=!1;function sn(i,o,u,d){o.child=i===null?hv(o,null,u,d):Yo(o,i.child,u,d)}function qv(i,o,u,d,m){u=u.render;var v=o.ref;return Zo(o,m),d=Rf(i,o,u,d,v,m),u=bf(),i!==null&&!dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ei(i,o,m)):(nt&&u&&ff(o),o.flags|=1,sn(i,o,d,m),o.child)}function Kv(i,o,u,d,m){if(i===null){var v=u.type;return typeof v=="function"&&!ap(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Gv(i,o,v,d,m)):(i=Jc(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:vl,u(T,d)&&i.ref===o.ref)return ei(i,o,m)}return o.flags|=1,i=Ui(v,d),i.ref=o.ref,i.return=o,o.child=i}function Gv(i,o,u,d,m){if(i!==null){var v=i.memoizedProps;if(vl(v,d)&&i.ref===o.ref)if(dn=!1,o.pendingProps=d=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(dn=!0);else return o.lanes=i.lanes,ei(i,o,m)}return Uf(i,o,u,d,m)}function Qv(i,o,u){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ra,Sn),Sn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ke(ra,Sn),Sn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Ke(ra,Sn),Sn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Ke(ra,Sn),Sn|=d;return sn(i,o,m,u),o.child}function Xv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Uf(i,o,u,d,m){var v=hn(u)?Ds:qt.current;return v=Ko(o,v),Zo(o,m),u=Rf(i,o,u,d,v,m),d=bf(),i!==null&&!dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ei(i,o,m)):(nt&&d&&ff(o),o.flags|=1,sn(i,o,u,m),o.child)}function Yv(i,o,u,d,m){if(hn(u)){var v=!0;xc(o)}else v=!1;if(Zo(o,m),o.stateNode===null)Bc(i,o),jv(o,u,d),Of(o,u,d,m),d=!0;else if(i===null){var T=o.stateNode,P=o.memoizedProps;T.props=P;var M=T.context,K=u.contextType;typeof K=="object"&&K!==null?K=Vn(K):(K=hn(u)?Ds:qt.current,K=Ko(o,K));var ne=u.getDerivedStateFromProps,re=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==d||M!==K)&&Uv(o,T,d,K),Di=!1;var ee=o.memoizedState;T.state=ee,Nc(o,d,T,m),M=o.memoizedState,P!==d||ee!==M||cn.current||Di?(typeof ne=="function"&&(Mf(o,u,ne,d),M=o.memoizedState),(P=Di||Fv(o,u,P,d,ee,M,K))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),T.props=d,T.state=M,T.context=K,d=P):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,fv(i,o),P=o.memoizedProps,K=o.type===o.elementType?P:er(o.type,P),T.props=K,re=o.pendingProps,ee=T.context,M=u.contextType,typeof M=="object"&&M!==null?M=Vn(M):(M=hn(u)?Ds:qt.current,M=Ko(o,M));var ue=u.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==re||ee!==M)&&Uv(o,T,d,M),Di=!1,ee=o.memoizedState,T.state=ee,Nc(o,d,T,m);var de=o.memoizedState;P!==re||ee!==de||cn.current||Di?(typeof ue=="function"&&(Mf(o,u,ue,d),de=o.memoizedState),(K=Di||Fv(o,u,K,d,ee,de,M)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=M,d=K):(typeof T.componentDidUpdate!="function"||P===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),d=!1)}return Bf(i,o,u,d,v,m)}function Bf(i,o,u,d,m,v){Xv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&nv(o,u,!1),ei(i,o,v);d=o.stateNode,wI.current=o;var P=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Yo(o,i.child,null,v),o.child=Yo(o,null,P,v)):sn(i,o,P,v),o.memoizedState=d.state,m&&nv(o,u,!0),o.child}function Jv(i){var o=i.stateNode;o.pendingContext?ev(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ev(i,o.context,!1),Sf(i,o.containerInfo)}function Zv(i,o,u,d,m){return Xo(),yf(m),o.flags|=256,sn(i,o,u,d),o.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function $f(i){return{baseLanes:i,cachePool:null,transitions:null}}function e_(i,o,u){var d=o.pendingProps,m=it.current,v=!1,T=(o.flags&128)!==0,P;if((P=T)||(P=i!==null&&i.memoizedState===null?!1:(m&2)!==0),P?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ke(it,m&1),i===null)return gf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Zc(T,d,0,null),i=$s(i,d,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=$f(u),o.memoizedState=zf,i):Hf(o,T));if(m=i.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return EI(i,o,T,d,P,m,u);if(v){v=d.fallback,T=o.mode,m=i.child,P=m.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=Ui(m,M),d.subtreeFlags=m.subtreeFlags&14680064),P!==null?v=Ui(P,v):(v=$s(v,T,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=i.child.memoizedState,T=T===null?$f(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~u,o.memoizedState=zf,d}return v=i.child,i=v.sibling,d=Ui(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function Hf(i,o){return o=Zc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Uc(i,o,u,d){return d!==null&&yf(d),Yo(o,i.child,null,u),i=Hf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function EI(i,o,u,d,m,v,T){if(u)return o.flags&256?(o.flags&=-257,d=Ff(Error(n(422))),Uc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Zc({mode:"visible",children:d.children},m,0,null),v=$s(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Yo(o,i.child,null,T),o.child.memoizedState=$f(T),o.memoizedState=zf,v);if((o.mode&1)===0)return Uc(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var P=d.dgst;return d=P,v=Error(n(419)),d=Ff(v,d,void 0),Uc(i,o,T,d)}if(P=(T&i.childLanes)!==0,dn||P){if(d=Vt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Jr(i,m),rr(d,i,m,-1))}return op(),d=Ff(Error(n(421))),Uc(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=VI.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,xn=Ci(m.nextSibling),Tn=o,nt=!0,Zn=null,i!==null&&(Nn[Dn++]=Xr,Nn[Dn++]=Yr,Nn[Dn++]=Vs,Xr=i.id,Yr=i.overflow,Vs=o),o=Hf(o,d.children),o.flags|=4096,o)}function t_(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Ef(i.return,o,u)}function Wf(i,o,u,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function n_(i,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(sn(i,o,d.children,u),d=it.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t_(i,u,o);else if(i.tag===19)t_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ke(it,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Dc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Wf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Dc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Wf(o,!0,u,null,v);break;case"together":Wf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Bc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ei(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),js|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Ui(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ui(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function TI(i,o,u){switch(o.tag){case 3:Jv(o),Xo();break;case 5:gv(o);break;case 1:hn(o.type)&&xc(o);break;case 4:Sf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ke(Cc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ke(it,it.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?e_(i,o,u):(Ke(it,it.current&1),i=ei(i,o,u),i!==null?i.sibling:null);Ke(it,it.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(i.flags&128)!==0){if(d)return n_(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(it,it.current),d)break;return null;case 22:case 23:return o.lanes=0,Qv(i,o,u)}return ei(i,o,u)}var r_,qf,i_,s_;r_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},qf=function(){},i_=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,Os(vr.current);var v=null;switch(u){case"input":m=gs(i,m),d=gs(i,d),v=[];break;case"select":m=te({},m,{value:void 0}),d=te({},d,{value:void 0}),v=[];break;case"textarea":m=Ka(i,m),d=Ka(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=wc)}Za(u,d);var T;u=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var P=m[K];for(T in P)P.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in d){var M=d[K];if(P=m?.[K],d.hasOwnProperty(K)&&M!==P&&(M!=null||P!=null))if(K==="style")if(P){for(T in P)!P.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in M)M.hasOwnProperty(T)&&P[T]!==M[T]&&(u||(u={}),u[T]=M[T])}else u||(v||(v=[]),v.push(K,u)),u=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,P=P?P.__html:void 0,M!=null&&P!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&Qe("scroll",i),v||P===M||(v=[])):(v=v||[]).push(K,M))}u&&(v=v||[]).push("style",u);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},s_=function(i,o,u,d){u!==d&&(o.flags|=4)};function Dl(i,o){if(!nt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function xI(i,o,u){var d=o.pendingProps;switch(pf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return hn(o.type)&&Tc(),Gt(o),null;case 3:return d=o.stateNode,ea(),Xe(cn),Xe(qt),Af(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Ac(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zn!==null&&(rp(Zn),Zn=null))),qf(i,o),Gt(o),null;case 5:If(o);var m=Os(Pl.current);if(u=o.type,i!==null&&o.stateNode!=null)i_(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Gt(o),null}if(i=Os(vr.current),Ac(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[yr]=o,d[xl]=v,i=(o.mode&1)!==0,u){case"dialog":Qe("cancel",d),Qe("close",d);break;case"iframe":case"object":case"embed":Qe("load",d);break;case"video":case"audio":for(m=0;m<wl.length;m++)Qe(wl[m],d);break;case"source":Qe("error",d);break;case"img":case"image":case"link":Qe("error",d),Qe("load",d);break;case"details":Qe("toggle",d);break;case"input":mo(d,v),Qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Qe("invalid",d);break;case"textarea":yo(d,v),Qe("invalid",d)}Za(u,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var P=v[T];T==="children"?typeof P=="string"?d.textContent!==P&&(v.suppressHydrationWarning!==!0&&_c(d.textContent,P,i),m=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(v.suppressHydrationWarning!==!0&&_c(d.textContent,P,i),m=["children",""+P]):s.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&Qe("scroll",d)}switch(u){case"input":Fr(d),Wu(d,v,!0);break;case"textarea":Fr(d),Ga(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=wc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=xt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(u,{is:d.is}):(i=T.createElement(u),u==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,u),i[yr]=o,i[xl]=d,r_(i,o,!1,!1),o.stateNode=i;e:{switch(T=el(u,d),u){case"dialog":Qe("cancel",i),Qe("close",i),m=d;break;case"iframe":case"object":case"embed":Qe("load",i),m=d;break;case"video":case"audio":for(m=0;m<wl.length;m++)Qe(wl[m],i);m=d;break;case"source":Qe("error",i),m=d;break;case"img":case"image":case"link":Qe("error",i),Qe("load",i),m=d;break;case"details":Qe("toggle",i),m=d;break;case"input":mo(i,d),m=gs(i,d),Qe("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=te({},d,{value:void 0}),Qe("invalid",i);break;case"textarea":yo(i,d),m=Ka(i,d),Qe("invalid",i);break;default:m=d}Za(u,m),P=m;for(v in P)if(P.hasOwnProperty(v)){var M=P[v];v==="style"?Ya(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Qa(i,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&vi(i,M):typeof M=="number"&&vi(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Qe("scroll",i):M!=null&&q(i,v,M,T))}switch(u){case"input":Fr(i),Wu(i,d,!1);break;case"textarea":Fr(i),Ga(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Ur(i,!!d.multiple,v,!1):d.defaultValue!=null&&Ur(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=wc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(i&&o.stateNode!=null)s_(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Os(Pl.current),Os(vr.current),Ac(o)){if(d=o.stateNode,u=o.memoizedProps,d[yr]=o,(v=d.nodeValue!==u)&&(i=Tn,i!==null))switch(i.tag){case 3:_c(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&_c(d.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[yr]=o,o.stateNode=d}return Gt(o),null;case 13:if(Xe(it),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(nt&&xn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)lv(),Xo(),o.flags|=98560,v=!1;else if(v=Ac(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[yr]=o}else Xo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),v=!1}else Zn!==null&&(rp(Zn),Zn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(it.current&1)!==0?At===0&&(At=3):op())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return ea(),qf(i,o),i===null&&El(o.stateNode.containerInfo),Gt(o),null;case 10:return wf(o.type._context),Gt(o),null;case 17:return hn(o.type)&&Tc(),Gt(o),null;case 19:if(Xe(it),v=o.memoizedState,v===null)return Gt(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)Dl(v,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Dc(i),T!==null){for(o.flags|=128,Dl(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,i=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ke(it,it.current&1|2),o.child}i=i.sibling}v.tail!==null&&qe()>ia&&(o.flags|=128,d=!0,Dl(v,!1),o.lanes=4194304)}else{if(!d)if(i=Dc(T),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Dl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!nt)return Gt(o),null}else 2*qe()-v.renderingStartTime>ia&&u!==1073741824&&(o.flags|=128,d=!0,Dl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=qe(),o.sibling=null,u=it.current,Ke(it,d?u&1|2:u&1),o):(Gt(o),null);case 22:case 23:return sp(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Sn&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function SI(i,o){switch(pf(o),o.tag){case 1:return hn(o.type)&&Tc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ea(),Xe(cn),Xe(qt),Af(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return If(o),null;case 13:if(Xe(it),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Xo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Xe(it),null;case 4:return ea(),null;case 10:return wf(o.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var zc=!1,Qt=!1,II=typeof WeakSet=="function"?WeakSet:Set,he=null;function na(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){ht(i,o,d)}else u.current=null}function Kf(i,o,u){try{u()}catch(d){ht(i,o,d)}}var o_=!1;function kI(i,o){if(sf=ki,i=Fy(),Xd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,P=-1,M=-1,K=0,ne=0,re=i,ee=null;t:for(;;){for(var ue;re!==u||m!==0&&re.nodeType!==3||(P=T+m),re!==v||d!==0&&re.nodeType!==3||(M=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(ue=re.firstChild)!==null;)ee=re,re=ue;for(;;){if(re===i)break t;if(ee===u&&++K===m&&(P=T),ee===v&&++ne===d&&(M=T),(ue=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ue}u=P===-1||M===-1?null:{start:P,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(of={focusedElem:i,selectionRange:u},ki=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,gt=de.memoizedState,$=o.stateNode,j=$.getSnapshotBeforeUpdate(o.elementType===o.type?fe:er(o.type,fe),gt);$.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){ht(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return de=o_,o_=!1,de}function Vl(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Kf(o,u,v)}m=m.next}while(m!==d)}}function $c(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Gf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function a_(i){var o=i.alternate;o!==null&&(i.alternate=null,a_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[yr],delete o[xl],delete o[cf],delete o[lI],delete o[uI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function l_(i){return i.tag===5||i.tag===3||i.tag===4}function u_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=wc));else if(d!==4&&(i=i.child,i!==null))for(Qf(i,o,u),i=i.sibling;i!==null;)Qf(i,o,u),i=i.sibling}function Xf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Xf(i,o,u),i=i.sibling;i!==null;)Xf(i,o,u),i=i.sibling}var Ut=null,tr=!1;function Li(i,o,u){for(u=u.child;u!==null;)c_(i,o,u),u=u.sibling}function c_(i,o,u){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Is,u)}catch{}switch(u.tag){case 5:Qt||na(u,o);case 6:var d=Ut,m=tr;Ut=null,Li(i,o,u),Ut=d,tr=m,Ut!==null&&(tr?(i=Ut,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ut.removeChild(u.stateNode));break;case 18:Ut!==null&&(tr?(i=Ut,u=u.stateNode,i.nodeType===8?uf(i.parentNode,u):i.nodeType===1&&uf(i,u),Xn(i)):uf(Ut,u.stateNode));break;case 4:d=Ut,m=tr,Ut=u.stateNode.containerInfo,tr=!0,Li(i,o,u),Ut=d,tr=m;break;case 0:case 11:case 14:case 15:if(!Qt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Kf(u,o,T),m=m.next}while(m!==d)}Li(i,o,u);break;case 1:if(!Qt&&(na(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(P){ht(u,o,P)}Li(i,o,u);break;case 21:Li(i,o,u);break;case 22:u.mode&1?(Qt=(d=Qt)||u.memoizedState!==null,Li(i,o,u),Qt=d):Li(i,o,u);break;default:Li(i,o,u)}}function h_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new II),o.forEach(function(d){var m=LI.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function nr(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=i,T=o,P=T;e:for(;P!==null;){switch(P.tag){case 5:Ut=P.stateNode,tr=!1;break e;case 3:Ut=P.stateNode.containerInfo,tr=!0;break e;case 4:Ut=P.stateNode.containerInfo,tr=!0;break e}P=P.return}if(Ut===null)throw Error(n(160));c_(v,T,m),Ut=null,tr=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(K){ht(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)d_(o,i),o=o.sibling}function d_(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(nr(o,i),wr(i),d&4){try{Vl(3,i,i.return),$c(3,i)}catch(fe){ht(i,i.return,fe)}try{Vl(5,i,i.return)}catch(fe){ht(i,i.return,fe)}}break;case 1:nr(o,i),wr(i),d&512&&u!==null&&na(u,u.return);break;case 5:if(nr(o,i),wr(i),d&512&&u!==null&&na(u,u.return),i.flags&32){var m=i.stateNode;try{vi(m,"")}catch(fe){ht(i,i.return,fe)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=u!==null?u.memoizedProps:v,P=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{P==="input"&&v.type==="radio"&&v.name!=null&&Wa(m,v),el(P,T);var K=el(P,v);for(T=0;T<M.length;T+=2){var ne=M[T],re=M[T+1];ne==="style"?Ya(m,re):ne==="dangerouslySetInnerHTML"?Qa(m,re):ne==="children"?vi(m,re):q(m,ne,re,K)}switch(P){case"input":qa(m,v);break;case"textarea":vo(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?Ur(m,!!v.multiple,ue,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Ur(m,!!v.multiple,v.defaultValue,!0):Ur(m,!!v.multiple,v.multiple?[]:"",!1))}m[xl]=v}catch(fe){ht(i,i.return,fe)}}break;case 6:if(nr(o,i),wr(i),d&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(fe){ht(i,i.return,fe)}}break;case 3:if(nr(o,i),wr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Xn(o.containerInfo)}catch(fe){ht(i,i.return,fe)}break;case 4:nr(o,i),wr(i);break;case 13:nr(o,i),wr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Zf=qe())),d&4&&h_(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(Qt=(K=Qt)||ne,nr(o,i),Qt=K):nr(o,i),wr(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(he=i,ne=i.child;ne!==null;){for(re=he=ne;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:Vl(4,ee,ee.return);break;case 1:na(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){d=ee,u=ee.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(fe){ht(d,u,fe)}}break;case 5:na(ee,ee.return);break;case 22:if(ee.memoizedState!==null){m_(re);continue}}ue!==null?(ue.return=ee,he=ue):m_(re)}ne=ne.sibling}e:for(ne=null,re=i;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(P=re.stateNode,M=re.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,P.style.display=Xa("display",T))}catch(fe){ht(i,i.return,fe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(fe){ht(i,i.return,fe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:nr(o,i),wr(i),d&4&&h_(i);break;case 21:break;default:nr(o,i),wr(i)}}function wr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(l_(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(vi(m,""),d.flags&=-33);var v=u_(i);Xf(i,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,P=u_(i);Qf(i,P,T);break;default:throw Error(n(161))}}catch(M){ht(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function AI(i,o,u){he=i,f_(i)}function f_(i,o,u){for(var d=(i.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||zc;if(!T){var P=m.alternate,M=P!==null&&P.memoizedState!==null||Qt;P=zc;var K=Qt;if(zc=T,(Qt=M)&&!K)for(he=m;he!==null;)T=he,M=T.child,T.tag===22&&T.memoizedState!==null?g_(m):M!==null?(M.return=T,he=M):g_(m);for(;v!==null;)he=v,f_(v),v=v.sibling;he=m,zc=P,Qt=K}p_(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,he=v):p_(i)}}function p_(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Qt||$c(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Qt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:er(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&mv(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}mv(o,T,u)}break;case 5:var P=o.stateNode;if(u===null&&o.flags&4){u=P;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Xn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||o.flags&512&&Gf(o)}catch(ee){ht(o,o.return,ee)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function m_(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function g_(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{$c(4,o)}catch(M){ht(o,u,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(M){ht(o,m,M)}}var v=o.return;try{Gf(o)}catch(M){ht(o,v,M)}break;case 5:var T=o.return;try{Gf(o)}catch(M){ht(o,T,M)}}}catch(M){ht(o,o.return,M)}if(o===i){he=null;break}var P=o.sibling;if(P!==null){P.return=o.return,he=P;break}he=o.return}}var PI=Math.ceil,Hc=X.ReactCurrentDispatcher,Yf=X.ReactCurrentOwner,Mn=X.ReactCurrentBatchConfig,Oe=0,Vt=null,wt=null,Bt=0,Sn=0,ra=Ri(0),At=0,Ll=null,js=0,Wc=0,Jf=0,Ml=null,fn=null,Zf=0,ia=1/0,ti=null,qc=!1,ep=null,Mi=null,Kc=!1,Oi=null,Gc=0,Ol=0,tp=null,Qc=-1,Xc=0;function on(){return(Oe&6)!==0?qe():Qc!==-1?Qc:Qc=qe()}function Fi(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Bt!==0?Bt&-Bt:hI.transition!==null?(Xc===0&&(Xc=As()),Xc):(i=De,i!==0||(i=window.event,i=i===void 0?16:hl(i.type)),i)}function rr(i,o,u,d){if(50<Ol)throw Ol=0,tp=null,Error(n(185));Ti(i,u,d),((Oe&2)===0||i!==Vt)&&(i===Vt&&((Oe&2)===0&&(Wc|=u),At===4&&ji(i,Bt)),pn(i,d),u===1&&Oe===0&&(o.mode&1)===0&&(ia=qe()+500,Sc&&Ni()))}function pn(i,o){var u=i.callbackNode;$r(i,o);var d=ks(i,i===Vt?Bt:0);if(d===0)u!==null&&ol(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&ol(u),o===1)i.tag===0?cI(v_.bind(null,i)):rv(v_.bind(null,i)),oI(function(){(Oe&6)===0&&Ni()}),u=null;else{switch(Si(d)){case 1:u=Ss;break;case 4:u=_i;break;case 16:u=Cn;break;case 536870912:u=Xu;break;default:u=Cn}u=k_(u,y_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function y_(i,o){if(Qc=-1,Xc=0,(Oe&6)!==0)throw Error(n(327));var u=i.callbackNode;if(sa()&&i.callbackNode!==u)return null;var d=ks(i,i===Vt?Bt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Yc(i,d);else{o=d;var m=Oe;Oe|=2;var v=w_();(Vt!==i||Bt!==o)&&(ti=null,ia=qe()+500,Bs(i,o));do try{bI();break}catch(P){__(i,P)}while(!0);_f(),Hc.current=v,Oe=m,wt!==null?o=0:(Vt=null,Bt=0,o=At)}if(o!==0){if(o===2&&(m=_n(i),m!==0&&(d=m,o=np(i,m))),o===1)throw u=Ll,Bs(i,0),ji(i,d),pn(i,qe()),u;if(o===6)ji(i,d);else{if(m=i.current.alternate,(d&30)===0&&!CI(m)&&(o=Yc(i,d),o===2&&(v=_n(i),v!==0&&(d=v,o=np(i,v))),o===1))throw u=Ll,Bs(i,0),ji(i,d),pn(i,qe()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:zs(i,fn,ti);break;case 3:if(ji(i,d),(d&130023424)===d&&(o=Zf+500-qe(),10<o)){if(ks(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){on(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=lf(zs.bind(null,i,fn,ti),o);break}zs(i,fn,ti);break;case 4:if(ji(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-nn(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*PI(d/1960))-d,10<d){i.timeoutHandle=lf(zs.bind(null,i,fn,ti),d);break}zs(i,fn,ti);break;case 5:zs(i,fn,ti);break;default:throw Error(n(329))}}}return pn(i,qe()),i.callbackNode===u?y_.bind(null,i):null}function np(i,o){var u=Ml;return i.current.memoizedState.isDehydrated&&(Bs(i,o).flags|=256),i=Yc(i,o),i!==2&&(o=fn,fn=u,o!==null&&rp(o)),i}function rp(i){fn===null?fn=i:fn.push.apply(fn,i)}function CI(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Jn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ji(i,o){for(o&=~Jf,o&=~Wc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-nn(o),d=1<<u;i[u]=-1,o&=~d}}function v_(i){if((Oe&6)!==0)throw Error(n(327));sa();var o=ks(i,0);if((o&1)===0)return pn(i,qe()),null;var u=Yc(i,o);if(i.tag!==0&&u===2){var d=_n(i);d!==0&&(o=d,u=np(i,d))}if(u===1)throw u=Ll,Bs(i,0),ji(i,o),pn(i,qe()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,zs(i,fn,ti),pn(i,qe()),null}function ip(i,o){var u=Oe;Oe|=1;try{return i(o)}finally{Oe=u,Oe===0&&(ia=qe()+500,Sc&&Ni())}}function Us(i){Oi!==null&&Oi.tag===0&&(Oe&6)===0&&sa();var o=Oe;Oe|=1;var u=Mn.transition,d=De;try{if(Mn.transition=null,De=1,i)return i()}finally{De=d,Mn.transition=u,Oe=o,(Oe&6)===0&&Ni()}}function sp(){Sn=ra.current,Xe(ra)}function Bs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,sI(u)),wt!==null)for(u=wt.return;u!==null;){var d=u;switch(pf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Tc();break;case 3:ea(),Xe(cn),Xe(qt),Af();break;case 5:If(d);break;case 4:ea();break;case 13:Xe(it);break;case 19:Xe(it);break;case 10:wf(d.type._context);break;case 22:case 23:sp()}u=u.return}if(Vt=i,wt=i=Ui(i.current,null),Bt=Sn=o,At=0,Ll=null,Jf=Wc=js=0,fn=Ml=null,Ms!==null){for(o=0;o<Ms.length;o++)if(u=Ms[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}u.pending=d}Ms=null}return i}function __(i,o){do{var u=wt;try{if(_f(),Vc.current=Fc,Lc){for(var d=st.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Lc=!1}if(Fs=0,Dt=kt=st=null,Cl=!1,Rl=0,Yf.current=null,u===null||u.return===null){At=1,Ll=o,wt=null;break}e:{var v=i,T=u.return,P=u,M=o;if(o=Bt,P.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,ne=P,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Hv(T);if(ue!==null){ue.flags&=-257,Wv(ue,T,P,v,o),ue.mode&1&&$v(v,K,o),o=ue,M=K;var de=o.updateQueue;if(de===null){var fe=new Set;fe.add(M),o.updateQueue=fe}else de.add(M);break e}else{if((o&1)===0){$v(v,K,o),op();break e}M=Error(n(426))}}else if(nt&&P.mode&1){var gt=Hv(T);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Wv(gt,T,P,v,o),yf(ta(M,P));break e}}v=M=ta(M,P),At!==4&&(At=2),Ml===null?Ml=[v]:Ml.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=Bv(v,M,o);pv(v,$);break e;case 1:P=M;var j=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Mi===null||!Mi.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var se=zv(v,P,o);pv(v,se);break e}}v=v.return}while(v!==null)}T_(u)}catch(ge){o=ge,wt===u&&u!==null&&(wt=u=u.return);continue}break}while(!0)}function w_(){var i=Hc.current;return Hc.current=Fc,i===null?Fc:i}function op(){(At===0||At===3||At===2)&&(At=4),Vt===null||(js&268435455)===0&&(Wc&268435455)===0||ji(Vt,Bt)}function Yc(i,o){var u=Oe;Oe|=2;var d=w_();(Vt!==i||Bt!==o)&&(ti=null,Bs(i,o));do try{RI();break}catch(m){__(i,m)}while(!0);if(_f(),Oe=u,Hc.current=d,wt!==null)throw Error(n(261));return Vt=null,Bt=0,At}function RI(){for(;wt!==null;)E_(wt)}function bI(){for(;wt!==null&&!Gu();)E_(wt)}function E_(i){var o=I_(i.alternate,i,Sn);i.memoizedProps=i.pendingProps,o===null?T_(i):wt=o,Yf.current=null}function T_(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=xI(u,o,Sn),u!==null){wt=u;return}}else{if(u=SI(u,o),u!==null){u.flags&=32767,wt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{At=6,wt=null;return}}if(o=o.sibling,o!==null){wt=o;return}wt=o=i}while(o!==null);At===0&&(At=5)}function zs(i,o,u){var d=De,m=Mn.transition;try{Mn.transition=null,De=1,NI(i,o,u,d)}finally{Mn.transition=m,De=d}return null}function NI(i,o,u,d){do sa();while(Oi!==null);if((Oe&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(He(i,v),i===Vt&&(wt=Vt=null,Bt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Kc||(Kc=!0,k_(Cn,function(){return sa(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Mn.transition,Mn.transition=null;var T=De;De=1;var P=Oe;Oe|=4,Yf.current=null,kI(i,u),d_(u,i),JS(of),ki=!!sf,of=sf=null,i.current=u,AI(u),zd(),Oe=P,De=T,Mn.transition=v}else i.current=u;if(Kc&&(Kc=!1,Oi=i,Gc=m),v=i.pendingLanes,v===0&&(Mi=null),Yu(u.stateNode),pn(i,qe()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(qc)throw qc=!1,i=ep,ep=null,i;return(Gc&1)!==0&&i.tag!==0&&sa(),v=i.pendingLanes,(v&1)!==0?i===tp?Ol++:(Ol=0,tp=i):Ol=0,Ni(),null}function sa(){if(Oi!==null){var i=Si(Gc),o=Mn.transition,u=De;try{if(Mn.transition=null,De=16>i?16:i,Oi===null)var d=!1;else{if(i=Oi,Oi=null,Gc=0,(Oe&6)!==0)throw Error(n(331));var m=Oe;for(Oe|=4,he=i.current;he!==null;){var v=he,T=v.child;if((he.flags&16)!==0){var P=v.deletions;if(P!==null){for(var M=0;M<P.length;M++){var K=P[M];for(he=K;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Vl(8,ne,v)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var ee=ne.sibling,ue=ne.return;if(a_(ne),ne===K){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var de=v.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var gt=fe.sibling;fe.sibling=null,fe=gt}while(fe!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,he=T;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Vl(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,he=$;break e}he=v.return}}var j=i.current;for(he=j;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=j;he!==null;){if(P=he,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:$c(9,P)}}catch(ge){ht(P,P.return,ge)}if(P===T){he=null;break e}var se=P.sibling;if(se!==null){se.return=P.return,he=se;break e}he=P.return}}if(Oe=m,Ni(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Is,i)}catch{}d=!0}return d}finally{De=u,Mn.transition=o}}return!1}function x_(i,o,u){o=ta(u,o),o=Bv(i,o,1),i=Vi(i,o,1),o=on(),i!==null&&(Ti(i,1,o),pn(i,o))}function ht(i,o,u){if(i.tag===3)x_(i,i,u);else for(;o!==null;){if(o.tag===3){x_(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))){i=ta(u,i),i=zv(o,i,1),o=Vi(o,i,1),i=on(),o!==null&&(Ti(o,1,i),pn(o,i));break}}o=o.return}}function DI(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=on(),i.pingedLanes|=i.suspendedLanes&u,Vt===i&&(Bt&u)===u&&(At===4||At===3&&(Bt&130023424)===Bt&&500>qe()-Zf?Bs(i,0):Jf|=u),pn(i,o)}function S_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Po,Po<<=1,(Po&130023424)===0&&(Po=4194304)));var u=on();i=Jr(i,o),i!==null&&(Ti(i,o,u),pn(i,u))}function VI(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),S_(i,u)}function LI(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),S_(i,u)}var I_;I_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||cn.current)dn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return dn=!1,TI(i,o,u);dn=(i.flags&131072)!==0}else dn=!1,nt&&(o.flags&1048576)!==0&&iv(o,kc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Bc(i,o),i=o.pendingProps;var m=Ko(o,qt.current);Zo(o,u),m=Rf(null,o,d,i,m,u);var v=bf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,hn(d)?(v=!0,xc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,xf(o),m.updater=jc,o.stateNode=m,m._reactInternals=o,Of(o,d,i,u),o=Bf(null,o,d,!0,v,u)):(o.tag=0,nt&&v&&ff(o),sn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Bc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=OI(d),i=er(d,i),m){case 0:o=Uf(null,o,d,i,u);break e;case 1:o=Yv(null,o,d,i,u);break e;case 11:o=qv(null,o,d,i,u);break e;case 14:o=Kv(null,o,d,er(d.type,i),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:er(d,m),Uf(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:er(d,m),Yv(i,o,d,m,u);case 3:e:{if(Jv(o),i===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,fv(i,o),Nc(o,d,null,u);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ta(Error(n(423)),o),o=Zv(i,o,d,u,m);break e}else if(d!==m){m=ta(Error(n(424)),o),o=Zv(i,o,d,u,m);break e}else for(xn=Ci(o.stateNode.containerInfo.firstChild),Tn=o,nt=!0,Zn=null,u=hv(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xo(),d===m){o=ei(i,o,u);break e}sn(i,o,d,u)}o=o.child}return o;case 5:return gv(o),i===null&&gf(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,af(d,m)?T=null:v!==null&&af(d,v)&&(o.flags|=32),Xv(i,o),sn(i,o,T,u),o.child;case 6:return i===null&&gf(o),null;case 13:return e_(i,o,u);case 4:return Sf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Yo(o,null,d,u):sn(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:er(d,m),qv(i,o,d,m,u);case 7:return sn(i,o,o.pendingProps,u),o.child;case 8:return sn(i,o,o.pendingProps.children,u),o.child;case 12:return sn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Ke(Cc,d._currentValue),d._currentValue=T,v!==null)if(Jn(v.value,T)){if(v.children===m.children&&!cn.current){o=ei(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var P=v.dependencies;if(P!==null){T=v.child;for(var M=P.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Zr(-1,u&-u),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),K.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),Ef(v.return,u,o),P.lanes|=u;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,P=T.alternate,P!==null&&(P.lanes|=u),Ef(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}sn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Zo(o,u),m=Vn(m),d=d(m),o.flags|=1,sn(i,o,d,u),o.child;case 14:return d=o.type,m=er(d,o.pendingProps),m=er(d.type,m),Kv(i,o,d,m,u);case 15:return Gv(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:er(d,m),Bc(i,o),o.tag=1,hn(d)?(i=!0,xc(o)):i=!1,Zo(o,u),jv(o,d,m),Of(o,d,m,u),Bf(null,o,d,!0,i,u);case 19:return n_(i,o,u);case 22:return Qv(i,o,u)}throw Error(n(156,o.tag))};function k_(i,o){return ko(i,o)}function MI(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,u,d){return new MI(i,o,u,d)}function ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function OI(i){if(typeof i=="function")return ap(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===pt)return 14}return 2}function Ui(i,o){var u=i.alternate;return u===null?(u=On(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Jc(i,o,u,d,m,v){var T=2;if(d=i,typeof i=="function")ap(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case D:return $s(u.children,m,v,o);case I:T=8,m|=8;break;case A:return i=On(12,u,o,m|2),i.elementType=A,i.lanes=v,i;case b:return i=On(13,u,o,m),i.elementType=b,i.lanes=v,i;case Be:return i=On(19,u,o,m),i.elementType=Be,i.lanes=v,i;case xe:return Zc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case O:T=9;break e;case B:T=11;break e;case pt:T=14;break e;case ct:T=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=On(T,u,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function $s(i,o,u,d){return i=On(7,i,d,o),i.lanes=u,i}function Zc(i,o,u,d){return i=On(22,i,d,o),i.elementType=xe,i.lanes=u,i.stateNode={isHidden:!1},i}function lp(i,o,u){return i=On(6,i,null,o),i.lanes=u,i}function up(i,o,u){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function FI(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function cp(i,o,u,d,m,v,T,P,M){return i=new FI(i,o,u,P,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=On(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(v),i}function jI(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function A_(i){if(!i)return bi;i=i._reactInternals;e:{if(Wn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(hn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(hn(u))return tv(i,u,o)}return o}function P_(i,o,u,d,m,v,T,P,M){return i=cp(u,d,!0,i,m,v,T,P,M),i.context=A_(null),u=i.current,d=on(),m=Fi(u),v=Zr(d,m),v.callback=o??null,Vi(u,v,m),i.current.lanes=m,Ti(i,m,d),pn(i,d),i}function eh(i,o,u,d){var m=o.current,v=on(),T=Fi(m);return u=A_(u),o.context===null?o.context=u:o.pendingContext=u,o=Zr(v,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Vi(m,o,T),i!==null&&(rr(i,m,T,v),bc(i,m,T)),T}function th(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function C_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function hp(i,o){C_(i,o),(i=i.alternate)&&C_(i,o)}function UI(){return null}var R_=typeof reportError=="function"?reportError:function(i){console.error(i)};function dp(i){this._internalRoot=i}nh.prototype.render=dp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));eh(i,o,null,null)},nh.prototype.unmount=dp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Us(function(){eh(null,i,null,null)}),o[Gr]=null}};function nh(i){this._internalRoot=i}nh.prototype.unstable_scheduleHydration=function(i){if(i){var o=nc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<fr.length&&o!==0&&o<fr[u].priority;u++);fr.splice(u,0,i),u===0&&sc(i)}};function fp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function rh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function b_(){}function BI(i,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var K=th(T);v.call(K)}}var T=P_(o,d,i,0,null,!1,!1,"",b_);return i._reactRootContainer=T,i[Gr]=T.current,El(i.nodeType===8?i.parentNode:i),Us(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var P=d;d=function(){var K=th(M);P.call(K)}}var M=cp(i,0,!1,null,null,!1,!1,"",b_);return i._reactRootContainer=M,i[Gr]=M.current,El(i.nodeType===8?i.parentNode:i),Us(function(){eh(o,M,u,d)}),M}function ih(i,o,u,d,m){var v=u._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var P=m;m=function(){var M=th(T);P.call(M)}}eh(o,T,i,m)}else T=BI(u,o,i,m,d);return th(T)}ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=wi(o.pendingLanes);u!==0&&(xi(o,u|1),pn(o,qe()),(Oe&6)===0&&(ia=qe()+500,Ni()))}break;case 13:Us(function(){var d=Jr(i,1);if(d!==null){var m=on();rr(d,i,1,m)}}),hp(i,1)}},Co=function(i){if(i.tag===13){var o=Jr(i,134217728);if(o!==null){var u=on();rr(o,i,134217728,u)}hp(i,134217728)}},tc=function(i){if(i.tag===13){var o=Fi(i),u=Jr(i,o);if(u!==null){var d=on();rr(u,i,o,d)}hp(i,o)}},nc=function(){return De},rc=function(i,o){var u=De;try{return De=i,o()}finally{De=u}},wo=function(i,o,u){switch(o){case"input":if(qa(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=Ec(d);if(!m)throw Error(n(90));po(d),qa(d,m)}}}break;case"textarea":vo(i,u);break;case"select":o=u.value,o!=null&&Ur(i,!!u.multiple,o,!1)}},ws=ip,nl=Us;var zI={usingClientEntryPoint:!1,Events:[Sl,Wo,Ec,hr,tl,ip]},Fl={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$I={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=sl(i),i===null?null:i.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Is=sh.inject($I),vn=sh}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zI,mn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(o))throw Error(n(200));return jI(i,o,null,u)},mn.createRoot=function(i,o){if(!fp(i))throw Error(n(299));var u=!1,d="",m=R_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=cp(i,1,!1,null,null,u,!1,d,m),i[Gr]=o.current,El(i.nodeType===8?i.parentNode:i),new dp(o)},mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=sl(o),i=i===null?null:i.stateNode,i},mn.flushSync=function(i){return Us(i)},mn.hydrate=function(i,o,u){if(!rh(o))throw Error(n(200));return ih(null,i,o,!0,u)},mn.hydrateRoot=function(i,o,u){if(!fp(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",T=R_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=P_(o,null,i,1,u??null,m,!1,v,T),i[Gr]=o.current,El(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new nh(o)},mn.render=function(i,o,u){if(!rh(o))throw Error(n(200));return ih(null,i,o,!1,u)},mn.unmountComponentAtNode=function(i){if(!rh(i))throw Error(n(40));return i._reactRootContainer?(Us(function(){ih(null,null,i,!1,function(){i._reactRootContainer=null,i[Gr]=null})}),!0):!1},mn.unstable_batchedUpdates=ip,mn.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!rh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ih(i,o,u,!1,d)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var j_;function YI(){if(j_)return gp.exports;j_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gp.exports=XI(),gp.exports}var U_;function JI(){if(U_)return oh;U_=1;var t=YI();return oh.createRoot=t.createRoot,oh.hydrateRoot=t.hydrateRoot,oh}var ZI=JI();const ek=Gw(ZI),tk="modulepreload",nk=function(t){return"/Costas_Portfolio/"+t},B_={},rk=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");s=f(n.map(p=>{if(p=nk(p),p in B_)return;B_[p]=!0;const g=p.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":tk,g||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),g)return new Promise((S,R)=>{E.addEventListener("load",S),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return s.then(l=>{for(const h of l||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_="popstate";function ik(t={}){function e(r,s){let{pathname:a,search:l,hash:h}=r.location;return Xp("",{pathname:a,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:uu(s)}return ok(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sk(){return Math.random().toString(36).substring(2,10)}function $_(t,e){return{usr:t.state,key:t.key,idx:e}}function Xp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Da(e):e,state:n,key:e&&e.key||r||sk()}}function uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ok(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,h="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){h="POP";let C=g(),F=C==null?null:C-p;p=C,f&&f({action:h,location:N.location,delta:F})}function E(C,F){h="PUSH";let W=Xp(N.location,C,F);p=g()+1;let q=$_(W,p),X=N.createHref(W);try{l.pushState(q,"",X)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(X)}a&&f&&f({action:h,location:N.location,delta:1})}function S(C,F){h="REPLACE";let W=Xp(N.location,C,F);p=g();let q=$_(W,p),X=N.createHref(W);l.replaceState(q,"",X),a&&f&&f({action:h,location:N.location,delta:0})}function R(C){return ak(C)}let N={get action(){return h},get location(){return t(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(z_,_),f=C,()=>{s.removeEventListener(z_,_),f=null}},createHref(C){return e(s,C)},createURL:R,encodeLocation(C){let F=R(C);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:S,go(C){return l.go(C)}};return N}function ak(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:uu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qw(t,e,n="/"){return lk(t,e,n,!1)}function lk(t,e,n,r){let s=typeof e=="string"?Da(e):e,a=ui(s.pathname||"/",n);if(a==null)return null;let l=Xw(t);uk(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=wk(a);h=vk(l[f],p,r)}return h}function Xw(t,e=[],n=[],r=""){let s=(a,l,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(at(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ii([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(at(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Xw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:gk(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let h of Yw(a.path))s(a,l,h)}),e}function Yw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Yw(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function uk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ck=/^:[\w-]+$/,hk=3,dk=2,fk=1,pk=10,mk=-2,H_=t=>t==="*";function gk(t,e){let n=t.split("/"),r=n.length;return n.some(H_)&&(r+=mk),e&&(r+=dk),n.filter(s=>!H_(s)).reduce((s,a)=>s+(ck.test(a)?hk:a===""?fk:pk),r)}function yk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vk(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ii([a,_.pathname]),pathnameBase:Sk(ii([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=ii([a,_.pathnameBase]))}return l}function Lh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_k(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let R=h[E]||"";l=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[E];return _&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function _k(t,e=!1,n=!0){Dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ek(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Da(t):t;return{pathname:n?n.startsWith("/")?n:Tk(n,e):e,search:Ik(r),hash:kk(s)}}function Tk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _p(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jw(t){let e=xk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zw(t,e,n,r=!1){let s;typeof t=="string"?s=Da(t):(s={...t},at(!s.pathname||!s.pathname.includes("?"),_p("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),_p("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),_p("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=Ek(s,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ii=t=>t.join("/").replace(/\/\/+/g,"/"),Sk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ik=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ak(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var eE=["POST","PUT","PATCH","DELETE"];new Set(eE);var Pk=["GET",...eE];new Set(Pk);var Va=L.createContext(null);Va.displayName="DataRouter";var cd=L.createContext(null);cd.displayName="DataRouterState";L.createContext(!1);var tE=L.createContext({isTransitioning:!1});tE.displayName="ViewTransition";var Ck=L.createContext(new Map);Ck.displayName="Fetchers";var Rk=L.createContext(null);Rk.displayName="Await";var Mr=L.createContext(null);Mr.displayName="Navigation";var ku=L.createContext(null);ku.displayName="Location";var gi=L.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var $m=L.createContext(null);$m.displayName="RouteError";function bk(t,{relative:e}={}){at(Au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Mr),{hash:s,pathname:a,search:l}=Pu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:ii([n,a])),r.createHref({pathname:h,search:l,hash:s})}function Au(){return L.useContext(ku)!=null}function so(){return at(Au(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ku).location}var nE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rE(t){L.useContext(Mr).static||L.useLayoutEffect(t)}function iE(){let{isDataRoute:t}=L.useContext(gi);return t?Hk():Nk()}function Nk(){at(Au(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Va),{basename:e,navigator:n}=L.useContext(Mr),{matches:r}=L.useContext(gi),{pathname:s}=so(),a=JSON.stringify(Jw(r)),l=L.useRef(!1);return rE(()=>{l.current=!0}),L.useCallback((f,p={})=>{if(Dr(l.current,nE),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=Zw(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ii([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}L.createContext(null);function Pu(t,{relative:e}={}){let{matches:n}=L.useContext(gi),{pathname:r}=so(),s=JSON.stringify(Jw(n));return L.useMemo(()=>Zw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Dk(t,e){return sE(t,e)}function sE(t,e,n,r){at(Au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(Mr),{matches:a}=L.useContext(gi),l=a[a.length-1],h=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let F=g&&g.path||"";oE(f,!g||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=so(),E;if(e){let F=typeof e=="string"?Da(e):e;at(p==="/"||F.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=_;let S=E.pathname||"/",R=S;if(p!=="/"){let F=p.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let N=Qw(t,{pathname:R});Dr(g||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Dr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Fk(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:ii([p,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:ii([p,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,n,r);return e&&C?L.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function Vk(){let t=$k(),e=Ak(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,l)}var Lk=L.createElement(Vk,null),Mk=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(gi.Provider,{value:this.props.routeContext},L.createElement($m.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ok({routeContext:t,match:e,children:n}){let r=L.useContext(Va);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(gi.Provider,{value:t},n)}function Fk(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);at(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,h=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:_}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let _,E=!1,S=null,R=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||Lk,l&&(h<0&&g===0?(oE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):h===g&&(E=!0,R=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,g+1)),C=()=>{let F;return _?F=S:E?F=R:p.route.Component?F=L.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,L.createElement(Ok,{match:p,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:F})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?L.createElement(Mk,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}function Hm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jk(t){let e=L.useContext(Va);return at(e,Hm(t)),e}function Uk(t){let e=L.useContext(cd);return at(e,Hm(t)),e}function Bk(t){let e=L.useContext(gi);return at(e,Hm(t)),e}function Wm(t){let e=Bk(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zk(){return Wm("useRouteId")}function $k(){let t=L.useContext($m),e=Uk("useRouteError"),n=Wm("useRouteError");return t!==void 0?t:e.errors?.[n]}function Hk(){let{router:t}=jk("useNavigate"),e=Wm("useNavigate"),n=L.useRef(!1);return rE(()=>{n.current=!0}),L.useCallback(async(s,a={})=>{Dr(n.current,nE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var W_={};function oE(t,e,n){!e&&!W_[t]&&(W_[t]=!0,Dr(!1,n))}L.memo(Wk);function Wk({routes:t,future:e,state:n}){return sE(t,void 0,n,e)}function Yp(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){at(!Au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Da(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,S=L.useMemo(()=>{let R=ui(f,l);return R==null?null:{location:{pathname:R,search:p,hash:g,state:_,key:E},navigationType:r}},[l,f,p,g,_,E,r]);return Dr(S!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(Mr.Provider,{value:h},L.createElement(ku.Provider,{children:e,value:S}))}function Kk({children:t,location:e}){return Dk(Jp(t),e)}function Jp(t,e=[]){let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let a=[...e,s];if(r.type===L.Fragment){n.push.apply(n,Jp(r.props.children,a));return}at(r.type===Yp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Jp(r.props.children,a)),n.push(l)}),n}var wh="get",Eh="application/x-www-form-urlencoded";function hd(t){return t!=null&&typeof t.tagName=="string"}function Gk(t){return hd(t)&&t.tagName.toLowerCase()==="button"}function Qk(t){return hd(t)&&t.tagName.toLowerCase()==="form"}function Xk(t){return hd(t)&&t.tagName.toLowerCase()==="input"}function Yk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jk(t,e){return t.button===0&&(!e||e==="_self")&&!Yk(t)}var ah=null;function Zk(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var eA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(t){return t!=null&&!eA.has(t)?(Dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):t}function tA(t,e){let n,r,s,a,l;if(Qk(t)){let h=t.getAttribute("action");r=h?ui(h,e):null,n=t.getAttribute("method")||wh,s=wp(t.getAttribute("enctype"))||Eh,a=new FormData(t)}else if(Gk(t)||Xk(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?ui(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||wh,s=wp(t.getAttribute("formenctype"))||wp(h.getAttribute("enctype"))||Eh,a=new FormData(h,t),!Zk()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,r=null,s=Eh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nA(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ui(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function rA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sA(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await rA(a,n);return l.links?l.links():[]}return[]}));return uA(r.flat(1).filter(iA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function q_(t,e,n,r,s,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function oA(t,e,{includeHydrateFallback:n}={}){return aA(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function aA(t){return[...new Set(t)]}function lA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uA(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(lA(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function aE(){let t=L.useContext(Va);return qm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cA(){let t=L.useContext(cd);return qm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Km=L.createContext(void 0);Km.displayName="FrameworkContext";function lE(){let t=L.useContext(Km);return qm(t,"You must render this element inside a <HydratedRouter> element"),t}function hA(t,e){let n=L.useContext(Km),[r,s]=L.useState(!1),[a,l]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=F=>{F.forEach(W=>{l(W.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[t]),L.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let S=()=>{s(!0)},R=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Ul(h,S),onBlur:Ul(f,R),onMouseEnter:Ul(p,S),onMouseLeave:Ul(g,R),onTouchStart:Ul(_,S)}]:[!1,E,{}]}function Ul(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dA({page:t,...e}){let{router:n}=aE(),r=L.useMemo(()=>Qw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(pA,{page:t,matches:r,...e}):null}function fA(t){let{manifest:e,routeModules:n}=lE(),[r,s]=L.useState([]);return L.useEffect(()=>{let a=!1;return sA(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function pA({page:t,matches:e,...n}){let r=so(),{manifest:s,routeModules:a}=lE(),{basename:l}=aE(),{loaderData:h,matches:f}=cA(),p=L.useMemo(()=>q_(t,e,f,s,r,"data"),[t,e,f,s,r]),g=L.useMemo(()=>q_(t,e,f,s,r,"assets"),[t,e,f,s,r]),_=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,N=!1;if(e.forEach(F=>{let W=s.routes[F.route.id];!W||!W.hasLoader||(!p.some(q=>q.route.id===F.route.id)&&F.route.id in h&&a[F.route.id]?.shouldRevalidate||W.hasClientLoader?N=!0:R.add(F.route.id))}),R.size===0)return[];let C=nA(t,l,"data");return N&&R.size>0&&C.searchParams.set("_routes",e.filter(F=>R.has(F.route.id)).map(F=>F.route.id).join(",")),[C.pathname+C.search]},[l,h,r,s,p,e,t,a]),E=L.useMemo(()=>oA(g,s),[g,s]),S=fA(g);return L.createElement(L.Fragment,null,_.map(R=>L.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),E.map(R=>L.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),S.map(({key:R,link:N})=>L.createElement("link",{key:R,nonce:n.nonce,...N})))}function mA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uE&&(window.__reactRouterVersion="7.8.0")}catch{}function gA({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=ik({window:n,v5Compat:!0}));let s=r.current,[a,l]=L.useState({action:s.action,location:s.location}),h=L.useCallback(f=>{L.startTransition(()=>l(f))},[l]);return L.useLayoutEffect(()=>s.listen(h),[s,h]),L.createElement(qk,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hE=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_,...E},S){let{basename:R}=L.useContext(Mr),N=typeof p=="string"&&cE.test(p),C,F=!1;if(typeof p=="string"&&N&&(C=p,uE))try{let A=new URL(window.location.href),V=p.startsWith("//")?new URL(A.protocol+p):new URL(p),O=ui(V.pathname,R);V.origin===A.origin&&O!=null?p=O+V.search+V.hash:F=!0}catch{Dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=bk(p,{relative:s}),[q,X,J]=hA(r,E),oe=wA(p,{replace:l,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:_});function D(A){e&&e(A),A.defaultPrevented||oe(A)}let I=L.createElement("a",{...E,...J,href:C||W,onClick:F||a?e:D,ref:mA(S,X),target:f,"data-discover":!N&&n==="render"?"true":void 0});return q&&!N?L.createElement(L.Fragment,null,I,L.createElement(dA,{page:W})):I});hE.displayName="Link";var yA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:h,children:f,...p},g){let _=Pu(l,{relative:p.relative}),E=so(),S=L.useContext(cd),{navigator:R,basename:N}=L.useContext(Mr),C=S!=null&&IA(_)&&h===!0,F=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,W=E.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(W=W.toLowerCase(),q=q?q.toLowerCase():null,F=F.toLowerCase()),q&&N&&(q=ui(q,N)||q);const X=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=W===F||!s&&W.startsWith(F)&&W.charAt(X)==="/",oe=q!=null&&(q===F||!s&&q.startsWith(F)&&q.charAt(F.length)==="/"),D={isActive:J,isPending:oe,isTransitioning:C},I=J?e:void 0,A;typeof r=="function"?A=r(D):A=[r,J?"active":null,oe?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(D):a;return L.createElement(hE,{...p,"aria-current":I,className:A,ref:g,style:V,to:l,viewTransition:h},typeof f=="function"?f(D):f)});yA.displayName="NavLink";var vA=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=wh,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...E},S)=>{let R=xA(),N=SA(h,{relative:p}),C=l.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&cE.test(h),W=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let X=q.nativeEvent.submitter,J=X?.getAttribute("formmethod")||l;R(X||q.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return L.createElement("form",{ref:S,method:C,action:N,onSubmit:r?f:W,...E,"data-discover":!F&&t==="render"?"true":void 0})});vA.displayName="Form";function _A(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dE(t){let e=L.useContext(Va);return at(e,_A(t)),e}function wA(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let h=iE(),f=so(),p=Pu(t,{relative:a});return L.useCallback(g=>{if(Jk(g,e)){g.preventDefault();let _=n!==void 0?n:uu(f)===uu(p);h(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,h,p,n,r,e,t,s,a,l])}var EA=0,TA=()=>`__${String(++EA)}__`;function xA(){let{router:t}=dE("useSubmit"),{basename:e}=L.useContext(Mr),n=zk();return L.useCallback(async(r,s={})=>{let{action:a,method:l,encType:h,formData:f,body:p}=tA(r,e);if(s.navigate===!1){let g=s.fetcherKey||TA();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function SA(t,{relative:e}={}){let{basename:n}=L.useContext(Mr),r=L.useContext(gi);at(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Pu(t||".",{relative:e})},l=so();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ii([n,a.pathname])),uu(a)}function IA(t,{relative:e}={}){let n=L.useContext(tE);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dE("useViewTransitionState"),s=Pu(t,{relative:e});if(!n.isTransitioning)return!1;let a=ui(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ui(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lh(s.pathname,l)!=null||Lh(s.pathname,a)!=null}const kA=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},AA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],h=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,h=l?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;f||(S=64,l||(E=64)),r.push(n[g],n[_],n[E],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new PA;const E=a<<2|h>>4;if(r.push(E),p!==64){const S=h<<4&240|p>>2;if(r.push(S),_!==64){const R=p<<6&192|_;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(t){const e=fE(t);return pE.encodeByteArray(e,!0)},Mh=function(t){return CA(t).replace(/\./g,"")},mE=function(t){try{return pE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=()=>RA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof K_>"u")return;const t=K_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mE(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return kA()||bA()||NA()||DA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gE=t=>dd()?.emulatorHosts?.[t],yE=t=>{const e=gE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vE=()=>dd()?.config,_E=t=>dd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(l)),""].join(".")}const Jl={};function LA(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?t.emulator.push(e):t.prod.push(e);return t}function MA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let G_=!1;function Qm(t,e){if(typeof window>"u"||typeof document>"u"||!hs(window.location.host)||Jl[t]===e||Jl[t]||G_)return;Jl[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=LA().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{G_=!0,l()},E}function g(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=MA(r),S=n("text"),R=document.getElementById(S)||document.createElement("span"),N=n("learnmore"),C=document.getElementById(N)||document.createElement("a"),F=n("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),g(C,N);const X=p();f(W,F),q.append(W,R,C,X),document.body.appendChild(q)}a?(R.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function FA(){const t=dd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zA(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $A(){return!FA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HA(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qA,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?KA(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new Or(s,h,r)}}function KA(t,e){return t.replace(GA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GA=/\{\$([^}]+)}/g;function QA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Q_(a)&&Q_(l)){if(!Zs(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Q_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XA(t,e){const n=new YA(t,e);return n.subscribe.bind(n)}class YA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ep),s.error===void 0&&(s.error=Ep),s.complete===void 0&&(s.complete=Ep);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tP(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eP(t){return t===Ws?void 0:t}function tP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const rP={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},iP=Re.INFO,sP={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},oP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=sP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=iP,this._logHandler=oP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const aP=(t,e)=>e.some(n=>t instanceof n);let X_,Y_;function lP(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uP(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,Zp=new WeakMap,TE=new WeakMap,Tp=new WeakMap,Ym=new WeakMap;function cP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Xi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&EE.set(n,t)}).catch(()=>{}),Ym.set(e,t),e}function hP(t){if(Zp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Zp.set(t,e)}let em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dP(t){em=t(em)}function fP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xp(this),e,...n);return TE.set(r,e.sort?e.sort():[e]),Xi(r)}:uP().includes(t)?function(...e){return t.apply(xp(this),e),Xi(EE.get(this))}:function(...e){return Xi(t.apply(xp(this),e))}}function pP(t){return typeof t=="function"?fP(t):(t instanceof IDBTransaction&&hP(t),aP(t,lP())?new Proxy(t,em):t)}function Xi(t){if(t instanceof IDBRequest)return cP(t);if(Tp.has(t))return Tp.get(t);const e=pP(t);return e!==t&&(Tp.set(t,e),Ym.set(e,t)),e}const xp=t=>Ym.get(t);function mP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),h=Xi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Xi(l.result),f.oldVersion,f.newVersion,Xi(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const gP=["get","getKey","getAll","getAllKeys","count"],yP=["put","add","delete","clear"],Sp=new Map;function J_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=yP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gP.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&f.done]))[0]};return Sp.set(e,a),a}dP(t=>({...t,get:(e,n,r)=>J_(e,n)||t.get(e,n,r),has:(e,n)=>!!J_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_P(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _P(t){return t.getComponent()?.type==="VERSION"}const tm="@firebase/app",Z_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Xm("@firebase/app"),wP="@firebase/app-compat",EP="@firebase/analytics-compat",TP="@firebase/analytics",xP="@firebase/app-check-compat",SP="@firebase/app-check",IP="@firebase/auth",kP="@firebase/auth-compat",AP="@firebase/database",PP="@firebase/data-connect",CP="@firebase/database-compat",RP="@firebase/functions",bP="@firebase/functions-compat",NP="@firebase/installations",DP="@firebase/installations-compat",VP="@firebase/messaging",LP="@firebase/messaging-compat",MP="@firebase/performance",OP="@firebase/performance-compat",FP="@firebase/remote-config",jP="@firebase/remote-config-compat",UP="@firebase/storage",BP="@firebase/storage-compat",zP="@firebase/firestore",$P="@firebase/ai",HP="@firebase/firestore-compat",WP="firebase",qP="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",KP={[tm]:"fire-core",[wP]:"fire-core-compat",[TP]:"fire-analytics",[EP]:"fire-analytics-compat",[SP]:"fire-app-check",[xP]:"fire-app-check-compat",[IP]:"fire-auth",[kP]:"fire-auth-compat",[AP]:"fire-rtdb",[PP]:"fire-data-connect",[CP]:"fire-rtdb-compat",[RP]:"fire-fn",[bP]:"fire-fn-compat",[NP]:"fire-iid",[DP]:"fire-iid-compat",[VP]:"fire-fcm",[LP]:"fire-fcm-compat",[MP]:"fire-perf",[OP]:"fire-perf-compat",[FP]:"fire-rc",[jP]:"fire-rc-compat",[UP]:"fire-gcs",[BP]:"fire-gcs-compat",[zP]:"fire-fst",[HP]:"fire-fst-compat",[$P]:"fire-vertex","fire-js":"fire-js",[WP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,GP=new Map,rm=new Map;function e0(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(rm.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,t);for(const n of cu.values())e0(n,t);for(const n of GP.values())e0(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Cu("app","Firebase",QP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=qP;function xE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:nm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Yi.create("bad-app-name",{appName:String(s)});if(n||(n=vE()),!n)throw Yi.create("no-options");const a=cu.get(s);if(a){if(Zs(n,a.options)&&Zs(r,a.config))return a;throw Yi.create("duplicate-app",{appName:s})}const l=new nP(s);for(const f of rm.values())l.addComponent(f);const h=new XP(n,r,l);return cu.set(s,h),h}function Jm(t=nm){const e=cu.get(t);if(!e&&t===nm&&vE())return xE();if(!e)throw Yi.create("no-app",{appName:t});return e}function t0(){return Array.from(cu.values())}function Sr(t,e,n){let r=KP[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(l.join(" "));return}eo(new ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="firebase-heartbeat-database",JP=1,hu="firebase-heartbeat-store";let Ip=null;function SE(){return Ip||(Ip=mP(YP,JP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function ZP(t){try{const n=(await SE()).transaction(hu),r=await n.objectStore(hu).get(IE(t));return await n.done,r}catch(e){if(e instanceof Or)ci.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e?.message});ci.warn(n.message)}}}async function n0(t,e){try{const r=(await SE()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,IE(t)),await r.done}catch(n){if(n instanceof Or)ci.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n?.message});ci.warn(r.message)}}}function IE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1024,tC=30;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=r0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>tC){const s=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ci.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r0(),{heartbeatsToSend:n,unsentEntries:r}=rC(this._heartbeatsCache.heartbeats),s=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ci.warn(e),""}}}function r0(){return new Date().toISOString().substring(0,10)}function rC(t,e=eC){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),i0(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),i0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HA()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function i0(t){return Mh(JSON.stringify({version:2,heartbeats:t})).length}function sC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){eo(new ns("platform-logger",e=>new vP(e),"PRIVATE")),eo(new ns("heartbeat",e=>new nC(e),"PRIVATE")),Sr(tm,Z_,t),Sr(tm,Z_,"esm2020"),Sr("fire-js","")}oC("");var aC="firebase",lC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(aC,lC,"app");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,kE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function A(){}A.prototype=I.prototype,D.D=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(V,O,B){for(var b=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)b[Be-2]=arguments[Be];return I.prototype[O].apply(V,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,I,A){A||(A=0);var V=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)V[O]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(O=0;16>O;++O)V[O]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],O=D.g[2];var B=D.g[3],b=I+(B^A&(O^B))+V[0]+3614090360&4294967295;I=A+(b<<7&4294967295|b>>>25),b=B+(O^I&(A^O))+V[1]+3905402710&4294967295,B=I+(b<<12&4294967295|b>>>20),b=O+(A^B&(I^A))+V[2]+606105819&4294967295,O=B+(b<<17&4294967295|b>>>15),b=A+(I^O&(B^I))+V[3]+3250441966&4294967295,A=O+(b<<22&4294967295|b>>>10),b=I+(B^A&(O^B))+V[4]+4118548399&4294967295,I=A+(b<<7&4294967295|b>>>25),b=B+(O^I&(A^O))+V[5]+1200080426&4294967295,B=I+(b<<12&4294967295|b>>>20),b=O+(A^B&(I^A))+V[6]+2821735955&4294967295,O=B+(b<<17&4294967295|b>>>15),b=A+(I^O&(B^I))+V[7]+4249261313&4294967295,A=O+(b<<22&4294967295|b>>>10),b=I+(B^A&(O^B))+V[8]+1770035416&4294967295,I=A+(b<<7&4294967295|b>>>25),b=B+(O^I&(A^O))+V[9]+2336552879&4294967295,B=I+(b<<12&4294967295|b>>>20),b=O+(A^B&(I^A))+V[10]+4294925233&4294967295,O=B+(b<<17&4294967295|b>>>15),b=A+(I^O&(B^I))+V[11]+2304563134&4294967295,A=O+(b<<22&4294967295|b>>>10),b=I+(B^A&(O^B))+V[12]+1804603682&4294967295,I=A+(b<<7&4294967295|b>>>25),b=B+(O^I&(A^O))+V[13]+4254626195&4294967295,B=I+(b<<12&4294967295|b>>>20),b=O+(A^B&(I^A))+V[14]+2792965006&4294967295,O=B+(b<<17&4294967295|b>>>15),b=A+(I^O&(B^I))+V[15]+1236535329&4294967295,A=O+(b<<22&4294967295|b>>>10),b=I+(O^B&(A^O))+V[1]+4129170786&4294967295,I=A+(b<<5&4294967295|b>>>27),b=B+(A^O&(I^A))+V[6]+3225465664&4294967295,B=I+(b<<9&4294967295|b>>>23),b=O+(I^A&(B^I))+V[11]+643717713&4294967295,O=B+(b<<14&4294967295|b>>>18),b=A+(B^I&(O^B))+V[0]+3921069994&4294967295,A=O+(b<<20&4294967295|b>>>12),b=I+(O^B&(A^O))+V[5]+3593408605&4294967295,I=A+(b<<5&4294967295|b>>>27),b=B+(A^O&(I^A))+V[10]+38016083&4294967295,B=I+(b<<9&4294967295|b>>>23),b=O+(I^A&(B^I))+V[15]+3634488961&4294967295,O=B+(b<<14&4294967295|b>>>18),b=A+(B^I&(O^B))+V[4]+3889429448&4294967295,A=O+(b<<20&4294967295|b>>>12),b=I+(O^B&(A^O))+V[9]+568446438&4294967295,I=A+(b<<5&4294967295|b>>>27),b=B+(A^O&(I^A))+V[14]+3275163606&4294967295,B=I+(b<<9&4294967295|b>>>23),b=O+(I^A&(B^I))+V[3]+4107603335&4294967295,O=B+(b<<14&4294967295|b>>>18),b=A+(B^I&(O^B))+V[8]+1163531501&4294967295,A=O+(b<<20&4294967295|b>>>12),b=I+(O^B&(A^O))+V[13]+2850285829&4294967295,I=A+(b<<5&4294967295|b>>>27),b=B+(A^O&(I^A))+V[2]+4243563512&4294967295,B=I+(b<<9&4294967295|b>>>23),b=O+(I^A&(B^I))+V[7]+1735328473&4294967295,O=B+(b<<14&4294967295|b>>>18),b=A+(B^I&(O^B))+V[12]+2368359562&4294967295,A=O+(b<<20&4294967295|b>>>12),b=I+(A^O^B)+V[5]+4294588738&4294967295,I=A+(b<<4&4294967295|b>>>28),b=B+(I^A^O)+V[8]+2272392833&4294967295,B=I+(b<<11&4294967295|b>>>21),b=O+(B^I^A)+V[11]+1839030562&4294967295,O=B+(b<<16&4294967295|b>>>16),b=A+(O^B^I)+V[14]+4259657740&4294967295,A=O+(b<<23&4294967295|b>>>9),b=I+(A^O^B)+V[1]+2763975236&4294967295,I=A+(b<<4&4294967295|b>>>28),b=B+(I^A^O)+V[4]+1272893353&4294967295,B=I+(b<<11&4294967295|b>>>21),b=O+(B^I^A)+V[7]+4139469664&4294967295,O=B+(b<<16&4294967295|b>>>16),b=A+(O^B^I)+V[10]+3200236656&4294967295,A=O+(b<<23&4294967295|b>>>9),b=I+(A^O^B)+V[13]+681279174&4294967295,I=A+(b<<4&4294967295|b>>>28),b=B+(I^A^O)+V[0]+3936430074&4294967295,B=I+(b<<11&4294967295|b>>>21),b=O+(B^I^A)+V[3]+3572445317&4294967295,O=B+(b<<16&4294967295|b>>>16),b=A+(O^B^I)+V[6]+76029189&4294967295,A=O+(b<<23&4294967295|b>>>9),b=I+(A^O^B)+V[9]+3654602809&4294967295,I=A+(b<<4&4294967295|b>>>28),b=B+(I^A^O)+V[12]+3873151461&4294967295,B=I+(b<<11&4294967295|b>>>21),b=O+(B^I^A)+V[15]+530742520&4294967295,O=B+(b<<16&4294967295|b>>>16),b=A+(O^B^I)+V[2]+3299628645&4294967295,A=O+(b<<23&4294967295|b>>>9),b=I+(O^(A|~B))+V[0]+4096336452&4294967295,I=A+(b<<6&4294967295|b>>>26),b=B+(A^(I|~O))+V[7]+1126891415&4294967295,B=I+(b<<10&4294967295|b>>>22),b=O+(I^(B|~A))+V[14]+2878612391&4294967295,O=B+(b<<15&4294967295|b>>>17),b=A+(B^(O|~I))+V[5]+4237533241&4294967295,A=O+(b<<21&4294967295|b>>>11),b=I+(O^(A|~B))+V[12]+1700485571&4294967295,I=A+(b<<6&4294967295|b>>>26),b=B+(A^(I|~O))+V[3]+2399980690&4294967295,B=I+(b<<10&4294967295|b>>>22),b=O+(I^(B|~A))+V[10]+4293915773&4294967295,O=B+(b<<15&4294967295|b>>>17),b=A+(B^(O|~I))+V[1]+2240044497&4294967295,A=O+(b<<21&4294967295|b>>>11),b=I+(O^(A|~B))+V[8]+1873313359&4294967295,I=A+(b<<6&4294967295|b>>>26),b=B+(A^(I|~O))+V[15]+4264355552&4294967295,B=I+(b<<10&4294967295|b>>>22),b=O+(I^(B|~A))+V[6]+2734768916&4294967295,O=B+(b<<15&4294967295|b>>>17),b=A+(B^(O|~I))+V[13]+1309151649&4294967295,A=O+(b<<21&4294967295|b>>>11),b=I+(O^(A|~B))+V[4]+4149444226&4294967295,I=A+(b<<6&4294967295|b>>>26),b=B+(A^(I|~O))+V[11]+3174756917&4294967295,B=I+(b<<10&4294967295|b>>>22),b=O+(I^(B|~A))+V[2]+718787259&4294967295,O=B+(b<<15&4294967295|b>>>17),b=A+(B^(O|~I))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var A=I-this.blockSize,V=this.B,O=this.h,B=0;B<I;){if(O==0)for(;B<=A;)s(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<I;)if(V[O++]=D.charCodeAt(B++),O==this.blockSize){s(this,V),O=0;break}}else for(;B<I;)if(V[O++]=D[B++],O==this.blockSize){s(this,V),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var A=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.u(D),D=Array(16),I=A=0;4>I;++I)for(var V=0;32>V;V+=8)D[A++]=this.g[I]>>>V&255;return D};function a(D,I){var A=h;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function l(D,I){this.h=I;for(var A=[],V=!0,O=D.length-1;0<=O;O--){var B=D[O]|0;V&&B==I||(A[O]=B,V=!1)}this.g=A}var h={};function f(D){return-128<=D&&128>D?a(D,function(I){return new l([I|0],0>I?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return C(p(-D));for(var I=[],A=1,V=0;D>=A;V++)I[V]=D/A|0,A*=4294967296;return new l(I,0)}function g(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return C(g(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(I,8)),V=_,O=0;O<D.length;O+=8){var B=Math.min(8,D.length-O),b=parseInt(D.substring(O,O+B),I);8>B?(B=p(Math.pow(I,B)),V=V.j(B).add(p(b))):(V=V.j(A),V=V.add(p(b)))}return V}var _=f(0),E=f(1),S=f(16777216);t=l.prototype,t.m=function(){if(N(this))return-C(this).m();for(var D=0,I=1,A=0;A<this.g.length;A++){var V=this.i(A);D+=(0<=V?V:4294967296+V)*I,I*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(N(this))return"-"+C(this).toString(D);for(var I=p(Math.pow(D,6)),A=this,V="";;){var O=X(A,I).g;A=F(A,O.j(I));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=O,R(A))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=F(this,D),N(D)?-1:R(D)?0:1};function C(D){for(var I=D.g.length,A=[],V=0;V<I;V++)A[V]=~D.g[V];return new l(A,~D.h).add(E)}t.abs=function(){return N(this)?C(this):this},t.add=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],V=0,O=0;O<=I;O++){var B=V+(this.i(O)&65535)+(D.i(O)&65535),b=(B>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=b>>>16,B&=65535,b&=65535,A[O]=b<<16|B}return new l(A,A[A.length-1]&-2147483648?-1:0)};function F(D,I){return D.add(C(I))}t.j=function(D){if(R(this)||R(D))return _;if(N(this))return N(D)?C(this).j(C(D)):C(C(this).j(D));if(N(D))return C(this.j(C(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var I=this.g.length+D.g.length,A=[],V=0;V<2*I;V++)A[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<D.g.length;O++){var B=this.i(V)>>>16,b=this.i(V)&65535,Be=D.i(O)>>>16,pt=D.i(O)&65535;A[2*V+2*O]+=b*pt,W(A,2*V+2*O),A[2*V+2*O+1]+=B*pt,W(A,2*V+2*O+1),A[2*V+2*O+1]+=b*Be,W(A,2*V+2*O+1),A[2*V+2*O+2]+=B*Be,W(A,2*V+2*O+2)}for(V=0;V<I;V++)A[V]=A[2*V+1]<<16|A[2*V];for(V=I;V<2*I;V++)A[V]=0;return new l(A,0)};function W(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function q(D,I){this.g=D,this.h=I}function X(D,I){if(R(I))throw Error("division by zero");if(R(D))return new q(_,_);if(N(D))return I=X(C(D),I),new q(C(I.g),C(I.h));if(N(I))return I=X(D,C(I)),new q(C(I.g),I.h);if(30<D.g.length){if(N(D)||N(I))throw Error("slowDivide_ only works with positive integers.");for(var A=E,V=I;0>=V.l(D);)A=J(A),V=J(V);var O=oe(A,1),B=oe(V,1);for(V=oe(V,2),A=oe(A,2);!R(V);){var b=B.add(V);0>=b.l(D)&&(O=O.add(A),B=b),V=oe(V,1),A=oe(A,1)}return I=F(D,O.j(I)),new q(O,I)}for(O=_;0<=D.l(I);){for(A=Math.max(1,Math.floor(D.m()/I.m())),V=Math.ceil(Math.log(A)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(A),b=B.j(I);N(b)||0<b.l(D);)A-=V,B=p(A),b=B.j(I);R(B)&&(B=E),O=O.add(B),D=F(D,b)}return new q(O,D)}t.A=function(D){return X(this,D).h},t.and=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],V=0;V<I;V++)A[V]=this.i(V)&D.i(V);return new l(A,this.h&D.h)},t.or=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],V=0;V<I;V++)A[V]=this.i(V)|D.i(V);return new l(A,this.h|D.h)},t.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],V=0;V<I;V++)A[V]=this.i(V)^D.i(V);return new l(A,this.h^D.h)};function J(D){for(var I=D.g.length+1,A=[],V=0;V<I;V++)A[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(A,D.h)}function oe(D,I){var A=I>>5;I%=32;for(var V=D.g.length-A,O=[],B=0;B<V;B++)O[B]=0<I?D.i(B+A)>>>I|D.i(B+A+1)<<32-I:D.i(B+A);return new l(O,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ji=l}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AE,Wl,PE,Th,im,CE,RE,bE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var z=c[x];if(!(z in w))break e;w=w[z]}c=c[c.length-1],x=w[c],y=y(x),y!=x&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,x=!1,z={next:function(){if(!x&&w<c.length){var G=w++;return{value:y(G,c[G]),done:!1}}return x=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,x),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function S(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function R(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(x,z,G){for(var ae=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ae[$e-2]=arguments[$e];return y.prototype[z].apply(x,ae)}}function N(c){const y=c.length;if(0<y){const w=Array(y);for(let x=0;x<y;x++)w[x]=c[x];return w}return[]}function C(c,y){for(let w=1;w<arguments.length;w++){const x=arguments[w];if(f(x)){const z=c.length||0,G=x.length||0;c.length=z+G;for(let ae=0;ae<G;ae++)c[z+ae]=x[ae]}else c.push(x)}}class F{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var J=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function oe(c,y,w){for(const x in c)y.call(w,c[x],x,c)}function D(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function I(c){const y={};for(const w in c)y[w]=c[w];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let w,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(w in x)c[w]=x[w];for(let G=0;G<A.length;G++)w=A[G],Object.prototype.hasOwnProperty.call(x,w)&&(c[w]=x[w])}}function O(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function B(c){h.setTimeout(()=>{throw c},0)}function b(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,w){const x=pt.get();x.set(y,w),this.h?this.h.next=x:this.g=x,this.h=x}}var pt=new F(()=>new ct,c=>c.reset());class ct{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,ie=!1,me=new Be,te=()=>{const c=h.Promise.resolve(void 0);xe=()=>{c.then(U)}};var U=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(w){B(w)}var y=pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function Pe(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(J){e:{try{X(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}R(Pe,le);var Ve={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(c,y,w,x,z){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!x,this.ha=z,this.key=++Ue,this.da=this.fa=!1}function bt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fr(c){this.src=c,this.g={},this.h=0}Fr.prototype.add=function(c,y,w,x,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ae=yi(c,y,x,z);return-1<ae?(y=c[ae],w||(y.fa=!1)):(y=new We(y,this.src,G,!!x,z),y.fa=w,c.push(y)),y};function po(c,y){var w=y.type;if(w in c.g){var x=c.g[w],z=Array.prototype.indexOf.call(x,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(x,z,1),G&&(bt(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function yi(c,y,w,x){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==x)return z}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),mo={};function Wa(c,y,w,x,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Wa(c,y[G],w,x,z);return null}return w=Ga(w),c&&c[je]?c.K(y,w,p(x)?!!x.capture:!1,z):qa(c,y,w,!1,x,z)}function qa(c,y,w,x,z,G){if(!y)throw Error("Invalid event type");var ae=p(z)?!!z.capture:!!z,$e=yo(c);if($e||(c[gs]=$e=new Fr(c)),w=$e.add(y,w,x,ae,G),w.proxy)return w;if(x=Wu(),w.proxy=x,x.src=c,x.listener=w,c.addEventListener)Ie||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),x,z);else if(c.attachEvent)c.attachEvent(Ur(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Wu(){function c(w){return y.call(c.src,c.listener,w)}const y=Ka;return c}function go(c,y,w,x,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)go(c,y[G],w,x,z);else x=p(x)?!!x.capture:!!x,w=Ga(w),c&&c[je]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],w=yi(G,w,x,z),-1<w&&(bt(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=yo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yi(y,w,x,z)),(w=-1<c?y[c]:null)&&jr(w))}function jr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[je])po(y.i,c);else{var w=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(w,x,c.capture):y.detachEvent?y.detachEvent(Ur(w),x):y.addListener&&y.removeListener&&y.removeListener(x),(w=yo(y))?(po(w,c),w.h==0&&(w.src=null,y[gs]=null)):bt(c)}}}function Ur(c){return c in mo?mo[c]:mo[c]="on"+c}function Ka(c,y){if(c.da)c=!0;else{y=new Pe(y,this);var w=c.listener,x=c.ha||c.src;c.fa&&jr(c),c=w.call(x,y)}return c}function yo(c){return c=c[gs],c instanceof Fr?c:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ga(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(y){return c.handleEvent(y)}),c[vo])}function xt(){Q.call(this),this.i=new Fr(this),this.M=this,this.F=null}R(xt,Q),xt.prototype[je]=!0,xt.prototype.removeEventListener=function(c,y,w,x){go(this,c,y,w,x)};function St(c,y){var w,x=c.F;if(x)for(w=[];x;x=x.F)w.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var z=y;y=new le(x,c),V(y,z)}if(z=!0,w)for(var G=w.length-1;0<=G;G--){var ae=y.g=w[G];z=Br(ae,x,!0,y)&&z}if(ae=y.g=c,z=Br(ae,x,!0,y)&&z,z=Br(ae,x,!1,y)&&z,w)for(G=0;G<w.length;G++)ae=y.g=w[G],z=Br(ae,x,!1,y)&&z}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],x=0;x<w.length;x++)bt(w[x]);delete c.g[y],c.h--}}this.F=null},xt.prototype.K=function(c,y,w,x){return this.i.add(String(c),y,!1,w,x)},xt.prototype.L=function(c,y,w,x){return this.i.add(String(c),y,!0,w,x)};function Br(c,y,w,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var ae=y[G];if(ae&&!ae.da&&ae.capture==w){var $e=ae.listener,It=ae.ha||ae.src;ae.fa&&po(c.i,ae),z=$e.call(It,x)!==!1&&z}}return z&&!x.defaultPrevented}function Qa(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function vi(c){c.g=Qa(()=>{c.g=null,c.i&&(c.i=!1,vi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ys extends Q{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){Q.call(this),this.h=c,this.g={}}R(vs,Q);var Xa=[];function Ya(c){oe(c.g,function(y,w){this.g.hasOwnProperty(w)&&jr(y)},c),c.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Ya(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ja=h.JSON.stringify,Za=h.JSON.parse,el=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function _s(){}_s.prototype.h=null;function _o(c){return c.h||(c.h=c.i())}function wo(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){le.call(this,"d")}R(cr,le);function Eo(){le.call(this,"c")}R(Eo,le);var hr={},tl=null;function ws(){return tl=tl||new xt}hr.La="serverreachability";function nl(c){le.call(this,hr.La,c)}R(nl,le);function zr(c){const y=ws();St(y,new nl(y))}hr.STAT_EVENT="statevent";function rl(c,y){le.call(this,hr.STAT_EVENT,c),this.stat=y}R(rl,le);function mt(c){const y=ws();St(y,new rl(y,c))}hr.Ma="timingevent";function To(c,y){le.call(this,hr.Ma,c),this.size=y}R(To,le);function $n(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function Ts(c,y,w,x,z,G){c.info(function(){if(c.g)if(G)for(var ae="",$e=G.split("&"),It=0;It<$e.length;It++){var Le=$e[It].split("=");if(1<Le.length){var Nt=Le[0];Le=Le[1];var _t=Nt.split("_");ae=2<=_t.length&&_t[1]=="type"?ae+(Nt+"="+Le+"&"):ae+(Nt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+y+`
`+w+`
`+ae})}function xo(c,y,w,x,z,G,ae){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+y+`
`+w+`
`+G+" "+ae})}function Hn(c,y,w,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bd(c,w)+(x?" "+x:"")})}function il(c,y){c.info(function(){return"TIMEOUT: "+y})}Es.prototype.info=function(){};function Bd(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var x=w[c];if(!(2>x.length)){var z=x[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Ja(w)}catch{return y}}var So={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function xs(){}R(xs,_s),xs.prototype.g=function(){return new XMLHttpRequest},xs.prototype.i=function(){return{}},Wn=new xs;function qn(c,y,w,x){this.j=c,this.i=y,this.l=w,this.R=x||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ku}function Ku(){this.i=null,this.g="",this.h=!1}var sl={},Io={};function ko(c,y,w){c.L=1,c.v=xi(_n(y)),c.m=w,c.P=!0,ol(c,null)}function ol(c,y){c.F=Date.now(),qe(c),c.A=_n(c.v);var w=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Ii(w.i,"t",x),c.C=0,w=c.j.J,c.h=new Ku,c.g=hc(c.j,w?y:null,!c.m),0<c.O&&(c.M=new ys(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,x=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Xa[0]=z.toString()),z=Xa);for(var G=0;G<z.length;G++){var ae=Wa(w,z[G],x||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),zr(),Ts(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const y=this.M;y&&un(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const _t=un(this.g);var y=this.g.Ba();const bn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||dl(this.g)))){this.J||_t!=4||y==7||(y==8||0>=bn?zr(3):zr(2)),Ss(this);var w=this.g.Z();this.X=w;t:if(Gu(this)){var x=dl(this.g);c="";var z=x.length,G=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),_i(this);var ae="";break t}this.h.i=new h.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(G&&y==z-1)});x.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,xo(this.i,this.u,this.A,this.l,this.R,_t,w),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,It=this.g;if(($e=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W($e)){var Le=$e;break t}}Le=null}if(w=Le)Hn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,al(this,w);else{this.o=!1,this.s=3,mt(12),Cn(this),_i(this);break e}}if(this.P){w=!0;let En;for(;!this.J&&this.C<ae.length;)if(En=zd(this,ae),En==Io){_t==4&&(this.s=4,mt(14),w=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==sl){this.s=4,mt(15),Hn(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else Hn(this.i,this.l,En,null),al(this,En);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||ae.length!=0||this.h.h||(this.s=1,mt(16),w=!1),this.o=this.o&&w,!w)Hn(this.i,this.l,ae,"[Invalid Chunked Response]"),Cn(this),_i(this);else if(0<ae.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),pl(Nt),Nt.M=!0,mt(11))}}else Hn(this.i,this.l,ae,null),al(this,ae);_t==4&&Cn(this),this.o&&!this.J&&(_t==4?Oo(this.j,this):(this.o=!1,qe(this)))}else No(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Cn(this),_i(this)}}}catch{}finally{}};function Gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zd(c,y){var w=c.C,x=y.indexOf(`
`,w);return x==-1?Io:(w=Number(y.substring(w,x)),isNaN(w)?sl:(x+=1,x+w>y.length?Io:(y=y.slice(x,x+w),c.C=x+w,y)))}qn.prototype.cancel=function(){this.J=!0,Cn(this)};function qe(c){c.S=Date.now()+c.I,Qu(c,c.I)}function Qu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$n(E(c.ba,c),y)}function Ss(c){c.B&&(h.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(il(this.i,this.A),this.L!=2&&(zr(),mt(17)),Cn(this),this.s=2,_i(this)):Qu(this,this.S-c)};function _i(c){c.j.G==0||c.J||Oo(c.j,c)}function Cn(c){Ss(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ya(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function al(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||nn(w.h,c))){if(!c.K&&nn(w.h,c)&&w.G==3){try{var x=w.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Mo(w),Yn(w);else break e;Lo(w),mt(18)}}else w.za=z[1],0<w.za-w.T&&37500>z[2]&&w.F&&w.v==0&&!w.C&&(w.C=$n(E(w.Za,w),6e3));if(1>=Yu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Kr(w,11)}else if((c.K||w.g==c)&&Mo(w),!W(y))for(z=w.Da.g.parse(y),y=0;y<z.length;y++){let Le=z[y];if(w.T=Le[0],Le=Le[1],w.G==2)if(Le[0]=="c"){w.K=Le[1],w.ia=Le[2];const Nt=Le[3];Nt!=null&&(w.la=Nt,w.j.info("VER="+w.la));const _t=Le[4];_t!=null&&(w.Aa=_t,w.j.info("SVER="+w.Aa));const bn=Le[5];bn!=null&&typeof bn=="number"&&0<bn&&(x=1.5*bn,w.L=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const En=c.g;if(En){const bs=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var G=x.h;G.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ll(G,G.h),G.h=null))}if(x.D){const jo=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(x.ya=jo,He(x.I,x.D,jo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),x=w;var ae=c;if(x.qa=cc(x,x.J?x.ia:null,x.W),ae.K){Ju(x.h,ae);var $e=ae,It=x.L;It&&($e.I=It),$e.B&&(Ss($e),qe($e)),x.g=ae}else Rs(x);0<w.i.length&&mr(w)}else Le[0]!="stop"&&Le[0]!="close"||Kr(w,7);else w.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Kr(w,7):jt(w):Le[0]!="noop"&&w.l&&w.l.ta(Le),w.v=0)}}zr(4)}catch{}}var Xu=class{constructor(c,y){this.g=c,this.map=y}};function Is(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Yu(c){return c.h?1:c.g?c.g.size:0}function nn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ll(c,y){c.g?c.g.add(y):c.h=y}function Ju(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Is.prototype.cancel=function(){if(this.i=Zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return N(c.i)}function Ao(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,x=0;x<w;x++)y.push(c[x]);return y}y=[],w=0;for(x in c)y[w++]=c[x];return y}function Po(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const x in c)y[w++]=x;return y}}}function wi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Po(c),x=Ao(c),z=x.length,G=0;G<z;G++)y.call(void 0,x[G],w&&w[G],c)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $d(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var x=c[w].indexOf("="),z=null;if(0<=x){var G=c[w].substring(0,x);z=c[w].substring(x+1)}else G=c[w];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,As(this,c.j),this.o=c.o,this.g=c.g,Ei(this,c.s),this.l=c.l;var y=c.i,w=new dr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Ti(this,w),this.m=c.m}else c&&(y=String(c).match(ks))?(this.h=!1,As(this,y[1]||"",!0),this.o=De(y[2]||""),this.g=De(y[3]||"",!0),Ei(this,y[4]),this.l=De(y[5]||"",!0),Ti(this,y[6]||"",!0),this.m=De(y[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}$r.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Si(y,Co,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Si(y,Co,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Si(w,w.charAt(0)=="/"?nc:tc,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Si(w,ul)),c.join("")};function _n(c){return new $r(c)}function As(c,y,w){c.j=w?De(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ei(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ti(c,y,w){y instanceof dr?(c.i=y,fr(c.i,c.h)):(w||(y=Si(y,rc)),c.i=new dr(y,c.h))}function He(c,y,w){c.i.set(y,w)}function xi(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,ec),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ec(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,tc=/[#\?:]/g,nc=/[#\?]/g,rc=/[#\?@]/g,ul=/#/g;function dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ft(c){c.g||(c.g=new Map,c.h=0,c.i&&$d(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=dr.prototype,t.add=function(c,y){Ft(this),this.i=null,c=Rn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Kn(c,y){Ft(c),y=Rn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gn(c,y){return Ft(c),y=Rn(c,y),c.g.has(y)}t.forEach=function(c,y){Ft(this),this.g.forEach(function(w,x){w.forEach(function(z){c.call(y,z,x,this)},this)},this)},t.na=function(){Ft(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let x=0;x<y.length;x++){const z=c[x];for(let G=0;G<z.length;G++)w.push(y[x])}return w},t.V=function(c){Ft(this);let y=[];if(typeof c=="string")Gn(this,c)&&(y=y.concat(this.g.get(Rn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Ft(this),this.i=null,c=Rn(this,c),Gn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ii(c,y,w){Kn(c,y),0<w.length&&(c.i=null,c.g.set(Rn(c,y),N(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var x=y[w];const G=encodeURIComponent(String(x)),ae=this.V(x);for(x=0;x<ae.length;x++){var z=G;ae[x]!==""&&(z+="="+encodeURIComponent(String(ae[x]))),c.push(z)}}return this.i=c.join("&")};function Rn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function fr(c,y){y&&!c.j&&(Ft(c),c.i=null,c.g.forEach(function(w,x){var z=x.toLowerCase();x!=z&&(Kn(this,x),Ii(this,z,w))},c)),c.j=y}function Hd(c,y){const w=new Es;if(h.Image){const x=new Image;x.onload=S(ln,w,"TestLoadImage: loaded",!0,y,x),x.onerror=S(ln,w,"TestLoadImage: error",!1,y,x),x.onabort=S(ln,w,"TestLoadImage: abort",!1,y,x),x.ontimeout=S(ln,w,"TestLoadImage: timeout",!1,y,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function ic(c,y){const w=new Es,x=new AbortController,z=setTimeout(()=>{x.abort(),ln(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(G=>{clearTimeout(z),G.ok?ln(w,"TestPingServer: ok",!0,y):ln(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),ln(w,"TestPingServer: error",!1,y)})}function ln(c,y,w,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(w)}catch{}}function Wd(){this.g=new el}function sc(c,y,w){const x=w||"";try{wi(c,function(z,G){let ae=z;p(z)&&(ae=Ja(z)),y.push(x+G+"="+encodeURIComponent(ae))})}catch(z){throw y.push(x+"type="+encodeURIComponent("_badmap")),z}}function Hr(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Hr,_s),Hr.prototype.g=function(){return new Ps(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({});function Ps(c,y){xt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ps,xt),t=Ps.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Xn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function oc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Qn(this):Xn(this),this.readyState==3&&oc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Qn(this))},t.Qa=function(c){this.g&&(this.response=c,Qn(this))},t.ga=function(){this.g&&Qn(this)};function Qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wr(c){let y="";return oe(c,function(w,x){y+=x,y+=":",y+=w,y+=`\r
`}),y}function ki(c,y,w){e:{for(x in w){var x=!1;break e}x=!0}x||(w=Wr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):He(c,y,w))}function tt(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(tt,xt);var qd=/^https?$/i,cl=["POST","PUT"];t=tt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?_o(this.o):_o(Wn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Cs(this,G);return}if(c=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)w.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const G of x.keys())w.set(G,x.get(G));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(cl,y,void 0))||x||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of w)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Cs(this,G)}};function Cs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ro(c),wn(c)}function Ro(c){c.A||(c.A=!0,St(c,"complete"),St(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,St(this,"complete"),St(this,"abort"),wn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hl(this):this.bb())},t.bb=function(){hl(this)};function hl(c){if(c.h&&typeof l<"u"&&(!c.v[1]||un(c)!=4||c.Z()!=2)){if(c.u&&un(c)==4)Qa(c.Ea,0,c);else if(St(c,"readystatechange"),un(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var x;if(x=ae===0){var z=String(c.D).match(ks)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),x=!qd.test(z?z.toLowerCase():"")}w=x}if(w)St(c,"complete"),St(c,"success");else{c.m=6;try{var G=2<un(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ro(c)}}finally{wn(c)}}}}function wn(c,y){if(c.g){bo(c);const w=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||St(c,"ready");try{w.onreadystatechange=x}catch{}}}function bo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function un(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Za(y)}};function dl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function No(c){const y={};c=(c.g&&2<=un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(W(c[x]))continue;var w=O(c[x]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[z]||[];y[z]=G,G.push(w)}D(y,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function fl(c){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,c),this.cb=pr("retryDelaySeedMs",1e4,c),this.Wa=pr("forwardChannelMaxRetries",2,c),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(c&&c.concurrentRequestLimit),this.Da=new Wd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fl.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,x){mt(0),this.W=c,this.H=y||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.I=cc(this,null,this.W),mr(this)};function jt(c){if(Do(c),c.G==3){var y=c.U++,w=_n(c.I);if(He(w,"SID",c.K),He(w,"RID",y),He(w,"TYPE","terminate"),qr(c,w),y=new qn(c,c.j,y),y.L=2,y.v=xi(_n(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=hc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qe(y)}uc(c)}function Yn(c){c.g&&(pl(c),c.g.cancel(),c.g=null)}function Do(c){Yn(c),c.u&&(h.clearTimeout(c.u),c.u=null),Mo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function mr(c){if(!vn(c.h)&&!c.s){c.s=!0;var y=c.Ga;xe||te(),ie||(xe(),ie=!0),me.add(y,c),c.B=0}}function Kd(c,y){return Yu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$n(E(c.Ga,c,y),lc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new qn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=I(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ai(this,z,y),w=_n(this.I),He(w,"RID",c),He(w,"CVER",22),this.D&&He(w,"X-HTTP-Session-Id",this.D),qr(this,w),G&&(this.O?y="headers="+encodeURIComponent(String(Wr(G)))+"&"+y:this.m&&ki(w,this.m,G)),ll(this.h,z),this.Ua&&He(w,"TYPE","init"),this.P?(He(w,"$req",y),He(w,"SID","null"),z.T=!0,ko(z,w,null)):ko(z,w,y),this.G=2}}else this.G==3&&(c?Vo(this,c):this.i.length==0||vn(this.h)||Vo(this))};function Vo(c,y){var w;y?w=y.l:w=c.U++;const x=_n(c.I);He(x,"SID",c.K),He(x,"RID",w),He(x,"AID",c.T),qr(c,x),c.m&&c.o&&ki(x,c.m,c.o),w=new qn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ai(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ll(c.h,w),ko(w,x,y)}function qr(c,y){c.H&&oe(c.H,function(w,x){He(y,x,w)}),c.l&&wi({},function(w,x){He(y,x,w)})}function Ai(c,y,w){w=Math.min(c.i.length,w);var x=c.l?E(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const ae=["count="+w];G==-1?0<w?(G=z[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let $e=!0;for(let It=0;It<w;It++){let Le=z[It].g;const Nt=z[It].map;if(Le-=G,0>Le)G=Math.max(0,z[It].g-100),$e=!1;else try{sc(Nt,ae,"req"+Le+"_")}catch{x&&x(Nt)}}if($e){x=ae.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,x}function Rs(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;xe||te(),ie||(xe(),ie=!0),me.add(y,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$n(E(c.Fa,c),lc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$n(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Yn(this),ac(this))};function pl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function ac(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),qr(c,y),c.m&&c.o&&ki(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=xi(_n(y)),w.m=null,w.P=!0,ol(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Yn(this),Lo(this),mt(19))};function Mo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Oo(c,y){var w=null;if(c.g==y){Mo(c),pl(c),c.g=null;var x=2}else if(nn(c.h,y))w=y.D,Ju(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;x=ws(),St(x,new To(x,w)),mr(c)}else Rs(c);else if(z=y.s,z==3||z==0&&0<y.X||!(x==1&&Kd(c,y)||x==2&&Lo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),z){case 1:Kr(c,5);break;case 4:Kr(c,10);break;case 3:Kr(c,6);break;default:Kr(c,2)}}}function lc(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Kr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),x=c.Xa;const z=!x;x=new $r(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||As(x,"https"),xi(x),z?Hd(x.toString(),w):ic(x.toString(),w)}else mt(2);c.G=0,c.l&&c.l.sa(y),uc(c),Do(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function uc(c){if(c.G=0,c.ka=[],c.l){const y=Zu(c.h);(y.length!=0||c.i.length!=0)&&(C(c.ka,y),C(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function cc(c,y,w){var x=w instanceof $r?_n(w):new $r(w);if(x.g!="")y&&(x.g=y+"."+x.g),Ei(x,x.s);else{var z=h.location;x=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new $r(null);x&&As(G,x),y&&(G.g=y),z&&Ei(G,z),w&&(G.l=w),x=G}return w=c.D,y=c.ya,w&&y&&He(x,w,y),He(x,"VER",c.la),qr(c,x),x}function hc(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new tt(new Hr({eb:w})):new tt(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ml(){}t=ml.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fo(){}Fo.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){xt.call(this),this.g=new fl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}R(rn,xt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){jt(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ja(c),c=w);y.i.push(new Xu(y.Ya++,c)),y.G==3&&mr(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,rn.aa.N.call(this)};function dc(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}R(dc,cr);function fc(){Eo.call(this),this.status=1}R(fc,Eo);function gr(c){this.g=c}R(gr,ml),gr.prototype.ua=function(){St(this.g,"a")},gr.prototype.ta=function(c){St(this.g,new dc(c))},gr.prototype.sa=function(c){St(this.g,new fc)},gr.prototype.ra=function(){St(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,bE=function(){return new Fo},RE=function(){return ws()},CE=hr,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},So.NO_ERROR=0,So.TIMEOUT=8,So.HTTP_ERROR=6,Th=So,qu.COMPLETE="complete",PE=qu,wo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Wl=wo,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,AE=tt}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const o0="@firebase/firestore",a0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Xm("@firebase/firestore");function aa(){return to.logLevel}function ce(t,...e){if(to.logLevel<=Re.DEBUG){const n=e.map(Zm);to.debug(`Firestore (${La}): ${t}`,...n)}}function hi(t,...e){if(to.logLevel<=Re.ERROR){const n=e.map(Zm);to.error(`Firestore (${La}): ${t}`,...n)}}function xa(t,...e){if(to.logLevel<=Re.WARN){const n=e.map(Zm);to.warn(`Firestore (${La}): ${t}`,...n)}}function Zm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,NE(t,r,n)}function NE(t,e,n){let r=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hi(r),new Error(r)}function ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||NE(e,s,r)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class cC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new si,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new si)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new DE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class dC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new l0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mC(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function sm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return kp(s)===kp(a)?be(s,a):kp(s)?1:-1}return be(t.length,e.length)}const gC=55296,yC=57343;function kp(t){const e=t.charCodeAt(0);return e>=gC&&e<=yC}function Sa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="__name__";class Er{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Er.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return be(e.length,n.length)}static compareSegments(e,n){const r=Er.isNumericId(e),s=Er.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Er.extractNumericId(e).compare(Er.extractNumericId(n)):sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class Ye extends Er{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const vC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Er{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return vC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new Ht([u0])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ye.fromString(e))}static fromName(e){return new ye(Ye.fromString(e).popFirst(5))}static empty(){return new ye(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e,n){if(!n)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _C(t,e,n,r){if(e===!0&&r===!0)throw new pe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c0(t){if(!ye.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h0(t){if(ye.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function LE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(t);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!LE(t))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-62135596800,f0=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*f0);return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Tt("string",Je._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Je(0,0))}static max(){return new ke(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function wC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new rs(s,ye.empty(),e)}function EC(t){return new rs(t.readTime,t.key,du)}class rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rs(ke.min(),ye.empty(),du)}static max(){return new rs(ke.max(),ye.empty(),du)}}function TC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==xC)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let s=0,a=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++a,l&&a===s&&n()},f=>r(f))}),l=!0,a===s&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(s=>s?Y.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new Y((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function IC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function md(t){return t==null}function Oh(t){return t===0&&1/t==-1/0}function kC(t){return typeof t=="number"&&Number.isInteger(t)&&!Oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="";function AC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=p0(e)),e=PC(t.get(n),e);return p0(e)}function PC(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case ME:n+="";break;default:n+=a}}return n}function p0(t){return t+ME+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new $t(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new or([])}unionWith(e){let n=new Rt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FE("Invalid base64 string: "+a):a}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const CC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=CC.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="server_timestamp",UE="__type__",BE="__previous_value__",zE="__local_write_time__";function rg(t){return(t?.mapValue?.fields||{})[UE]?.stringValue===jE}function gd(t){const e=t.mapValue.fields[BE];return rg(e)?gd(e):e}function fu(t){const e=is(t.mapValue.fields[zE].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r,s,a,l,h,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Fh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Fh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__type__",bC="__max__",ch={mapValue:{}},HE="__vector__",jh="value";function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:DC(t)?9007199254740991:NC(t)?10:11:Te(28295,{value:t})}function Vr(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=is(s.timestampValue),h=is(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return ss(s.bytesValue).isEqual(ss(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return vt(s.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(s.geoPointValue.longitude)===vt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return vt(s.integerValue)===vt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=vt(s.doubleValue),h=vt(a.doubleValue);return l===h?Oh(l)===Oh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return Sa(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(m0(l)!==m0(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Vr(l[f],h[f])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function mu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;const n=os(t),r=os(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(a,l){const h=vt(a.integerValue||a.doubleValue),f=vt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return y0(t.timestampValue,e.timestampValue);case 4:return y0(fu(t),fu(e));case 5:return sm(t.stringValue,e.stringValue);case 6:return function(a,l){const h=ss(a),f=ss(l);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=be(h[p],f[p]);if(g!==0)return g}return be(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const h=be(vt(a.latitude),vt(l.latitude));return h!==0?h:be(vt(a.longitude),vt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return v0(t.arrayValue,e.arrayValue);case 10:return function(a,l){const h=a.fields||{},f=l.fields||{},p=h[jh]?.arrayValue,g=f[jh]?.arrayValue,_=be(p?.values?.length||0,g?.values?.length||0);return _!==0?_:v0(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===ch.mapValue&&l===ch.mapValue)return 0;if(a===ch.mapValue)return 1;if(l===ch.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=sm(f[_],g[_]);if(E!==0)return E;const S=Ia(h[f[_]],p[g[_]]);if(S!==0)return S}return be(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function y0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=is(t),r=is(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function v0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ia(n[s],r[s]);if(a)return a}return be(n.length,r.length)}function ka(t){return om(t)}function om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=om(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${om(n.fields[l])}`;return s+"}"}(t.mapValue):Te(61005,{value:t})}function xh(t){switch(os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gd(t);return e?16+xh(e):16;case 5:return 2*t.stringValue.length;case 6:return ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+xh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ao(r.fields,(a,l)=>{s+=a.length+xh(l)}),s}(t.mapValue);default:throw Te(13486,{value:t})}}function am(t){return!!t&&"integerValue"in t}function ig(t){return!!t&&"arrayValue"in t}function _0(t){return!!t&&"nullValue"in t}function w0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sh(t){return!!t&&"mapValue"in t}function NC(t){return(t?.mapValue?.fields||{})[$E]?.stringValue===HE}function Zl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(t.arrayValue.values[n]);return e}return{...t}}function DC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Ht.emptyPath(),r={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=h.popLast()}l?r[h.lastSegment()]=Zl(l):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ao(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Bn(Zl(this.value))}}function WE(t){const e=[];return ao(t.fields,(n,r)=>{const s=new Ht([n]);if(Sh(r)){const a=WE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,s,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Zt(e,0,ke.min(),ke.min(),ke.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,s){return new Zt(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new Zt(e,2,n,ke.min(),ke.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ke.min(),ke.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function E0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),n.key):r=Ia(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function VC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{}class Pt extends qE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MC(e,n,r):n==="array-contains"?new jC(e,r):n==="in"?new UC(e,r):n==="not-in"?new BC(e,r):n==="array-contains-any"?new zC(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OC(e,r):new FC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ia(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(Ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends qE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Lr(e,n)}matches(e){return KE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(t){return t.op==="and"}function GE(t){return LC(t)&&KE(t)}function LC(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function lm(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+ka(t.value);if(GE(t))return t.filters.map(e=>lm(e)).join(",");{const e=t.filters.map(n=>lm(n)).join(",");return`${t.op}(${e})`}}function QE(t,e){return t instanceof Pt?function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(t,e):t instanceof Lr?function(r,s){return s instanceof Lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,h)=>a&&QE(l,s.filters[h]),!0):!1}(t,e):void Te(19439)}function XE(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${ka(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(XE).join(" ,")+"}"}(t):"Filter"}class MC extends Pt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class OC extends Pt{constructor(e,n){super(e,"in",n),this.keys=YE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FC extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=YE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YE(t,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class jC extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ig(n)&&mu(n.arrayValue,this.value)}}class UC extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class BC extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class zC extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function x0(t,e=null,n=[],r=[],s=null,a=null,l=null){return new $C(t,e,n,r,s,a,l)}function sg(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),e.Te=n}return e.Te}function og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T0(t.startAt,e.startAt)&&T0(t.endAt,e.endAt)}function um(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n=null,r=[],s=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HC(t,e,n,r,s,a,l,h){return new yd(t,e,n,r,s,a,l,h)}function ag(t){return new yd(t)}function S0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WC(t){return t.collectionGroup!==null}function eu(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Rt(Ht.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Bh(a,r))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new Bh(Ht.keyField(),r))}return e.Ie}function Ir(t){const e=Ae(t);return e.Ee||(e.Ee=qC(e,eu(t))),e.Ee}function qC(t,e){if(t.limitType==="F")return x0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Bh(s.field,a)});const n=t.endAt?new Uh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uh(t.startAt.position,t.startAt.inclusive):null;return x0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cm(t,e,n){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return og(Ir(t),Ir(e))&&t.limitType===e.limitType}function JE(t){return`${sg(Ir(t))}|lt:${t.limitType}`}function la(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>XE(s)).join(", ")}]`),md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ka(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ka(s)).join(",")),`Target(${r})`}(Ir(t))}; limitType=${t.limitType})`}function _d(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of eu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,h,f){const p=E0(l,h,f);return l.inclusive?p<=0:p<0}(r.startAt,eu(r),s)||r.endAt&&!function(l,h,f){const p=E0(l,h,f);return l.inclusive?p>=0:p>0}(r.endAt,eu(r),s))}(t,e)}function KC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZE(t){return(e,n)=>{let r=!1;for(const s of eu(t)){const a=GC(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function GC(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ia(f,p):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new lt(ye.comparator);function fi(){return QC}const eT=new lt(ye.comparator);function ql(...t){let e=eT;for(const n of t)e=e.insert(n.key,n);return e}function tT(t){let e=eT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return tu()}function nT(){return tu()}function tu(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const XC=new lt(ye.comparator),YC=new Rt(ye.comparator);function Ne(...t){let e=YC;for(const n of t)e=e.add(n);return e}const JC=new Rt(be);function ZC(){return JC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function rT(t){return{integerValue:""+t}}function eR(t,e){return kC(e)?rT(e):lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this._=void 0}}function tR(t,e,n){return t instanceof gu?function(s,a){const l={fields:{[UE]:{stringValue:jE},[zE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&rg(a)&&(a=gd(a)),a&&(l.fields[BE]=a),{mapValue:l}}(n,e):t instanceof yu?sT(t,e):t instanceof vu?oT(t,e):function(s,a){const l=iT(s,a),h=I0(l)+I0(s.Ae);return am(l)&&am(s.Ae)?rT(h):lg(s.serializer,h)}(t,e)}function nR(t,e,n){return t instanceof yu?sT(t,e):t instanceof vu?oT(t,e):n}function iT(t,e){return t instanceof zh?function(r){return am(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class gu extends wd{}class yu extends wd{constructor(e){super(),this.elements=e}}function sT(t,e){const n=aT(e);for(const r of t.elements)n.some(s=>Vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class vu extends wd{constructor(e){super(),this.elements=e}}function oT(t,e){let n=aT(e);for(const r of t.elements)n=n.filter(s=>!Vr(s,r));return{arrayValue:{values:n}}}class zh extends wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I0(t){return vt(t.integerValue||t.doubleValue)}function aT(t){return ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.field=e,this.transform=n}}function iR(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yu&&s instanceof yu||r instanceof vu&&s instanceof vu?Sa(r.elements,s.elements,Vr):r instanceof zh&&s instanceof zh?Vr(r.Ae,s.Ae):r instanceof gu&&s instanceof gu}(t.transform,e.transform)}class sR{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ed{}function lT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ug(t.key,lr.none()):new Nu(t.key,t.data,lr.none());{const n=t.data,r=Bn.empty();let s=new Rt(Ht.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new uo(t.key,r,new or(s.toArray()),lr.none())}}function oR(t,e,n){t instanceof Nu?function(s,a,l){const h=s.value.clone(),f=A0(s.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(s,a,l){if(!Ih(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=A0(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(uT(s)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function nu(t,e,n,r){return t instanceof Nu?function(a,l,h,f){if(!Ih(a.precondition,l))return h;const p=a.value.clone(),g=P0(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(a,l,h,f){if(!Ih(a.precondition,l))return h;const p=P0(a.fieldTransforms,f,l),g=l.data;return g.setAll(uT(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,h){return Ih(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function aR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=iT(r.transform,s||null);a!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,a))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Sa(r,s,(a,l)=>iR(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends Ed{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class uo extends Ed{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function uT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function A0(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,nR(l,h,n[s]))}return r}function P0(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,tR(a,l,e))}return r}class ug extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lR extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&oR(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nT();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(s.key)?null:h;const f=lT(l,h);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,r)=>k0(n,r))&&Sa(this.baseMutations,e.baseMutations,(n,r)=>k0(n,r))}}class cg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return XC}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new cg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Me;function dR(t){switch(t){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function cT(t){if(t===void 0)return hi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Et.OK:return Z.OK;case Et.CANCELLED:return Z.CANCELLED;case Et.UNKNOWN:return Z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Z.INTERNAL;case Et.UNAVAILABLE:return Z.UNAVAILABLE;case Et.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Et.NOT_FOUND:return Z.NOT_FOUND;case Et.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Et.ABORTED:return Z.ABORTED;case Et.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Et.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:t})}}(Me=Et||(Et={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new Ji([4294967295,4294967295],0);function C0(t){const e=fR().encode(t),n=new kE;return n.update(e),new Uint8Array(n.digest())}function R0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([s,a],0)]}class hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ji.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ji.fromNumber(r)));return s.compare(pR)===1&&(s=new Ji([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=C0(e),[r,s]=R0(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new hg(a,s,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.ge===0)return;const n=C0(e),[r,s]=R0(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(ke.min(),s,new lt(be),fi(),Ne())}}class Du{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class hT{constructor(e,n){this.targetId=e,this.Ce=n}}class dT{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class b0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:a})}}),new Du(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=N0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mR{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=hh(),this.He=hh(),this.Ye=new lt(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(um(a))if(r===0){const l=new ye(a.path);this.et(n,l,Zt.newNoDocument(l,ke.min()))}else ze(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,h;try{l=ss(r).toUint8Array()}catch(f){if(f instanceof FE)return xa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new hg(l,s,a)}catch(f){return xa(f instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((a,l)=>{const h=this.ot(l);if(h){if(a.current&&um(h.target)){const f=new ye(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Zt.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}});let r=Ne();this.He.forEach((a,l)=>{let h=!0;l.forEachWhile(f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const s=new Td(e,n,this.Ye,this.je,r);return this.je=fi(),this.Je=hh(),this.He=hh(),this.Ye=new lt(be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new b0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Rt(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Rt(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hh(){return new lt(ye.comparator)}function N0(){return new lt(ye.comparator)}const gR={asc:"ASCENDING",desc:"DESCENDING"},yR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vR={and:"AND",or:"OR"};class _R{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hm(t,e){return t.useProto3Json||md(e)?e:{value:e}}function $h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wR(t,e){return $h(t,e.toTimestamp())}function kr(t){return ze(!!t,49232),ke.fromTimestamp(function(n){const r=is(n);return new Je(r.seconds,r.nanos)}(t))}function dg(t,e){return dm(t,e).canonicalString()}function dm(t,e){const n=function(s){return new Ye(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pT(t){const e=Ye.fromString(t);return ze(_T(e),10190,{key:e.toString()}),e}function fm(t,e){return dg(t.databaseId,e.path)}function Ap(t,e){const n=pT(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(gT(n))}function mT(t,e){return dg(t.databaseId,e)}function ER(t){const e=pT(t);return e.length===4?Ye.emptyPath():gT(e)}function pm(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gT(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function D0(t,e,n){return{name:fm(t,e),fields:n.value.mapValue.fields}}function TR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(ze(g===void 0||typeof g=="string",58123),Wt.fromBase64String(g||"")):(ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Wt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?Z.UNKNOWN:cT(p.code);return new pe(g,p.message||"")}(l);n=new dT(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ap(t,r.document.name),a=kr(r.document.updateTime),l=r.document.createTime?kr(r.document.createTime):ke.min(),h=new Bn({mapValue:{fields:r.document.fields}}),f=Zt.newFoundDocument(s,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new kh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ap(t,r.document),a=r.readTime?kr(r.readTime):ke.min(),l=Zt.newNoDocument(s,a),h=r.removedTargetIds||[];n=new kh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ap(t,r.document),a=r.removedTargetIds||[];n=new kh([],a,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new hR(s,a),h=r.targetId;n=new hT(h,l)}}return n}function xR(t,e){let n;if(e instanceof Nu)n={update:D0(t,e.key,e.value)};else if(e instanceof ug)n={delete:fm(t,e.key)};else if(e instanceof uo)n={update:D0(t,e.key,e.data),updateMask:NR(e.fieldMask)};else{if(!(e instanceof lR))return Te(16599,{Vt:e.type});n={verify:fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zh)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:wR(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(t,e.precondition)),n}function SR(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?kr(s.updateTime):kr(a);return l.isEqual(ke.min())&&(l=kr(a)),new sR(l,s.transformResults||[])}(n,e))):[]}function IR(t,e){return{documents:[mT(t,e.path)]}}function kR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mT(t,s);const a=function(p){if(p.length!==0)return vT(Lr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:ua(E.field),direction:CR(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=hm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:s}}function AR(t){let e=ER(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const E=yT(_);return E instanceof Lr&&GE(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(E=>function(R){return new Bh(ca(R.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,md(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(_){const E=!!_.before,S=_.values||[];return new Uh(S,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,S=_.values||[];return new Uh(S,E)}(n.endAt)),HC(e,s,l,a,h,"F",f,p)}function PR(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ca(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ca(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ca(n.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ca(n.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(ca(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>yT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function CR(t){return gR[t]}function RR(t){return yR[t]}function bR(t){return vR[t]}function ua(t){return{fieldPath:t.canonicalString()}}function ca(t){return Ht.fromServerFormat(t.fieldPath)}function vT(t){return t instanceof Pt?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(_0(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(_0(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:RR(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(s=>vT(s));return r.length===1?r[0]:{compositeFilter:{op:bR(n.op),filters:r}}}(t):Te(54877,{filter:t})}function NR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _T(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,s,a=ke.min(),l=ke.min(),h=Wt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.yt=e}}function VR(t){const e=AR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.Cn=new MR}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(rs.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class MR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Rt(Ye.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(wT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Aa(0)}static cr(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LruGarbageCollector",OR=1048576;function M0([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class FR{constructor(e){this.Ir=e,this.buffer=new Rt(M0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(L0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oa(n)?ce(L0,"Ignoring IndexedDB error during garbage collection: ",n):await Ma(n)}await this.Vr(3e5)})}}class UR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(pd.ce);const r=new FR(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(V0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),aa()<=Re.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function BR(t,e){return new UR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&nu(r.mutation,s,or.empty(),Je.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=ql();return a.forEach((h,f)=>{l=l.insert(h,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,s){let a=fi();const l=tu(),h=function(){return tu()}();return n.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof uo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),nu(g.mutation,p,g.mutation.getFieldMask(),Je.now())):l.set(p.key,or.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>h.set(p,new $R(g,l.get(p)??null))),h))}recalculateAndSaveOverlays(e,n){const r=tu();let s=new lt((l,h)=>l-h),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||or.empty();g=h.applyToLocalView(p,g),r.set(f,g);const _=(s.get(h.batchId)||Ne()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,_=nT();g.forEach(E=>{if(!a.has(E)){const S=lT(n.get(E),r.get(E));S!==null&&_.set(E,S),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):Y.resolve(Gs());let h=du,f=a;return l.next(p=>Y.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ne())).next(g=>({batchId:h,changes:tT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=ql();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=ql();return this.indexManager.getCollectionParents(e,a).next(h=>Y.forEach(h,f=>{const p=function(_,E){return new yd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Zt.newInvalidDocument(g)))});let h=ql();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&nu(g.mutation,p,or.empty(),Je.now()),_d(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kr(s.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:VR(s.bundledQuery),readTime:kr(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.overlays=new lt(ye.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return Y.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const s=Gs(),a=n.length+1,l=new ye(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new lt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Gs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return Y.resolve(h)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cR(n,r));let a=this.qr.get(n);a===void 0&&(a=Ne(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Qr=new Rt(Mt.$r),this.Ur=new Rt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ye(new Ye([])),r=new Mt(n,e),s=new Mt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new Ye([])),r=new Mt(n,e),s=new Mt(n,e+1);let a=Ne();return this.Ur.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Mt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new uR(a,n,r,s);this.mutationQueue.push(l);for(const h of s)this.Zr=this.Zr.add(new Mt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?ng:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),s=new Mt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],l=>{const h=this.Xr(l.Yr);a.push(h)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(be);return n.forEach(s=>{const a=new Mt(s,0),l=new Mt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],h=>{r=r.add(h.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const l=new Mt(new ye(a),0);let h=new Rt(be);return this.Zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Yr)),!0)},l),Y.resolve(this.ti(h))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,s=>{const a=new Mt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Mt(n,0),s=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.ri=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zt.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=fi();const l=n.path,h=new ye(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||TC(EC(g),r)<=0||(s.has(g.key)||_d(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Te(9500)}ii(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XR(this)}getSize(e){return Y.resolve(this.size)}}class XR extends zR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.persistence=e,this.si=new lo(n=>sg(n),og),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=Aa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Y.waitFor(a).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.ui={},this.overlays={},this.ci=new pd(0),this.li=!1,this.li=!0,this.hi=new KR,this.referenceDelegate=e(this),this.Pi=new YR(this),this.indexManager=new LR,this.remoteDocumentCache=function(s){return new QR(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new DR(n),this.Ii=new WR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new GR(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new JR(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,n){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class JR extends SC{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const s=ye.fromPath(r);return this.gi(e,s).next(a=>{a||n.removeEntry(s,ke.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.pi=new lo(r=>AC(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=BR(this,n)}static mi(e,n){return new Hh(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Y.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?Y.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(h=>{h||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xh(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Y.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ne(),s=Ne();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new mg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $A()?8:IC(tn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new ZR;return this.Ss(e,n,l).next(h=>{if(a.result=h,this.Vs)return this.bs(e,n,l,h.size)})}).next(()=>a.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(aa()<=Re.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",la(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(aa()<=Re.DEBUG&&ce("QueryEngine","Query:",la(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(aa()<=Re.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",la(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(n))):Y.resolve())}ys(e,n){if(S0(n))return Y.resolve(null);let r=Ir(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=cm(n,null,"F"),r=Ir(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ne(...a);return this.ps.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Ds(n,h);return this.Cs(n,p,l,f.readTime)?this.ys(e,cm(n,null,"F")):this.vs(e,p,n,f)}))})))}ws(e,n,r,s){return S0(n)||s.isEqual(ke.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?Y.resolve(null):(aa()<=Re.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),la(n)),this.vs(e,l,n,wC(s,du)).next(h=>h))})}Ds(e,n){let r=new Rt(ZE(e));return n.forEach((s,a)=>{_d(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return aa()<=Re.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",la(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",t4=3e8;class n4{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new lt(be),this.xs=new lo(a=>sg(a),og),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function r4(t,e,n,r){return new n4(t,e,n,r)}async function TT(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let f=Ne();for(const p of s){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Ls:p,removedBatchIds:l,addedBatchIds:h}))})})}function i4(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(h,f,p,g){const _=p.batch,E=_.keys();let S=Y.resolve();return E.forEach(R=>{S=S.next(()=>g.getEntry(f,R)).next(N=>{const C=p.docVersions.get(R);ze(C!==null,48541),N.version.compareTo(C)<0&&(_.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),g.addEntry(N)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ne();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function xT(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function s4(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const h=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Pi.addMatchingKeys(a,g.addedDocuments,_)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Wt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(_,S),function(N,C,F){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=t4?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,S,g)&&h.push(n.Pi.updateTargetData(a,S))});let f=fi(),p=Ne();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(o4(a,l,e.documentUpdates).next(g=>{f=g.ks,p=g.qs})),!r.isEqual(ke.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next(_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return Y.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ms=s,a))}function o4(t,e,n){let r=Ne(),s=Ne();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=fi();return n.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):ce(gg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{ks:l,qs:s}})}function a4(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l4(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(a=>a?(s=a,Y.resolve(s)):n.Pi.allocateTargetId(r).next(l=>(s=new Qi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function mm(t,e,n){const r=Ae(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Oa(l))throw l;ce(gg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function O0(t,e,n){const r=Ae(t);let s=ke.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=Ae(f),E=_.xs.get(g);return E!==void 0?Y.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,g)}(r,l,Ir(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:ke.min(),n?a:Ne())).next(h=>(u4(r,KC(e),h),{documents:h,Qs:a})))}function u4(t,e,n){let r=t.Os.get(e)||ke.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class F0{constructor(){this.activeTargetIds=ZC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c4{constructor(){this.Mo=new F0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new F0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(j0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(j0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function gm(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",d4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Fh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=gm(),h=this.zo(e,n.toUriEncodedString());ce(Pp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(h),g=hs(p);return this.Jo(e,h,f,r,g).then(_=>(ce(Pp,`Received RPC '${e}' ${l}: `,_),_),_=>{throw xa(Pp,`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_})}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,n){const r=d4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class m4 extends f4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=gm();return new Promise((h,f)=>{const p=new AE;p.setWithCredentials(!0),p.listenOnce(PE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Th.NO_ERROR:const _=p.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case Th.TIMEOUT:ce(Xt,`RPC '${e}' ${l} timed out`),f(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const E=p.getStatus();if(ce(Xt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const N=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN}(R.status);f(new pe(N,R.message))}else f(new pe(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);ce(Xt,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)})}T_(e,n,r){const s=gm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=bE(),h=RE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(Xt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=l.createWebChannel(g,f);this.I_(_);let E=!1,S=!1;const R=new p4({Yo:C=>{S?ce(Xt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(ce(Xt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ce(Xt,`RPC '${e}' stream ${s} sending:`,C),_.send(C))},Zo:()=>_.close()}),N=(C,F,W)=>{C.listen(F,q=>{try{W(q)}catch(X){setTimeout(()=>{throw X},0)}})};return N(_,Wl.EventType.OPEN,()=>{S||(ce(Xt,`RPC '${e}' stream ${s} transport opened.`),R.o_())}),N(_,Wl.EventType.CLOSE,()=>{S||(S=!0,ce(Xt,`RPC '${e}' stream ${s} transport closed`),R.a_(),this.E_(_))}),N(_,Wl.EventType.ERROR,C=>{S||(S=!0,xa(Xt,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),R.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),N(_,Wl.EventType.MESSAGE,C=>{if(!S){const F=C.data[0];ze(!!F,16349);const W=F,q=W?.error||W[0]?.error;if(q){ce(Xt,`RPC '${e}' stream ${s} received error:`,q);const X=q.status;let J=function(I){const A=Et[I];if(A!==void 0)return cT(A)}(X),oe=q.message;J===void 0&&(J=Z.INTERNAL,oe="Unknown error status: "+X+" with message "+q.message),S=!0,R.a_(new pe(J,oe)),_.close()}else ce(Xt,`RPC '${e}' stream ${s} received:`,F),R.u_(F)}}),N(h,CE.STAT_EVENT,C=>{C.stat===im.PROXY?ce(Xt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===im.NOPROXY&&ce(Xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){return new _R(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="PersistentStream";class IT{constructor(e,n,r,s,a,l,h,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ST(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new pe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(B0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g4 extends IT{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TR(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?kr(l.readTime):ke.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(a,l){let h;const f=l.target;if(h=um(f)?{documents:IR(a,f)}:{query:kR(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=fT(a,l.resumeToken);const p=hm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){h.readTime=$h(a,l.snapshotVersion.toTimestamp());const p=hm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=PR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.q_(n)}}class y4 extends IT{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SR(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xR(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{}class _4 extends v4{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,dm(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Z.UNKNOWN,a.toString())})}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Ho(e,dm(n,r),s,l,h,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(Z.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class w4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="RemoteStore";class E4{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{co(this)&&(ce(no,"Restarting streams for network reachability change."),await async function(f){const p=Ae(f);p.Ea.add(4),await Vu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Sd(p)}(this))})}),this.Ra=new w4(r,s)}}async function Sd(t){if(co(t))for(const e of t.da)await e(!0)}async function Vu(t){for(const e of t.da)await e(!1)}function kT(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wg(n)?_g(n):Fa(n).O_()&&vg(n,e))}function yg(t,e){const n=Ae(t),r=Fa(n);n.Ia.delete(e),r.O_()&&AT(n,e),n.Ia.size===0&&(r.O_()?r.L_():co(n)&&n.Ra.set("Unknown"))}function vg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fa(t).Y_(e)}function AT(t,e){t.Va.Ue(e),Fa(t).Z_(e)}function _g(t){t.Va=new mR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fa(t).start(),t.Ra.ua()}function wg(t){return co(t)&&!Fa(t).x_()&&t.Ia.size>0}function co(t){return Ae(t).Ea.size===0}function PT(t){t.Va=void 0}async function T4(t){t.Ra.set("Online")}async function x4(t){t.Ia.forEach((e,n)=>{vg(t,e)})}async function S4(t,e){PT(t),wg(t)?(t.Ra.ha(e),_g(t)):t.Ra.set("Unknown")}async function I4(t,e,n){if(t.Ra.set("Online"),e instanceof dT&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const h of a.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.Ia.delete(h),s.Va.removeTarget(h))}(t,e)}catch(r){ce(no,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wh(t,r)}else if(e instanceof kh?t.Va.Ze(e):e instanceof hT?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const r=await xT(t.localStore);n.compareTo(r)>=0&&await function(a,l){const h=a.Va.Tt(l);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,l))}}),h.targetMismatches.forEach((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),AT(a,f);const _=new Qi(g.target,f,p,g.sequenceNumber);vg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){ce(no,"Failed to raise snapshot:",r),await Wh(t,r)}}async function Wh(t,e,n){if(!Oa(e))throw e;t.Ea.add(1),await Vu(t),t.Ra.set("Offline"),n||(n=()=>xT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(no,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sd(t)})}function CT(t,e){return e().catch(n=>Wh(t,n,e))}async function Id(t){const e=Ae(t),n=as(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ng;for(;k4(e);)try{const s=await a4(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,A4(e,s)}catch(s){await Wh(e,s)}RT(e)&&bT(e)}function k4(t){return co(t)&&t.Ta.length<10}function A4(t,e){t.Ta.push(e);const n=as(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RT(t){return co(t)&&!as(t).x_()&&t.Ta.length>0}function bT(t){as(t).start()}async function P4(t){as(t).ra()}async function C4(t){const e=as(t);for(const n of t.Ta)e.ea(n.mutations)}async function R4(t,e,n){const r=t.Ta.shift(),s=cg.from(r,e,n);await CT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Id(t)}async function b4(t,e){e&&as(t).X_&&await async function(r,s){if(function(l){return dR(l)&&l!==Z.ABORTED}(s.code)){const a=r.Ta.shift();as(r).B_(),await CT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Id(r)}}(t,e),RT(t)&&bT(t)}async function z0(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce(no,"RemoteStore received new credentials");const r=co(n);n.Ea.add(3),await Vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sd(n)}async function N4(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Sd(n)):e||(n.Ea.add(2),await Vu(n),n.Ra.set("Unknown"))}function Fa(t){return t.ma||(t.ma=function(n,r,s){const a=Ae(n);return a.sa(),new g4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:T4.bind(null,t),t_:x4.bind(null,t),r_:S4.bind(null,t),H_:I4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),wg(t)?_g(t):t.Ra.set("Unknown")):(await t.ma.stop(),PT(t))})),t.ma}function as(t){return t.fa||(t.fa=function(n,r,s){const a=Ae(n);return a.sa(),new y4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:P4.bind(null,t),r_:b4.bind(null,t),ta:C4.bind(null,t),na:R4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(no,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,h=new Eg(e,n,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Oa(t))return new pe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=ql(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.ga=new lt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,s,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Pa(e,n,va.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class V4{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ae(n),a=s.queries;s.queries=H0(),a.forEach((l,h)=>{for(const f of h.Sa)f.onError(r)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function H0(){return new lo(t=>JE(t),vd)}async function NT(t,e){const n=Ae(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new D4,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const h=Tg(l,`Initialization of query '${la(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&xg(n)}async function DT(t,e){const n=Ae(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L4(t,e){const n=Ae(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const h of l.Sa)h.Fa(s)&&(r=!0);l.wa=s}}r&&xg(n)}function M4(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function xg(t){t.Ca.forEach(e=>{e.next()})}var ym,W0;(W0=ym||(ym={})).Ma="default",W0.Cache="cache";class VT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.key=e}}class MT{constructor(e){this.key=e}}class O4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=ZE(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $0,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),S=_d(this.query,_)?_:null,R=!!E&&this.mutatedKeys.has(E.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;E&&S?E.data.isEqual(S.data)?R!==N&&(r.track({type:3,doc:S}),C=!0):this.su(E,S)||(r.track({type:2,doc:S}),C=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(h=!0)):!E&&S?(r.track({type:0,doc:S}),C=!0):E&&!S&&(r.track({type:1,doc:E}),C=!0,(f||p)&&(h=!0)),C&&(S?(l=l.add(S),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((g,_)=>function(S,R){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:C})}};return N(S)-N(R)}(g.type,_.type)||this.eu(g.doc,_.doc)),this.ou(r),s=s??!1;const h=n&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Pa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new MT(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new LT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class F4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class j4{constructor(e){this.key=e,this.hu=!1}}class U4{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new lo(h=>JE(h),vd),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ye.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=Aa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B4(t,e,n=!0){const r=zT(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await OT(r,e,n,!0),s}async function z4(t,e){const n=zT(t);await OT(n,e,!0,!1)}async function OT(t,e,n,r){const s=await l4(t.localStore,Ir(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await $4(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&kT(t.remoteStore,s),h}async function $4(t,e,n,r,s){t.pu=(_,E,S)=>async function(N,C,F,W){let q=C.view.ru(F);q.Cs&&(q=await O0(N.localStore,C.query,!1).then(({documents:D})=>C.view.ru(D,q)));const X=W&&W.targetChanges.get(C.targetId),J=W&&W.targetMismatches.get(C.targetId)!=null,oe=C.view.applyChanges(q,N.isPrimaryClient,X,J);return K0(N,C.targetId,oe.au),oe.snapshot}(t,_,E,S);const a=await O0(t.localStore,e,!0),l=new O4(e,a.Qs),h=l.ru(a.documents),f=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(h,t.isPrimaryClient,f);K0(t,n,p.au);const g=new F4(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function H4(t,e,n){const r=Ae(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(l=>!vd(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&yg(r.remoteStore,s.targetId),vm(r,s.targetId)}).catch(Ma)):(vm(r,s.targetId),await mm(r.localStore,s.targetId,!0))}async function W4(t,e){const n=Ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function q4(t,e,n){const r=Z4(t);try{const s=await function(l,h){const f=Ae(l),p=Je.now(),g=h.reduce((S,R)=>S.add(R.key),Ne());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=fi(),N=Ne();return f.Ns.getEntries(S,g).next(C=>{R=C,R.forEach((F,W)=>{W.isValidDocument()||(N=N.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,R)).next(C=>{_=C;const F=[];for(const W of h){const q=aR(W,_.get(W.key).overlayedDocument);q!=null&&F.push(new uo(W.key,q,WE(q.value.mapValue),lr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,F,h)}).next(C=>{E=C;const F=C.applyToLocalDocumentSet(_,N);return f.documentOverlayCache.saveOverlays(S,C.batchId,F)})}).then(()=>({batchId:E.batchId,changes:tT(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,h,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new lt(be)),p=p.insert(h,f),l.Vu[l.currentUser.toKey()]=p}(r,s.batchId,n),await Lu(r,s.changes),await Id(r.remoteStore)}catch(s){const a=Tg(s,"Failed to persist write");n.reject(a)}}async function FT(t,e){const n=Ae(t);try{const r=await s4(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Au.get(a);l&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ze(l.hu,14607):s.removedDocuments.size>0&&(ze(l.hu,42227),l.hu=!1))}),await Lu(n,r,e)}catch(r){await Ma(r)}}function q0(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((a,l)=>{const h=l.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const f=Ae(l);f.onlineState=h;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)}),p&&xg(f)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K4(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new lt(ye.comparator);l=l.insert(a,Zt.newNoDocument(a,ke.min()));const h=Ne().add(a),f=new Td(ke.min(),new Map,new lt(be),l,h);await FT(r,f),r.du=r.du.remove(a),r.Au.delete(e),Ig(r)}else await mm(r.localStore,e,!1).then(()=>vm(r,e,n)).catch(Ma)}async function G4(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await i4(n.localStore,e);UT(n,r,null),jT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,s)}catch(s){await Ma(s)}}async function Q4(t,e,n){const r=Ae(t);try{const s=await function(l,h){const f=Ae(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(ze(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);UT(r,e,n),jT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lu(r,s)}catch(s){await Ma(s)}}function jT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function UT(t,e,n){const r=Ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||BT(t,r)})}function BT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ig(t))}function K0(t,e,n){for(const r of n)r instanceof LT?(t.Ru.addReference(r.key,e),X4(t,r)):r instanceof MT?(ce(Sg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||BT(t,r.key)):Te(19791,{wu:r})}function X4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(Sg,"New document in limbo: "+n),t.Eu.add(r),Ig(t))}function Ig(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Ye.fromString(e)),r=t.fu.next();t.Au.set(r,new j4(n)),t.du=t.du.insert(n,r),kT(t.remoteStore,new Qi(Ir(ag(n.path)),r,"TargetPurposeLimboResolution",pd.ce))}}async function Lu(t,e,n){const r=Ae(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((h,f)=>{l.push(r.pu(f,e,n).then(p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){s.push(p);const g=mg.As(f.targetId,p);a.push(g)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(f,p){const g=Ae(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Y.forEach(p,E=>Y.forEach(E.Es,S=>g.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>Y.forEach(E.ds,S=>g.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!Oa(_))throw _;ce(gg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=g.Ms.get(E),R=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(R);g.Ms=g.Ms.insert(E,N)}}}(r.localStore,a))}async function Y4(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce(Sg,"User change. New user:",e.toKey());const r=await TT(n.localStore,e);n.currentUser=e,function(a,l){a.mu.forEach(h=>{h.forEach(f=>{f.reject(new pe(Z.CANCELLED,l))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lu(n,r.Ls)}}function J4(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const h=n.Tu.get(l);s=s.unionWith(h.view.nu)}return s}}function zT(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K4.bind(null,e),e.Pu.H_=L4.bind(null,e.eventManager),e.Pu.yu=M4.bind(null,e.eventManager),e}function Z4(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q4.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return r4(this.persistence,new e4,e.initialUser,this.serializer)}Cu(e){return new ET(pg.mi,this.serializer)}Du(e){return new c4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class eb extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ze(this.persistence.referenceDelegate instanceof Hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new ET(r=>Hh.mi(r,n),this.serializer)}}class _m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y4.bind(null,this.syncEngine),await N4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V4}()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),r=function(a){return new m4(a)}(e.databaseInfo);return function(a,l,h,f){return new _4(a,l,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,h){return new E4(r,s,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>q0(this.syncEngine,n,0),function(){return U0.v()?new U0:new h4}())}createSyncEngine(e,n){return function(s,a,l,h,f,p,g){const _=new U4(s,a,l,h,f,p);return g&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Ae(n);ce(no,"RemoteStore shutting down."),r.Ea.add(5),await Vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class tb{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ce(ls,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce(ls,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rp(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ls,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await TT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nb(t);ce(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>z0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>z0(e.remoteStore,s)),t._onlineComponents=e}async function nb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ls,"Using user provided OfflineComponentProvider");try{await Rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await Rp(t,new qh)}}else ce(ls,"Using default OfflineComponentProvider"),await Rp(t,new eb(void 0));return t._offlineComponents}async function HT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ls,"Using user provided OnlineComponentProvider"),await G0(t,t._uninitializedComponentsProvider._online)):(ce(ls,"Using default OnlineComponentProvider"),await G0(t,new _m))),t._onlineComponents}function rb(t){return HT(t).then(e=>e.syncEngine)}async function WT(t){const e=await HT(t),n=e.eventManager;return n.onListen=B4.bind(null,e.syncEngine),n.onUnlisten=H4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W4.bind(null,e.syncEngine),n}function ib(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,h,f,p){const g=new $T({next:E=>{g.Nu(),l.enqueueAndForget(()=>DT(a,_));const S=E.docs.has(h);!S&&E.fromCache?p.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?p.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new VT(ag(h.path),g,{includeMetadataChanges:!0,qa:!0});return NT(a,_)}(await WT(t),t.asyncQueue,e,n,r)),r.promise}function sb(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,h,f,p){const g=new $T({next:E=>{g.Nu(),l.enqueueAndForget(()=>DT(a,_)),E.fromCache&&f.source==="server"?p.reject(new pe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new VT(h,g,{includeMetadataChanges:!0,qa:!0});return NT(a,_)}(await WT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firestore.googleapis.com",X0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KT,this.ssl=X0}else this.host=e.host,this.ssl=e.ssl??X0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OR)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uC;switch(r.type){case"firstParty":return new fC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q0.get(n);r&&(ce("ComponentProvider","Removing Datastore"),Q0.delete(n),r.terminate())}(this),Promise.resolve()}}function ob(t,e,n,r={}){t=di(t,kd);const s=hs(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(Gm(`https://${h}`),Qm("Firestore",!0)),a.host!==KT&&a.host!==h&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:s,emulatorOptions:r};if(!Zs(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Jt.MOCK_USER;else{p=wE(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jt(_)}t._authCredentials=new cC(new DE(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ad(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,Ct._jsonSchema))return new Ct(e,r||null,new ye(Ye.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Tt("string",Ct._jsonSchemaVersion),referencePath:Tt("string")};class Zi extends Ad{constructor(e,n,r){super(e,n,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ye(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function ab(t,e,...n){if(t=Ot(t),VE("collection","path",e),t instanceof kd){const r=Ye.fromString(e,...n);return h0(r),new Zi(t,null,r)}{if(!(t instanceof Ct||t instanceof Zi))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return h0(r),new Zi(t.firestore,null,r)}}function GT(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=eg.newId()),VE("doc","path",e),t instanceof kd){const r=Ye.fromString(e,...n);return c0(r),new Ct(t,null,new ye(r))}{if(!(t instanceof Ct||t instanceof Zi))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return c0(r),new Ct(t.firestore,t instanceof Zi?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ST(this,"async_queue_retry"),this._c=()=>{const r=Cp();r&&ce(J0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oa(e))throw e;ce(J0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",e1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Eg.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:e1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function e1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ja extends kd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Z0,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function lb(t,e){const n=typeof t=="object"?t:Jm(),r=typeof t=="string"?t:Fh,s=fd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=yE("firestore");a&&ob(s,...a)}return s}function kg(t){if(t._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ub(t),t._firestoreClient}function ub(t){const e=t._freezeSettings(),n=function(s,a,l,h){return new RC(s,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new tb(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Wt.fromBase64String(e))}catch(n){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Tt("string",zn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:Tt("string",Ar._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Pr(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:Tt("string",Pr._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=/^__.*__$/;class hb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function QT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class Cg{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QT(this.Ac)&&cb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class db{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xd(e)}Cc(e,n,r,s=!1){return new Cg({Ac:e,methodName:n,Dc:r,path:Ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XT(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new db(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YT(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);t2("Data must be an object, but it was:",l,r);const h=ZT(r,l);let f,p;if(a.merge)f=new or(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=fb(e,_,n);if(!l.contains(E))throw new pe(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);mb(g,E)||g.push(E)}f=new or(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new hb(new Bn(h),f,p)}class Rg extends Pg{_toFieldTransform(e){return new rR(e.path,new gu)}isEqual(e){return e instanceof Rg}}function JT(t,e){if(e2(t=Ot(t)))return t2("Unsupported field value:",e,t),ZT(t,e);if(t instanceof Pg)return function(r,s){if(!QT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const h of r){let f=JT(h,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Je.fromDate(r);return{timestampValue:$h(s.serializer,a)}}if(r instanceof Je){const a=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$h(s.serializer,a)}}if(r instanceof Ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:fT(s.serializer,r._byteString)};if(r instanceof Ct){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pr)return function(l,h){return{mapValue:{fields:{[$E]:{stringValue:HE},[jh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return lg(h.serializer,p)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${tg(r)}`)}(t,e)}function ZT(t,e){const n={};return OE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,(r,s)=>{const a=JT(s,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function e2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Ar||t instanceof zn||t instanceof Ct||t instanceof Pg||t instanceof Pr)}function t2(t,e,n){if(!e2(n)||!LE(n)){const r=tg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function fb(t,e,n){if((e=Ot(e))instanceof Ag)return e._internalPath;if(typeof e=="string")return n2(t,e);throw Kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const pb=new RegExp("[~\\*/\\[\\]]");function n2(t,e,n){if(e.search(pb)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ag(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new pe(Z.INVALID_ARGUMENT,h+t+f)}function mb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gb extends r2{data(){return super.data()}}function i2(t,e){return typeof e=="string"?n2(t,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vb{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map(r=>vt(r.doubleValue));return new Pr(n)}convertGeoPoint(e){return new Ar(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=is(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);ze(_T(r),9688,{name:e});const s=new pu(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return s.isEqual(n)||hi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends r2{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Tt("string",Xs._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class Ah extends Xs{data(e={}){return super.data(e)}}class _a{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const f=new Ah(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Gl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Ah(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Gl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:_b(h.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _b(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){t=di(t,Ct);const e=di(t.firestore,ja);return ib(kg(e),t._key).then(n=>Tb(e,t,n))}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Tt("string",_a._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class o2 extends vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Eb(t){t=di(t,Ad);const e=di(t.firestore,ja),n=kg(e),r=new o2(e);return yb(t._query),sb(n,t._query).then(s=>new _a(e,r,t,s))}function PM(t,e,n){t=di(t,Ct);const r=di(t.firestore,ja),s=s2(t.converter,e,n);return bg(r,[YT(XT(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,lr.none())])}function CM(t){return bg(di(t.firestore,ja),[new ug(t._key,lr.none())])}function RM(t,e){const n=di(t.firestore,ja),r=GT(t),s=s2(t.converter,e);return bg(n,[YT(XT(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function bg(t,e){return function(r,s){const a=new si;return r.asyncQueue.enqueueAndForget(async()=>q4(await rb(r),s,a)),a.promise}(kg(t),e)}function Tb(t,e,n){const r=n.docs.get(e._key),s=new o2(t);return new Xs(t,s,e._key,r,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function bM(){return new Rg("serverTimestamp")}(function(e,n=!0){(function(s){La=s})(oo),eo(new ns("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new ja(new hC(r.getProvider("auth-internal")),new pC(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(p.options.projectId,g)}(l,s),l);return a={useFetchStreams:n,...a},h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Sr(o0,a0,e),Sr(o0,a0,"esm2020")})();function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xb=a2,l2=new Cu("auth","Firebase",a2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Xm("@firebase/auth");function Sb(t,...e){Gh.logLevel<=Re.WARN&&Gh.warn(`Auth (${oo}): ${t}`,...e)}function Ph(t,...e){Gh.logLevel<=Re.ERROR&&Gh.error(`Auth (${oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw Ng(t,...e)}function Cr(t,...e){return Ng(t,...e)}function u2(t,e,n){const r={...xb(),[e]:n};return new Cu("auth","Firebase",r).create(e,{appName:t.name})}function es(t){return u2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l2.create(t,...e)}function Ee(t,e,...n){if(!t)throw Ng(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function pi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){return typeof self<"u"&&self.location?.href||""}function Ib(){return t1()==="http:"||t1()==="https:"}function t1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ib()||UA()||"connection"in navigator)?navigator.onLine:!0}function Ab(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=OA()||BA()}get(){return kb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rb=new Mu(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ds(t,e,n,r,s={}){return h2(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Ru({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return jA()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&hs(t.emulatorConfig.host)&&(p.credentials="include"),c2.fetch()(await d2(t,t.config.apiHost,n,h),p)})}async function h2(t,e,n){t._canInitEmulator=!1;const r={...Pb,...e};try{const s=new Nb(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw fh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw fh(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw u2(t,g,p);ur(t,g)}}catch(s){if(s instanceof Or)throw s;ur(t,"network-request-failed",{message:String(s)})}}async function Pd(t,e,n,r,s={}){const a=await ds(t,e,n,r,s);return"mfaPendingCredential"in a&&ur(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function d2(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?Dg(t.config,s):`${t.config.apiScheme}://${s}`;return Cb.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function bb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),Rb.get())})}}function fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Cr(t,e,r);return s.customData._tokenResponse=n,s}function n1(t){return t!==void 0&&t.enterprise!==void 0}class Db{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Vb(t,e){return ds(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function Qh(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mb(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),s=Vg(r);Ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:ru(bp(s.auth_time)),issuedAtTime:ru(bp(s.iat)),expirationTime:ru(bp(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function bp(t){return Number(t)*1e3}function Vg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const s=mE(n);return s?JSON.parse(s):(Ph("Failed to decode base64 JWT payload"),null)}catch(s){return Ph("Caught error parsing JWT payload as JSON",s?.toString()),null}}function r1(t){const e=Vg(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&Ob(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ob({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){const e=t.auth,n=await t.getIdToken(),r=await _u(t,Qh(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?f2(s.providerUserInfo):[],l=Ub(t.providerData,a),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!l?.length,p=h?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Em(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function jb(t){const e=Ot(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ub(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function f2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t,e){const n=await h2(t,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await d2(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&hs(t.emulatorConfig.host)&&(f.credentials="include"),c2.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zb(t,e){return ds(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=r1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await Bb(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new wa;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Em(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mb(this,e)}reload(){return jb(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await _u(this,Lb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:R,stsTokenManager:N}=n;Ee(_&&N,e,"internal-error");const C=wa.fromJSON(this.name,N);Ee(typeof _=="string",e,"internal-error"),zi(r,e.name),zi(s,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof S=="boolean",e,"internal-error"),zi(a,e.name),zi(l,e.name),zi(h,e.name),zi(f,e.name),zi(p,e.name),zi(g,e.name);const F=new ar({uid:_,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:C,createdAt:p,lastLoginAt:g});return R&&Array.isArray(R)&&(F.providerData=R.map(W=>({...W}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,n,r=!1){const s=new wa;s.updateFromServerResponse(n);const a=new ar({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Xh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?f2(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,h=new wa;h.updateFromIdToken(r);const f=new ar({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Em(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;function ri(t){pi(t instanceof Function,"Expected a class definition");let e=i1.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p2.type="NONE";const s1=p2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Ch(this.userKey,s.apiKey,a),this.fullPersistenceKey=Ch("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qh(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(ri(s1),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ri(s1);const l=Ch(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){let _;if(typeof g=="string"){const E=await Qh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await ar._fromGetAccountInfoResponse(e,E,g)}else _=ar._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ea(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ea(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w2(e))return"Blackberry";if(E2(e))return"Webos";if(g2(e))return"Safari";if((e.includes("chrome/")||y2(e))&&!e.includes("edge/"))return"Chrome";if(_2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function m2(t=tn()){return/firefox\//i.test(t)}function g2(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y2(t=tn()){return/crios\//i.test(t)}function v2(t=tn()){return/iemobile/i.test(t)}function _2(t=tn()){return/android/i.test(t)}function w2(t=tn()){return/blackberry/i.test(t)}function E2(t=tn()){return/webos/i.test(t)}function Lg(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $b(t=tn()){return Lg(t)&&!!window.navigator?.standalone}function Hb(){return zA()&&document.documentMode===10}function T2(t=tn()){return Lg(t)||_2(t)||E2(t)||w2(t)||/windows phone/i.test(t)||v2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e=[]){let n;switch(t){case"Browser":n=o1(tn());break;case"Worker":n=`${o1(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(t,e={}){return ds(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=6;class Gb{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Kb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a1(this),this.idTokenSubscription=new a1(this),this.beforeStateQueue=new Wb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qh(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ab()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(es(this));const n=e?Ot(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qb(this),n=new Gb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Sb(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ua(t){return Ot(t)}class a1{constructor(e){this.auth=e,this.observer=null,this.addObserver=XA(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xb(t){Cd=t}function S2(t){return Cd.loadJS(t)}function Yb(){return Cd.recaptchaEnterpriseScript}function Jb(){return Cd.gapiScript}function Zb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class e3{constructor(){this.enterprise=new t3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class t3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const n3="recaptcha-enterprise",I2="NO_RECAPTCHA";class r3{constructor(e){this.type=n3,this.auth=Ua(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{Vb(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Db(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,l,h){const f=window.grecaptcha;n1(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(I2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e3().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&n1(window.grecaptcha))s(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Yb();f.length!==0&&(f+=h),S2(f).then(()=>{s(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function l1(t,e,n,r=!1,s=!1){const a=new r3(t);let l;if(s)l=I2;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function u1(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await l1(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await l1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t,e){const n=fd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Zs(a,e??{}))return s;ur(s,"already-initialized")}return n.initialize({options:e})}function s3(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function o3(t,e,n){const r=Ua(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=k2(e),{host:l,port:h}=a3(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Zs(p,r.config.emulator)&&Zs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,hs(l)?(Gm(`${a}//${l}${f}`),Qm("Auth",!0)):l3()}function k2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function a3(t){const e=k2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:c1(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:c1(l)}}}function c1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function u3(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return Pd(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e){return Pd(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function d3(t,e){return Pd(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Mg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u1(e,n,"signInWithPassword",c3);case"emailLink":return h3(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u1(e,r,"signUpPassword",u3);case"emailLink":return d3(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e){return Pd(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="http://localhost";class ro extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ro(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ta(e,n)}buildRequest(){const e={requestUri:f3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m3(t){const e=$l(Hl(t)).link,n=e?$l(Hl(e)).deep_link_id:null,r=$l(Hl(t)).deep_link_id;return(r?$l(Hl(r)).link:null)||r||n||e||t}class Og{constructor(e){const n=$l(Hl(e)),r=n.apiKey??null,s=n.oobCode??null,a=p3(n.mode??null);Ee(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=m3(e);try{return new Og(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.providerId=Ba.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Og.parseLink(n);return Ee(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}Ba.PROVIDER_ID="password";Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends A2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ou{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ou{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ou{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ar._fromIdTokenResponse(e,r,s),l=h1(r);return new Ca({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=h1(r);return new Ca({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function h1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Or{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yh(e,n,r,s)}}function P2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(t,a,e,r):a})}async function g3(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e,n=!1){const{auth:r}=t;if(Un(r.app))return Promise.reject(es(r));const s="reauthenticate";try{const a=await _u(t,P2(r,s,e,t),n);Ee(a.idToken,r,"internal-error");const l=Vg(a.idToken);Ee(l,r,"internal-error");const{sub:h}=l;return Ee(t.uid===h,r,"user-mismatch"),Ca._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ur(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e,n=!1){if(Un(t.app))return Promise.reject(es(t));const r="signIn",s=await P2(t,r,e),a=await Ca._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function v3(t,e){return C2(Ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t){const e=Ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function NM(t,e,n){return Un(t.app)?Promise.reject(es(t)):v3(Ot(t),Ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_3(t),r})}function w3(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function E3(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function DM(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function VM(t){return Ot(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1e3,x3=10;class b2 extends R2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Hb()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,x3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},T3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b2.type="LOCAL";const S3=b2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends R2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N2.type="SESSION";const D2=N2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await I3(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=Fg("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function A3(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function P3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C3(){return navigator?.serviceWorker?.controller||null}function R3(){return V2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="firebaseLocalStorageDb",b3=1,Zh="firebaseLocalStorage",M2="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function N3(){const t=indexedDB.deleteDatabase(L2);return new Fu(t).toPromise()}function Tm(){const t=indexedDB.open(L2,b3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:M2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await N3(),e(await Tm()))})})}async function d1(t,e,n){const r=bd(t,!0).put({[M2]:e,value:n});return new Fu(r).toPromise()}async function D3(t,e){const n=bd(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function f1(t,e){const n=bd(t,!0).delete(e);return new Fu(n).toPromise()}const V3=800,L3=3;class O2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>L3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(R3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await P3(),!this.activeServiceWorker)return;this.sender=new k3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await d1(e,Jh,"1"),await f1(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>D3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=bd(s,!1).getAll();return new Fu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O2.type="LOCAL";const M3=O2;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e){return e?ri(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F3(t){return C2(t.auth,new jg(t),t.bypassAuthState)}function j3(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),y3(n,new jg(t),t.bypassAuthState)}async function U3(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),g3(n,new jg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F3;case"linkViaPopup":case"linkViaRedirect":return U3;case"reauthViaPopup":case"reauthViaRedirect":return j3;default:ur(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new Mu(2e3,1e4);class da extends F2{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B3.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="pendingRedirect",Rh=new Map;class $3 extends F2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await H3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H3(t,e){const n=K3(e),r=q3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function W3(t,e){Rh.set(t._key(),e)}function q3(t){return ri(t._redirectPersistence)}function K3(t){return Ch(z3,t.config.apiKey,t.name)}async function G3(t,e,n=!1){if(Un(t.app))return Promise.reject(es(t));const r=Ua(t),s=O3(r,e),l=await new $3(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=600*1e3;class X3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!j2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Cr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(p1(e))}saveEventToCache(e){this.cachedEventUids.add(p1(e)),this.lastProcessedEventTime=Date.now()}}function p1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Y3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e6=/^https?/;async function t6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J3(t);for(const n of e)try{if(n6(n))return}catch{}ur(t,"unauthorized-domain")}function n6(t){const e=wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!e6.test(n))return!1;if(Z3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new Mu(3e4,6e4);function m1(){const t=Rr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i6(t){return new Promise((e,n)=>{function r(){m1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m1(),n(Cr(t,"network-request-failed"))},timeout:r6.get()})}if(Rr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rr().gapi?.load)r();else{const s=Zb("iframefcb");return Rr()[s]=()=>{gapi.load?r():n(Cr(t,"network-request-failed"))},S2(`${Jb()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw bh=null,e})}let bh=null;function s6(t){return bh=bh||i6(t),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new Mu(5e3,15e3),a6="__/auth/iframe",l6="emulator/auth/iframe",u6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h6(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dg(e,l6):`https://${t.config.authDomain}/${a6}`,r={apiKey:e.apiKey,appName:t.name,v:oo},s=c6.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ru(r).slice(1)}`}async function d6(t){const e=await s6(t),n=Rr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:h6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u6,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Cr(t,"network-request-failed"),h=Rr().setTimeout(()=>{a(l)},o6.get());function f(){Rr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p6=500,m6=600,g6="_blank",y6="http://localhost";class g1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v6(t,e,n,r=p6,s=m6){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...f6,width:r.toString(),height:s.toString(),top:a,left:l},p=tn().toLowerCase();n&&(h=y2(p)?g6:n),m2(p)&&(e=e||y6,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[S,R])=>`${E}${S}=${R},`,"");if($b(p)&&h!=="_self")return _6(e||"",h),new g1(null);const _=window.open(e||"",h,g);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new g1(_)}function _6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="__/auth/handler",E6="emulator/auth/handler",T6=encodeURIComponent("fac");async function y1(t,e,n,r,s,a){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oo,eventId:s};if(e instanceof A2){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",QA(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Ou){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),p=f?`#${T6}=${encodeURIComponent(f)}`:"";return`${x6(t)}?${Ru(h).slice(1)}${p}`}function x6({config:t}){return t.emulator?Dg(t,E6):`https://${t.authDomain}/${w6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class S6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D2,this._completeRedirectFn=G3,this._overrideRedirectResult=W3}async _openPopup(e,n,r,s){pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await y1(e,n,r,wm(),s);return v6(e,a,Fg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await y1(e,n,r,wm(),s);return A3(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(pi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await d6(e),r=new X3(e);return n.register("authEvent",s=>(Ee(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Np,{type:Np},s=>{const a=s?.[0]?.[Np];a!==void 0&&n(!!a),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T2()||g2()||Lg()}}const I6=S6;var v1="@firebase/auth",_1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P6(t){eo(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x2(t)},p=new Qb(r,s,a,f);return s3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new ns("auth-internal",e=>{const n=Ua(e.getProvider("auth").getImmediate());return(r=>new k6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(v1,_1,A6(t)),Sr(v1,_1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=300,R6=_E("authIdTokenMaxAge")||C6;let w1=null;const b6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R6)return;const s=n?.token;w1!==s&&(w1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function N6(t=Jm()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=i3(t,{popupRedirectResolver:I6,persistence:[M3,S3,D2]}),r=_E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=b6(a.toString());E3(n,l,()=>l(n.currentUser)),w3(n,h=>l(h))}}const s=gE("auth");return s&&o3(n,`http://${s}`),n}function D6(){return document.getElementsByTagName("head")?.[0]??document}Xb({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Cr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",D6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebasestorage.googleapis.com",B2="storageBucket",V6=120*1e3,L6=600*1e3,M6=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends Or{constructor(e,n,r=0){super(Dp(e),`Firebase Storage: ${n} (${Dp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function Dp(t){return"storage/"+t}function Ug(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(et.UNKNOWN,t)}function O6(t){return new ut(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function F6(t){return new ut(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(et.UNAUTHENTICATED,t)}function U6(){return new ut(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function B6(t){return new ut(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function z2(){return new ut(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $2(){return new ut(et.CANCELED,"User canceled the upload/download.")}function z6(t){return new ut(et.INVALID_URL,"Invalid URL '"+t+"'.")}function $6(t){return new ut(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function H6(){return new ut(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B2+"' property when initializing the app?")}function H2(){return new ut(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function W6(){return new ut(et.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function q6(){return new ut(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function K6(t){return new ut(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xm(t){return new ut(et.INVALID_ARGUMENT,t)}function W2(){return new ut(et.APP_DELETED,"The Firebase app was deleted.")}function G6(t){return new ut(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(t,e){return new ut(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bl(t){throw new ut(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=In.makeFromUrl(e,n)}catch{return new In(e,"")}if(r.path==="")return r;throw $6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${g}/b/${s}/o${E}`,"i"),R={bucket:1,path:3},N=n===U2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",F=new RegExp(`^https?://${N}/${s}/${C}`,"i"),q=[{regex:h,indices:f,postModify:a},{regex:S,indices:R,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<q.length;X++){const J=q[X],oe=J.regex.exec(e);if(oe){const D=oe[J.indices.bucket];let I=oe[J.indices.path];I||(I=""),r=new In(D,I),J.postModify(r);break}}if(r==null)throw z6(e);return r}}class Q6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e,n){let r=1,s=null,a=null,l=!1,h=0;function f(){return h===2}let p=!1;function g(...C){p||(p=!0,e.apply(null,C))}function _(C){s=setTimeout(()=>{s=null,t(S,f())},C)}function E(){a&&clearTimeout(a)}function S(C,...F){if(p){E();return}if(C){E(),g.call(null,C,...F);return}if(f()||l){E(),g.call(null,C,...F);return}r<64&&(r*=2);let q;h===1?(h=2,q=0):q=(r+Math.random())*1e3,_(q)}let R=!1;function N(C){R||(R=!0,E(),!p&&(s!==null?(C||(h=2),clearTimeout(s),_(0)):C||(h=1)))}return _(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function Y6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){return t!==void 0}function Z6(t){return typeof t=="function"}function eN(t){return typeof t=="object"&&!Array.isArray(t)}function Nd(t){return typeof t=="string"||t instanceof String}function E1(t){return Bg()&&t instanceof Blob}function Bg(){return typeof Blob<"u"}function T1(t,e,n,r){if(r<e)throw xm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function q2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ys;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ys||(Ys={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,r,s,a,l,h,f,p,g,_,E=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,N)=>{this.resolve_=R,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ph(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const h=a.getErrorCode()===Ys.NO_ERROR,f=a.getStatus();if(!h||K2(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Ys.ABORT;r(!1,new ph(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new ph(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());J6(f)?a(f):a()}catch(f){l(f)}else if(h!==null){const f=Ug();f.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,f)):l(f)}else if(s.canceled){const f=this.appDelete_?W2():$2();l(f)}else{const f=z2();l(f)}};this.canceled_?n(!1,new ph(!1,null,!0)):this.backoffId_=X6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ph{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function nN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oN(t,e,n,r,s,a,l=!0,h=!1){const f=q2(t.urlParams),p=t.url+f,g=Object.assign({},t.headers);return iN(g,e),nN(g,n),rN(g,a),sN(g,r),new tN(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lN(...t){const e=aN();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Bg())return new Blob(t);throw new ut(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uN(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){if(typeof atob>"u")throw K6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vp{constructor(e,n){this.data=e,this.contentType=n||null}}function hN(t,e){switch(t){case xr.RAW:return new Vp(G2(e));case xr.BASE64:case xr.BASE64URL:return new Vp(Q2(t,e));case xr.DATA_URL:return new Vp(fN(e),pN(e))}throw Ug()}function G2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dN(t){let e;try{e=decodeURIComponent(t)}catch{throw iu(xr.DATA_URL,"Malformed data URL.")}return G2(e)}function Q2(t,e){switch(t){case xr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw iu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw iu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cN(e)}catch(s){throw s.message.includes("polyfill")?s:iu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class X2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw iu(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function fN(t){const e=new X2(t);return e.base64?Q2(xr.BASE64,e.rest):dN(e.rest)}function pN(t){return new X2(t).contentType}function mN(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){let r=0,s="";E1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(E1(this.data_)){const r=this.data_,s=uN(r,e,n);return s===null?null:new Gi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Gi(r,!0)}}static getBlob(...e){if(Bg()){const n=e.map(r=>r instanceof Gi?r.data_:r);return new Gi(lN.apply(null,n))}else{const n=e.map(l=>Nd(l)?hN(xr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let h=0;h<l.length;h++)s[a++]=l[h]}),new Gi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){let e;try{e=JSON.parse(t)}catch{return null}return eN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yN(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function J2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){return e}class an{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||vN}}let mh=null;function _N(t){return!Nd(t)||t.length<2?t:J2(t)}function Z2(){if(mh)return mh;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(a,l){return _N(l)}const n=new an("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new an("size");return s.xform=r,t.push(s),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),mh=t,mh}function wN(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new In(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function EN(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return wN(r,t),r}function ex(t,e,n){const r=Y2(e);return r===null?null:EN(t,r,n)}function TN(t,e,n,r){const s=Y2(e);if(s===null||!Nd(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,_=t.fullPath,E="/b/"+l(g)+"/o/"+l(_),S=ju(E,n,r),R=q2({alt:"media",token:p});return S+R})[0]}function tx(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class za{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){if(!t)throw Ug()}function zg(t,e){function n(r,s){const a=ex(t,s,e);return oi(a!==null),a}return n}function xN(t,e){function n(r,s){const a=ex(t,s,e);return oi(a!==null),TN(a,s,t.host,t._protocol)}return n}function Uu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=U6():s=j6():n.getStatus()===402?s=F6(t.bucket):n.getStatus()===403?s=B6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function nx(t){const e=Uu(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=O6(t.path)),a.serverResponse=s.serverResponse,a}return n}function SN(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,h=new za(s,a,zg(t,n),l);return h.errorHandler=nx(e),h}function IN(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,h=new za(s,a,xN(t,n),l);return h.errorHandler=nx(e),h}function kN(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function rx(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=kN(null,e)),r}function AN(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function h(){let q="";for(let X=0;X<2;X++)q=q+Math.random().toString().slice(2);return q}const f=h();l["Content-Type"]="multipart/related; boundary="+f;const p=rx(e,r,s),g=tx(p,n),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",S=Gi.getBlob(_,r,E);if(S===null)throw H2();const R={name:p.fullPath},N=ju(a,t.host,t._protocol),C="POST",F=t.maxUploadRetryTime,W=new za(N,C,zg(t,n),F);return W.urlParams=R,W.headers=l,W.body=S.uploadData(),W.errorHandler=Uu(e),W}class ed{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function $g(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{oi(!1)}return oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function PN(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l=rx(e,r,s),h={name:l.fullPath},f=ju(a,t.host,t._protocol),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},_=tx(l,n),E=t.maxUploadRetryTime;function S(N){$g(N);let C;try{C=N.getResponseHeader("X-Goog-Upload-URL")}catch{oi(!1)}return oi(Nd(C)),C}const R=new za(f,p,S,E);return R.urlParams=h,R.headers=g,R.body=_,R.errorHandler=Uu(e),R}function CN(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function a(p){const g=$g(p,["active","final"]);let _=null;try{_=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{oi(!1)}_||oi(!1);const E=Number(_);return oi(!isNaN(E)),new ed(E,r.size(),g==="final")}const l="POST",h=t.maxUploadRetryTime,f=new za(n,l,a,h);return f.headers=s,f.errorHandler=Uu(e),f}const x1=256*1024;function RN(t,e,n,r,s,a,l,h){const f=new ed(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw W6();const p=f.total-f.current;let g=p;s>0&&(g=Math.min(g,s));const _=f.current,E=_+g;let S="";g===0?S="finalize":p===g?S="upload, finalize":S="upload";const R={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${f.current}`},N=r.slice(_,E);if(N===null)throw H2();function C(X,J){const oe=$g(X,["active","final"]),D=f.current+g,I=r.size();let A;return oe==="final"?A=zg(e,a)(X,J):A=null,new ed(D,I,oe==="final",A)}const F="POST",W=e.maxUploadRetryTime,q=new za(n,F,C,W);return q.headers=R,q.body=N.uploadData(),q.progressCallback=h||null,q.errorHandler=Uu(t),q}const yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Lp(t){switch(t){case"running":case"pausing":case"canceling":return yn.RUNNING;case"paused":return yn.PAUSED;case"success":return yn.SUCCESS;case"canceled":return yn.CANCELED;case"error":return yn.ERROR;default:return yn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r){if(Z6(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class NN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Bl("cannot .send() more than once");if(hs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DN extends NN{initXhr(){this.xhr_.responseType="text"}}function ha(){return new DN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Z2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(et.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(K2(s.status,[]))if(a)s=z2();else{this.sleepTime=Math.max(this.sleepTime*2,M6),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(et.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=PN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ha,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=CN(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(s,ha,n,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=x1*this._chunkMultiplier,n=new ed(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,a)=>{let l;try{l=RN(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const h=this._ref.storage._makeRequest(l,ha,s,a,!1);this._request=h,h.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){x1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=SN(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,ha,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=AN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ha,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=$2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Lp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const a=new bN(n||void 0,r||void 0,s||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Lp(this._state)){case yn.SUCCESS:oa(this._resolve.bind(null,this.snapshot))();break;case yn.CANCELED:case yn.ERROR:const n=this._reject;oa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Lp(this._state)){case yn.RUNNING:case yn.PAUSED:e.next&&oa(e.next.bind(e,this.snapshot))();break;case yn.SUCCESS:e.complete&&oa(e.complete.bind(e))();break;case yn.CANCELED:case yn.ERROR:e.error&&oa(e.error.bind(e,this._error))();break;default:e.error&&oa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this._service=e,n instanceof In?this._location=n:this._location=In.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new io(e,n)}get root(){const e=new In(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J2(this._location.path)}get storage(){return this._service}get parent(){const e=gN(this._location.path);if(e===null)return null;const n=new In(this._location.bucket,e);return new io(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G6(e)}}function LN(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new VN(t,new Gi(e),n)}function MN(t){t._throwIfRoot("getDownloadURL");const e=IN(t.storage,t._location,Z2());return t.storage.makeRequestWithTokens(e,ha).then(n=>{if(n===null)throw q6();return n})}function ON(t,e){const n=yN(t._location.path,e),r=new In(t._location.bucket,n);return new io(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){return/^[A-Za-z]+:\/\//.test(t)}function jN(t,e){return new io(t,e)}function ix(t,e){if(t instanceof Hg){const n=t;if(n._bucket==null)throw H6();const r=new io(n,n._bucket);return e!=null?ix(r,e):r}else return e!==void 0?ON(t,e):t}function UN(t,e){if(e&&FN(e)){if(t instanceof Hg)return jN(t,e);throw xm("To use ref(service, url), the first argument must be a Storage instance.")}else return ix(t,e)}function S1(t,e){const n=e?.[B2];return n==null?null:In.makeFromBucketSpec(n,t)}function BN(t,e,n,r={}){t.host=`${e}:${n}`;const s=hs(e);s&&(Gm(`https://${t.host}/b`),Qm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:wE(a,t.app.options.projectId))}class Hg{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=U2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V6,this._maxUploadRetryTime=L6,this._requests=new Set,s!=null?this._bucket=In.makeFromBucketSpec(s,this._host):this._bucket=S1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,e):this._bucket=S1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new io(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new Q6(W2());{const l=oN(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const I1="@firebase/storage",k1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="storage";function LM(t,e,n){return t=Ot(t),LN(t,e,n)}function MM(t){return t=Ot(t),MN(t)}function OM(t,e){return t=Ot(t),UN(t,e)}function zN(t=Jm(),e){t=Ot(t);const r=fd(t,sx).getImmediate({identifier:e}),s=yE("storage");return s&&$N(r,...s),r}function $N(t,e,n,r={}){BN(t,e,n,r)}function HN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Hg(n,r,s,e,oo)}function WN(){eo(new ns(sx,HN,"PUBLIC").setMultipleInstances(!0)),Sr(I1,k1,""),Sr(I1,k1,"esm2020")}WN();const Wg=L.createContext({});function qg(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dd=L.createContext(null),Kg=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qN extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function KN({children:t,isPresent:e}){const n=L.useId(),r=L.useRef(null),s=L.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=L.useContext(Kg);return L.useInsertionEffect(()=>{const{width:l,height:h,top:f,left:p}=s.current;if(e||!r.current||!l||!h)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${h}px !important;
            top: ${f}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),k.jsx(qN,{isPresent:e,childRef:r,sizeRef:s,children:L.cloneElement(t,{ref:r})})}const GN=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const h=qg(QN),f=L.useId(),p=L.useCallback(_=>{h.set(_,!0);for(const E of h.values())if(!E)return;r&&r()},[h,r]),g=L.useMemo(()=>({id:f,initial:e,isPresent:n,custom:s,onExitComplete:p,register:_=>(h.set(_,!1),()=>h.delete(_))}),a?[Math.random(),p]:[n,p]);return L.useMemo(()=>{h.forEach((_,E)=>h.set(E,!1))},[n]),L.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=k.jsx(KN,{isPresent:n,children:t})),k.jsx(Dd.Provider,{value:g,children:t})};function QN(){return new Map}function ox(t=!0){const e=L.useContext(Dd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=L.useId();L.useEffect(()=>{t&&s(a)},[t]);const l=L.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const gh=t=>t.key||"";function A1(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const Gg=typeof window<"u",ax=Gg?L.useLayoutEffect:L.useEffect,Vd=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1})=>{const[h,f]=ox(l),p=L.useMemo(()=>A1(t),[t]),g=l&&!h?[]:p.map(gh),_=L.useRef(!0),E=L.useRef(p),S=qg(()=>new Map),[R,N]=L.useState(p),[C,F]=L.useState(p);ax(()=>{_.current=!1,E.current=p;for(let X=0;X<C.length;X++){const J=gh(C[X]);g.includes(J)?S.delete(J):S.get(J)!==!0&&S.set(J,!1)}},[C,g.length,g.join("-")]);const W=[];if(p!==R){let X=[...p];for(let J=0;J<C.length;J++){const oe=C[J],D=gh(oe);g.includes(D)||(X.splice(J,0,oe),W.push(oe))}a==="wait"&&W.length&&(X=W),F(A1(X)),N(p);return}const{forceRender:q}=L.useContext(Wg);return k.jsx(k.Fragment,{children:C.map(X=>{const J=gh(X),oe=l&&!h?!1:p===C||g.includes(J),D=()=>{if(S.has(J))S.set(J,!0);else return;let I=!0;S.forEach(A=>{A||(I=!1)}),I&&(q?.(),F(E.current),l&&f?.(),r&&r())};return k.jsx(GN,{isPresent:oe,initial:!_.current||n?void 0:!1,custom:oe?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:oe?void 0:D,children:X},J)})})},kn=t=>t;let lx=kn;function Qg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ra=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ai=t=>t*1e3,li=t=>t/1e3,XN={useManualTiming:!1};function YN(t){let e=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function h(p){a.has(p)&&(f.schedule(p),t()),p(l)}const f={schedule:(p,g=!1,_=!1)=>{const S=_&&r?e:n;return g&&a.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(h),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const yh=["read","resolveKeyframes","update","preRender","render","postRender"],JN=40;function ux(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=yh.reduce((F,W)=>(F[W]=YN(a),F),{}),{read:h,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:E}=l,S=()=>{const F=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,JN),1),s.timestamp=F,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),g.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},R=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:yh.reduce((F,W)=>{const q=l[W];return F[W]=(X,J=!1,oe=!1)=>(n||R(),q.schedule(X,J,oe)),F},{}),cancel:F=>{for(let W=0;W<yh.length;W++)l[yh[W]].cancel(F)},state:s,steps:l}}const{schedule:Ze,cancel:us,state:zt,steps:Mp}=ux(typeof requestAnimationFrame<"u"?requestAnimationFrame:kn,!0),Xg=L.createContext({strict:!1}),P1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ba={};for(const t in P1)ba[t]={isEnabled:e=>P1[t].some(n=>!!e[n])};function Sm(t){for(const e in t)ba[e]={...ba[e],...t[e]}}function ZN({children:t,features:e,strict:n=!1}){const[,r]=L.useState(!Op(e)),s=L.useRef(void 0);if(!Op(e)){const{renderer:a,...l}=e;s.current=a,Sm(l)}return L.useEffect(()=>{Op(e)&&e().then(({renderer:a,...l})=>{Sm(l),s.current=a,r(!0)})},[]),k.jsx(Xg.Provider,{value:{renderer:s.current,strict:n},children:t})}function Op(t){return typeof t=="function"}const eD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eD.has(t)}let cx=t=>!td(t);function tD(t){t&&(cx=e=>e.startsWith("on")?!td(e):t(e))}try{tD(require("@emotion/is-prop-valid").default)}catch{}function nD(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(cx(s)||n===!0&&td(s)||!e&&!td(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function rD(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Ld=L.createContext({});function Eu(t){return typeof t=="string"||Array.isArray(t)}function Md(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Yg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jg=["initial",...Yg];function Od(t){return Md(t.animate)||Jg.some(e=>Eu(t[e]))}function hx(t){return!!(Od(t)||t.variants)}function iD(t,e){if(Od(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Eu(n)?n:void 0,animate:Eu(r)?r:void 0}}return t.inherit!==!1?e:{}}function sD(t){const{initial:e,animate:n}=iD(t,L.useContext(Ld));return L.useMemo(()=>({initial:e,animate:n}),[C1(e),C1(n)])}function C1(t){return Array.isArray(t)?t.join(" "):t}const oD=Symbol.for("motionComponentSymbol");function fa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aD(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fa(n)&&(n.current=r))},[e])}const Zg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lD="framerAppearId",dx="data-"+Zg(lD),{schedule:ey}=ux(queueMicrotask,!1),fx=L.createContext({});function uD(t,e,n,r,s){var a,l;const{visualElement:h}=L.useContext(Ld),f=L.useContext(Xg),p=L.useContext(Dd),g=L.useContext(Kg).reducedMotion,_=L.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,S=L.useContext(fx);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&cD(_.current,n,s,S);const R=L.useRef(!1);L.useInsertionEffect(()=>{E&&R.current&&E.update(n,p)});const N=n[dx],C=L.useRef(!!N&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,N))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,N)));return ax(()=>{E&&(R.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),ey.render(E.render),C.current&&E.animationState&&E.animationState.animateChanges())}),L.useEffect(()=>{E&&(!C.current&&E.animationState&&E.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,N)}),C.current=!1))}),E}function cD(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:px(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||h&&fa(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function px(t){if(t)return t.options.allowProjection!==!1?t.projection:px(t.parent)}function hD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&Sm(t);function h(p,g){let _;const E={...L.useContext(Kg),...p,layoutId:dD(p)},{isStatic:S}=E,R=sD(p),N=r(p,S);if(!S&&Gg){fD();const C=pD(E);_=C.MeasureLayout,R.visualElement=uD(s,N,E,e,C.ProjectionNode)}return k.jsxs(Ld.Provider,{value:R,children:[_&&R.visualElement?k.jsx(_,{visualElement:R.visualElement,...E}):null,n(s,p,aD(N,R.visualElement,g),N,S,R.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const f=L.forwardRef(h);return f[oD]=s,f}function dD({layoutId:t}){const e=L.useContext(Wg).id;return e&&t!==void 0?e+"-"+t:t}function fD(t,e){L.useContext(Xg).strict}function pD(t){const{drag:e,layout:n}=ba;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const mD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ty(t){return typeof t!="string"||t.includes("-")?!1:!!(mD.indexOf(t)>-1||/[A-Z]/u.test(t))}function R1(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ny(t,e,n,r){if(typeof e=="function"){const[s,a]=R1(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=R1(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Im=t=>Array.isArray(t),gD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yD=t=>Im(t)?t[t.length-1]||0:t,en=t=>!!(t&&t.getVelocity);function Nh(t){const e=en(t)?t.get():t;return gD(e)?e.toValue():e}function vD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:_D(r,s,a,t),renderState:e()};return n&&(l.onMount=h=>n({props:r,current:h,...l}),l.onUpdate=h=>n(h)),l}const mx=t=>(e,n)=>{const r=L.useContext(Ld),s=L.useContext(Dd),a=()=>vD(t,e,r,s);return n?a():qg(a)};function _D(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=Nh(a[E]);let{initial:l,animate:h}=t;const f=Od(t),p=hx(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!Md(_)){const E=Array.isArray(_)?_:[_];for(let S=0;S<E.length;S++){const R=ny(t,E[S]);if(R){const{transitionEnd:N,transition:C,...F}=R;for(const W in F){let q=F[W];if(Array.isArray(q)){const X=g?q.length-1:0;q=q[X]}q!==null&&(s[W]=q)}for(const W in N)s[W]=N[W]}}}return s}const $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set($a),gx=t=>e=>typeof e=="string"&&e.startsWith(t),yx=gx("--"),wD=gx("var(--"),ry=t=>wD(t)?ED.test(t.split("/*")[0].trim()):!1,ED=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vx=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mi=(t,e,n)=>n>e?e:n<t?t:n,Ha={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...Ha,transform:t=>mi(0,1,t)},vh={...Ha,default:1},Bu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$i=Bu("deg"),br=Bu("%"),we=Bu("px"),TD=Bu("vh"),xD=Bu("vw"),b1={...br,parse:t=>br.parse(t)/100,transform:t=>br.transform(t*100)},SD={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},ID={rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:vh,scaleX:vh,scaleY:vh,scaleZ:vh,skew:$i,skewX:$i,skewY:$i,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Tu,originX:b1,originY:b1,originZ:we},N1={...Ha,transform:Math.round},iy={...SD,...ID,zIndex:N1,size:we,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:N1},kD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AD=$a.length;function PD(t,e,n){let r="",s=!0;for(let a=0;a<AD;a++){const l=$a[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=vx(h,iy[l]);if(!f){s=!1;const g=kD[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function sy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(fo.has(f)){l=!0;continue}else if(yx(f)){s[f]=p;continue}else{const g=vx(p,iy[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=PD(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const CD={offset:"stroke-dashoffset",array:"stroke-dasharray"},RD={offset:"strokeDashoffset",array:"strokeDasharray"};function bD(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?CD:RD;t[a.offset]=we.transform(-r);const l=we.transform(e),h=we.transform(n);t[a.array]=`${l} ${h}`}function D1(t,e,n){return typeof t=="string"?t:we.transform(e+n*t)}function ND(t,e,n){const r=D1(e,t.x,t.width),s=D1(n,t.y,t.height);return`${r} ${s}`}function oy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:h=1,pathOffset:f=0,...p},g,_){if(sy(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:S,dimensions:R}=t;E.transform&&(R&&(S.transform=E.transform),delete E.transform),R&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=ND(R,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),l!==void 0&&bD(E,l,h,f,!1)}const ay=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),_x=()=>({...ay(),attrs:{}}),ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wx(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const Ex=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tx(t,e,n,r){wx(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Ex.has(s)?s:Zg(s),e.attrs[s])}const nd={};function DD(t){Object.assign(nd,t)}function xx(t,{layout:e,layoutId:n}){return fo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nd[t]||t==="opacity")}function uy(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(en(s[l])||e.style&&en(e.style[l])||xx(l,t)||((r=n?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function Sx(t,e,n){const r=uy(t,e,n);for(const s in t)if(en(t[s])||en(e[s])){const a=$a.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}function VD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const V1=["x","y","width","height","cx","cy","r"],LD={useVisualState:mx({scrapeMotionValuesFromProps:Sx,createRenderState:_x,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in s)if(fo.has(h)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let h=0;h<V1.length;h++){const f=V1[h];t[f]!==e[f]&&(l=!0)}l&&Ze.read(()=>{VD(n,r),Ze.render(()=>{oy(r,s,ly(n.tagName),t.transformTemplate),Tx(n,r)})})}})},MD={useVisualState:mx({scrapeMotionValuesFromProps:uy,createRenderState:ay})};function Ix(t,e,n){for(const r in e)!en(e[r])&&!xx(r,n)&&(t[r]=e[r])}function OD({transformTemplate:t},e){return L.useMemo(()=>{const n=ay();return sy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FD(t,e){const n=t.style||{},r={};return Ix(r,n,t),Object.assign(r,OD(t,e)),r}function jD(t,e){const n={},r=FD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function UD(t,e,n,r){const s=L.useMemo(()=>{const a=_x();return oy(a,e,ly(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Ix(a,t.style,t),s.style={...a,...s.style}}return s}function BD(t=!1){return(n,r,s,{latestValues:a},l)=>{const f=(ty(n)?UD:jD)(r,a,l,n),p=nD(r,typeof n=="string",t),g=n!==L.Fragment?{...p,...f,ref:s}:{},{children:_}=r,E=L.useMemo(()=>en(_)?_.get():_,[_]);return L.createElement(n,{...g,children:E})}}function zD(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...ty(r)?LD:MD,preloadedFeatures:t,useRender:BD(s),createVisualElement:e,Component:r};return hD(l)}}function kx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Fd(t,e,n){const r=t.getProps();return ny(r,e,n!==void 0?n:r.custom,t)}const $D=Qg(()=>window.ScrollTimeline!==void 0);class HD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if($D()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class WD extends HD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function cy(t,e){return t?t[e]||t.default||t:void 0}const km=2e4;function Ax(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<km;)e+=n,r=t.next(e);return e>=km?1/0:e}function hy(t){return typeof t=="function"}function L1(t,e){t.timeline=e,t.onfinish=null}const dy=t=>Array.isArray(t)&&typeof t[0]=="number",qD={linearEasing:void 0};function KD(t,e){const n=Qg(t);return()=>{var r;return(r=qD[e])!==null&&r!==void 0?r:n()}}const rd=KD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Px=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(Ra(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function Cx(t){return!!(typeof t=="function"&&rd()||!t||typeof t=="string"&&(t in Am||rd())||dy(t)||Array.isArray(t)&&t.every(Cx))}const Ql=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Am={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ql([0,.65,.55,1]),circOut:Ql([.55,0,1,.45]),backIn:Ql([.31,.01,.66,-.59]),backOut:Ql([.33,1.53,.69,.99])};function Rx(t,e){if(t)return typeof t=="function"&&rd()?Px(t,e):dy(t)?Ql(t):Array.isArray(t)?t.map(n=>Rx(n,e)||Am.easeOut):Am[t]}const ir={x:!1,y:!1};function bx(){return ir.x||ir.y}function Nx(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function Dx(t,e){const n=Nx(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function M1(t){return e=>{e.pointerType==="touch"||bx()||t(e)}}function GD(t,e,n={}){const[r,s,a]=Dx(t,n),l=M1(h=>{const{target:f}=h,p=e(h);if(typeof p!="function"||!f)return;const g=M1(_=>{p(_),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,s)});return r.forEach(h=>{h.addEventListener("pointerenter",l,s)}),a}const Vx=(t,e)=>e?t===e?!0:Vx(t,e.parentElement):!1,fy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XD(t){return QD.has(t.tagName)||t.tabIndex!==-1}const Xl=new WeakSet;function O1(t){return e=>{e.key==="Enter"&&t(e)}}function Fp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YD=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=O1(()=>{if(Xl.has(n))return;Fp(n,"down");const s=O1(()=>{Fp(n,"up")}),a=()=>Fp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function F1(t){return fy(t)&&!bx()}function JD(t,e,n={}){const[r,s,a]=Dx(t,n),l=h=>{const f=h.currentTarget;if(!F1(h)||Xl.has(f))return;Xl.add(f);const p=e(h),g=(S,R)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!F1(S)||!Xl.has(f))&&(Xl.delete(f),typeof p=="function"&&p(S,{success:R}))},_=S=>{g(S,n.useGlobalTarget||Vx(f,S.target))},E=S=>{g(S,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{!XD(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,s),h.addEventListener("focus",p=>YD(p,s),s)}),a}function ZD(t){return t==="x"||t==="y"?ir[t]?null:(ir[t]=!0,()=>{ir[t]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}const Lx=new Set(["width","height","top","left","right","bottom",...$a]);let Dh;function e5(){Dh=void 0}const Nr={now:()=>(Dh===void 0&&Nr.set(zt.isProcessing||XN.useManualTiming?zt.timestamp:performance.now()),Dh),set:t=>{Dh=t,queueMicrotask(e5)}};function py(t,e){t.indexOf(e)===-1&&t.push(e)}function my(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gy{constructor(){this.subscriptions=[]}add(e){return py(this.subscriptions,e),()=>my(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Mx(t,e){return e?t*(1e3/e):0}const j1=30,t5=t=>!isNaN(parseFloat(t));class n5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Nr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=t5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>j1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,j1);return Mx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xu(t,e){return new n5(t,e)}function r5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xu(n))}function i5(t,e){const n=Fd(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const h=yD(a[l]);r5(t,l,h)}}function s5(t){return!!(en(t)&&t.add)}function Pm(t,e){const n=t.getValue("willChange");if(s5(n))return n.add(e)}function Ox(t){return t.props[dx]}const Fx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,o5=1e-7,a5=12;function l5(t,e,n,r,s){let a,l,h=0;do l=e+(n-e)/2,a=Fx(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>o5&&++h<a5);return l}function zu(t,e,n,r){if(t===e&&n===r)return kn;const s=a=>l5(a,0,1,t,n);return a=>a===0||a===1?a:Fx(s(a),e,r)}const jx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ux=t=>e=>1-t(1-e),Bx=zu(.33,1.53,.69,.99),yy=Ux(Bx),zx=jx(yy),$x=t=>(t*=2)<1?.5*yy(t):.5*(2-Math.pow(2,-10*(t-1))),vy=t=>1-Math.sin(Math.acos(t)),Hx=Ux(vy),Wx=jx(vy),qx=t=>/^0[^.\s]+$/u.test(t);function u5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qx(t):!0}const su=t=>Math.round(t*1e5)/1e5,_y=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c5(t){return t==null}const h5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wy=(t,e)=>n=>!!(typeof n=="string"&&h5.test(n)&&n.startsWith(t)||e&&!c5(n)&&Object.prototype.hasOwnProperty.call(n,e)),Kx=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,h]=r.match(_y);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},d5=t=>mi(0,255,t),jp={...Ha,transform:t=>Math.round(d5(t))},Qs={test:wy("rgb","red"),parse:Kx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jp.transform(t)+", "+jp.transform(e)+", "+jp.transform(n)+", "+su(Tu.transform(r))+")"};function f5(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cm={test:wy("#"),parse:f5,transform:Qs.transform},pa={test:wy("hsl","hue"),parse:Kx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+br.transform(su(e))+", "+br.transform(su(n))+", "+su(Tu.transform(r))+")"},Yt={test:t=>Qs.test(t)||Cm.test(t)||pa.test(t),parse:t=>Qs.test(t)?Qs.parse(t):pa.test(t)?pa.parse(t):Cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qs.transform(t):pa.transform(t)},p5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_y))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(p5))===null||n===void 0?void 0:n.length)||0)>0}const Gx="number",Qx="color",g5="var",y5="var(",U1="${}",v5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(v5,f=>(Yt.test(f)?(r.color.push(a),s.push(Qx),n.push(Yt.parse(f))):f.startsWith(y5)?(r.var.push(a),s.push(g5),n.push(f)):(r.number.push(a),s.push(Gx),n.push(parseFloat(f))),++a,U1)).split(U1);return{values:n,split:h,indexes:r,types:s}}function Xx(t){return Su(t).values}function Yx(t){const{split:e,types:n}=Su(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const h=n[l];h===Gx?a+=su(s[l]):h===Qx?a+=Yt.transform(s[l]):a+=s[l]}return a}}const _5=t=>typeof t=="number"?0:t;function w5(t){const e=Xx(t);return Yx(t)(e.map(_5))}const cs={test:m5,parse:Xx,createTransformer:Yx,getAnimatableNone:w5},E5=new Set(["brightness","contrast","saturate","opacity"]);function T5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_y)||[];if(!r)return t;const s=n.replace(r,"");let a=E5.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const x5=/\b([a-z-]*)\(.*?\)/gu,Rm={...cs,getAnimatableNone:t=>{const e=t.match(x5);return e?e.map(T5).join(" "):t}},S5={...iy,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Rm,WebkitFilter:Rm},Ey=t=>S5[t];function Jx(t,e){let n=Ey(t);return n!==Rm&&(n=cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const I5=new Set(["auto","none","0"]);function k5(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!I5.has(a)&&Su(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=Jx(n,s)}const B1=t=>t===Ha||t===we,z1=(t,e)=>parseFloat(t.split(", ")[e]),$1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return z1(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?z1(a[1],t):0}},A5=new Set(["x","y","z"]),P5=$a.filter(t=>!A5.has(t));function C5(t){const e=[];return P5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Na={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$1(4,13),y:$1(5,14)};Na.translateX=Na.x;Na.translateY=Na.y;const Js=new Set;let bm=!1,Nm=!1;function Zx(){if(Nm){const t=Array.from(Js).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=C5(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Nm=!1,bm=!1,Js.forEach(t=>t.complete()),Js.clear()}function eS(){Js.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Nm=!0)})}function R5(){eS(),Zx()}class Ty{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Js.add(this),bm||(bm=!0,Ze.read(eS),Ze.resolveKeyframes(Zx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s?.get(),h=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const f=r.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Js.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Js.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),b5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N5(t){const e=b5.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function nS(t,e,n=1){const[r,s]=N5(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return tS(l)?parseFloat(l):l}return ry(s)?nS(s,e,n+1):s}const rS=t=>e=>e.test(t),D5={test:t=>t==="auto",parse:t=>t},iS=[Ha,we,br,$i,xD,TD,D5],H1=t=>iS.find(rS(t));class sS extends Ty{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),ry(p))){const g=nS(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Lx.has(r)||e.length!==2)return;const[s,a]=e,l=H1(s),h=H1(a);if(l!==h)if(B1(l)&&B1(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)u5(e[s])&&r.push(s);r.length&&k5(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Na[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,h=s[l];s[l]=Na[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const W1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cs.test(t)||t==="0")&&!t.startsWith("url("));function V5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function L5(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=W1(s,e),h=W1(a,e);return!l||!h?!1:V5(t)||(n==="spring"||hy(n))&&r}const M5=t=>t!==null;function jd(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(M5),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const O5=40;class oS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Nr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>O5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&R5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Nr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!L5(e,r,s,a))if(l)this.options.duration=0;else{f&&f(jd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ot=(t,e,n)=>t+(e-t)*n;function Up(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function F5({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;s=Up(f,h,t+1/3),a=Up(f,h,t),l=Up(f,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function id(t,e){return n=>n>0?e:t}const Bp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},j5=[Cm,Qs,pa],U5=t=>j5.find(e=>e.test(t));function q1(t){const e=U5(t);if(!e)return!1;let n=e.parse(t);return e===pa&&(n=F5(n)),n}const K1=(t,e)=>{const n=q1(t),r=q1(e);if(!n||!r)return id(t,e);const s={...n};return a=>(s.red=Bp(n.red,r.red,a),s.green=Bp(n.green,r.green,a),s.blue=Bp(n.blue,r.blue,a),s.alpha=ot(n.alpha,r.alpha,a),Qs.transform(s))},B5=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(B5),Dm=new Set(["none","hidden"]);function z5(t,e){return Dm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $5(t,e){return n=>ot(t,e,n)}function xy(t){return typeof t=="number"?$5:typeof t=="string"?ry(t)?id:Yt.test(t)?K1:q5:Array.isArray(t)?aS:typeof t=="object"?Yt.test(t)?K1:H5:id}function aS(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>xy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function H5(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=xy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function W5(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],h=t.indexes[l][s[l]],f=(n=t.values[h])!==null&&n!==void 0?n:0;r[a]=f,s[l]++}return r}const q5=(t,e)=>{const n=cs.createTransformer(e),r=Su(t),s=Su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dm.has(t)&&!s.values.length||Dm.has(e)&&!r.values.length?z5(t,e):$u(aS(W5(r,s),s.values),n):id(t,e)};function lS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ot(t,e,n):xy(t)(t,e)}const K5=5;function uS(t,e,n){const r=Math.max(e-K5,0);return Mx(n-t(r),e-r)}const dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zp=.001;function G5({duration:t=dt.duration,bounce:e=dt.bounce,velocity:n=dt.velocity,mass:r=dt.mass}){let s,a,l=1-e;l=mi(dt.minDamping,dt.maxDamping,l),t=mi(dt.minDuration,dt.maxDuration,li(t)),l<1?(s=p=>{const g=p*l,_=g*t,E=g-n,S=Vm(p,l),R=Math.exp(-_);return zp-E/S*R},a=p=>{const _=p*l*t,E=_*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,R=Math.exp(-_),N=Vm(Math.pow(p,2),l);return(-s(p)+zp>0?-1:1)*((E-S)*R)/N}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-zp+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,f=X5(s,a,h);if(t=ai(t),isNaN(f))return{stiffness:dt.stiffness,damping:dt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const Q5=12;function X5(t,e,n){let r=n;for(let s=1;s<Q5;s++)r=r-t(r)/e(r);return r}function Vm(t,e){return t*Math.sqrt(1-e*e)}const Y5=["duration","bounce"],J5=["stiffness","damping","mass"];function G1(t,e){return e.some(n=>t[n]!==void 0)}function Z5(t){let e={velocity:dt.velocity,stiffness:dt.stiffness,damping:dt.damping,mass:dt.mass,isResolvedFromDuration:!1,...t};if(!G1(t,J5)&&G1(t,Y5))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:dt.mass,stiffness:s,damping:a}}else{const n=G5(t);e={...e,...n,mass:dt.mass},e.isResolvedFromDuration=!0}return e}function cS(t=dt.visualDuration,e=dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:S}=Z5({...n,velocity:-li(n.velocity||0)}),R=E||0,N=p/(2*Math.sqrt(f*g)),C=l-a,F=li(Math.sqrt(f/g)),W=Math.abs(C)<5;r||(r=W?dt.restSpeed.granular:dt.restSpeed.default),s||(s=W?dt.restDelta.granular:dt.restDelta.default);let q;if(N<1){const J=Vm(F,N);q=oe=>{const D=Math.exp(-N*F*oe);return l-D*((R+N*F*C)/J*Math.sin(J*oe)+C*Math.cos(J*oe))}}else if(N===1)q=J=>l-Math.exp(-F*J)*(C+(R+F*C)*J);else{const J=F*Math.sqrt(N*N-1);q=oe=>{const D=Math.exp(-N*F*oe),I=Math.min(J*oe,300);return l-D*((R+N*F*C)*Math.sinh(I)+J*C*Math.cosh(I))/J}}const X={calculatedDuration:S&&_||null,next:J=>{const oe=q(J);if(S)h.done=J>=_;else{let D=0;N<1&&(D=J===0?ai(R):uS(q,J,oe));const I=Math.abs(D)<=r,A=Math.abs(l-oe)<=s;h.done=I&&A}return h.value=h.done?l:oe,h},toString:()=>{const J=Math.min(Ax(X),km),oe=Px(D=>X.next(J*D).value,J,30);return J+"ms "+oe}};return X}function Q1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},S=I=>h!==void 0&&I<h||f!==void 0&&I>f,R=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let N=n*e;const C=_+N,F=l===void 0?C:l(C);F!==C&&(N=F-_);const W=I=>-N*Math.exp(-I/r),q=I=>F+W(I),X=I=>{const A=W(I),V=q(I);E.done=Math.abs(A)<=p,E.value=E.done?F:V};let J,oe;const D=I=>{S(E.value)&&(J=I,oe=cS({keyframes:[E.value,R(E.value)],velocity:uS(q,I,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:I=>{let A=!1;return!oe&&J===void 0&&(A=!0,X(I),D(I)),J!==void 0&&I>=J?oe.next(I-J):(!A&&X(I),E)}}}const eV=zu(.42,0,1,1),tV=zu(0,0,.58,1),hS=zu(.42,0,.58,1),nV=t=>Array.isArray(t)&&typeof t[0]!="number",rV={linear:kn,easeIn:eV,easeInOut:hS,easeOut:tV,circIn:vy,circInOut:Wx,circOut:Hx,backIn:yy,backInOut:zx,backOut:Bx,anticipate:$x},X1=t=>{if(dy(t)){lx(t.length===4);const[e,n,r,s]=t;return zu(e,n,r,s)}else if(typeof t=="string")return rV[t];return t};function iV(t,e,n){const r=[],s=n||lS,a=t.length-1;for(let l=0;l<a;l++){let h=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||kn:e;h=$u(f,h)}r.push(h)}return r}function sV(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(lx(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=iV(e,r,s),f=h.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const E=Ra(t[_],t[_+1],g);return h[_](E)};return n?g=>p(mi(t[0],t[a-1],g)):p}function oV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ra(0,e,r);t.push(ot(n,1,s))}}function aV(t){const e=[0];return oV(e,t.length-1),e}function lV(t,e){return t.map(n=>n*e)}function uV(t,e){return t.map(()=>e||hS).splice(0,t.length-1)}function sd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=nV(r)?r.map(X1):X1(r),a={done:!1,value:e[0]},l=lV(n&&n.length===e.length?n:aV(e),t),h=sV(l,e,{ease:Array.isArray(s)?s:uV(e,s)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const cV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ze.update(e,!0),stop:()=>us(e),now:()=>zt.isProcessing?zt.timestamp:Nr.now()}},hV={decay:Q1,inertia:Q1,tween:sd,keyframes:sd,spring:cS},dV=t=>t/100;class Sy extends oS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=s?.KeyframeResolver||Ty,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new l(a,h,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,h=hy(n)?n:hV[n]||sd;let f,p;h!==sd&&typeof e[0]!="number"&&(f=$u(dV,lS(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=Ax(g));const{calculatedDuration:_}=g,E=_+s,S=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:S,repeatType:R,repeatDelay:N,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-E*(this.speed>=0?1:-1),W=this.speed>=0?F<0:F>g;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let q=this.currentTime,X=a;if(S){const I=Math.min(this.currentTime,g)/_;let A=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&A--,A=Math.min(A,S+1),!!(A%2)&&(R==="reverse"?(V=1-V,N&&(V-=N/_)):R==="mirror"&&(X=l)),q=mi(0,1,V)*_}const J=W?{done:!1,value:f[0]}:X.next(q);h&&(J.value=h(J.value));let{done:oe}=J;!W&&p!==null&&(oe=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return D&&s!==void 0&&(J.value=jd(f,this.options,s)),C&&C(J.value),D&&this.finish(),J}get duration(){const{resolved:e}=this;return e?li(e.calculatedDuration):0}get time(){return li(this.currentTime)}set time(e){e=ai(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cV,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fV=new Set(["opacity","clipPath","filter","transform"]);function pV(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:h="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=Rx(h,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const mV=Qg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),od=10,gV=2e4;function yV(t){return hy(t.type)||t.type==="spring"||!Cx(t.ease)}function vV(t,e){const n=new Sy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<gV;)r=n.sample(a),s.push(r.value),a+=od;return{times:void 0,keyframes:s,duration:a-od,ease:"linear"}}const dS={anticipate:$x,backInOut:zx,circInOut:Wx};function _V(t){return t in dS}class Y1 extends oS{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new sS(a,(l,h)=>this.onKeyframesResolved(l,h),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&rd()&&_V(a)&&(a=dS[a]),yV(this.options)){const{onComplete:_,onUpdate:E,motionValue:S,element:R,...N}=this.options,C=vV(e,N);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,s=C.times,a=C.ease,l="keyframes"}const g=pV(h.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(L1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(jd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return li(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return li(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ai(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return kn;const{animation:r}=n;L1(r,e)}return kn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...S}=this.options,R=new Sy({...S,keyframes:r,duration:s,type:a,ease:l,times:h,isGenerator:!0}),N=ai(this.time);p.setWithVelocity(R.sample(N-od).value,R.sample(N).value,od)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return mV()&&r&&fV.has(r)&&!f&&!p&&!s&&a!=="mirror"&&l!==0&&h!=="inertia"}}const wV={type:"spring",stiffness:500,damping:25,restSpeed:10},EV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TV={type:"keyframes",duration:.8},xV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SV=(t,{keyframes:e})=>e.length>2?TV:fo.has(t)?t.startsWith("scale")?EV(e[1]):wV:xV;function IV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Iy=(t,e,n,r={},s,a)=>l=>{const h=cy(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ai(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:s};IV(h)||(g={...g,...SV(t,g)}),g.duration&&(g.duration=ai(g.duration)),g.repeatDelay&&(g.repeatDelay=ai(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const E=jd(g.keyframes,h);if(E!==void 0)return Ze.update(()=>{g.onUpdate(E),g.onComplete()}),new WD([])}return!a&&Y1.supports(g)?new Y1(g):new Sy(g)};function kV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function fS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:h,...f}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const _ in f){const E=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),S=f[_];if(S===void 0||g&&kV(g,_))continue;const R={delay:n,...cy(l||{},_)};let N=!1;if(window.MotionHandoffAnimation){const F=Ox(t);if(F){const W=window.MotionHandoffAnimation(F,_,Ze);W!==null&&(R.startTime=W,N=!0)}}Pm(t,_),E.start(Iy(_,E,S,t.shouldReduceMotion&&Lx.has(_)?{type:!1}:R,t,N));const C=E.animation;C&&p.push(C)}return h&&Promise.all(p).then(()=>{Ze.update(()=>{h&&i5(t,h)})}),p}function Lm(t,e,n={}){var r;const s=Fd(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(fS(t,s,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return AV(t,e,g+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[l,h]:[h,l];return p().then(()=>g())}else return Promise.all([l(),h(n.delay)])}function AV(t,e,n=0,r=0,s=1,a){const l=[],h=(t.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(PV).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Lm(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function PV(t,e){return t.sortNodePosition(e)}function CV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Lm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Lm(t,e,n);else{const s=typeof e=="function"?Fd(t,e,n.custom):e;r=Promise.all(fS(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const RV=Jg.length;function pS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<RV;n++){const r=Jg[n],s=t.props[r];(Eu(s)||s===!1)&&(e[r]=s)}return e}const bV=[...Yg].reverse(),NV=Yg.length;function DV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>CV(t,n,r)))}function VV(t){let e=DV(t),n=J1(),r=!0;const s=f=>(p,g)=>{var _;const E=Fd(t,g,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:S,transitionEnd:R,...N}=E;p={...p,...N,...R}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=pS(t.parent)||{},_=[],E=new Set;let S={},R=1/0;for(let C=0;C<NV;C++){const F=bV[C],W=n[F],q=p[F]!==void 0?p[F]:g[F],X=Eu(q),J=F===f?W.isActive:null;J===!1&&(R=C);let oe=q===g[F]&&q!==p[F]&&X;if(oe&&r&&t.manuallyAnimateOnMount&&(oe=!1),W.protectedKeys={...S},!W.isActive&&J===null||!q&&!W.prevProp||Md(q)||typeof q=="boolean")continue;const D=LV(W.prevProp,q);let I=D||F===f&&W.isActive&&!oe&&X||C>R&&X,A=!1;const V=Array.isArray(q)?q:[q];let O=V.reduce(s(F),{});J===!1&&(O={});const{prevResolvedValues:B={}}=W,b={...B,...O},Be=xe=>{I=!0,E.has(xe)&&(A=!0,E.delete(xe)),W.needsAnimating[xe]=!0;const ie=t.getValue(xe);ie&&(ie.liveStyle=!1)};for(const xe in b){const ie=O[xe],me=B[xe];if(S.hasOwnProperty(xe))continue;let te=!1;Im(ie)&&Im(me)?te=!kx(ie,me):te=ie!==me,te?ie!=null?Be(xe):E.add(xe):ie!==void 0&&E.has(xe)?Be(xe):W.protectedKeys[xe]=!0}W.prevProp=q,W.prevResolvedValues=O,W.isActive&&(S={...S,...O}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(oe&&D)||A)&&_.push(...V.map(xe=>({animation:xe,options:{type:F}})))}if(E.size){const C={};E.forEach(F=>{const W=t.getBaseTarget(F),q=t.getValue(F);q&&(q.liveStyle=!0),C[F]=W??null}),_.push({animation:C})}let N=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(_):Promise.resolve()}function h(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var S;return(S=E.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const _=l(f);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=J1(),r=!0}}}function LV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kx(e,t):!1}function Hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J1(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}class fs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MV extends fs{constructor(e){super(e),e.animationState||(e.animationState=VV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let OV=0;class FV extends fs{constructor(){super(...arguments),this.id=OV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const mS={animation:{Feature:MV},exit:{Feature:FV}};function Iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Hu(t){return{point:{x:t.pageX,y:t.pageY}}}const jV=t=>e=>fy(e)&&t(e,Hu(e));function ou(t,e,n,r){return Iu(t,e,jV(n),r)}const Z1=(t,e)=>Math.abs(t-e);function UV(t,e){const n=Z1(t.x,e.x),r=Z1(t.y,e.y);return Math.sqrt(n**2+r**2)}class gS{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Hp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=UV(_.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:R}=_,{timestamp:N}=zt;this.history.push({...R,timestamp:N});const{onStart:C,onMove:F}=this.handlers;E||(C&&C(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=$p(E,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:S,onSessionEnd:R,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Hp(_.type==="pointercancel"?this.lastMoveEventInfo:$p(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,C),R&&R(_,C)},!fy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=Hu(e),h=$p(l,this.transformPagePoint),{point:f}=h,{timestamp:p}=zt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Hp(h,this.history)),this.removeListeners=$u(ou(this.contextWindow,"pointermove",this.handlePointerMove),ou(this.contextWindow,"pointerup",this.handlePointerUp),ou(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),us(this.updatePoint)}}function $p(t,e){return e?{point:e(t.point)}:t}function ew(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hp({point:t},e){return{point:t,delta:ew(t,yS(e)),offset:ew(t,BV(e)),velocity:zV(e,.1)}}function BV(t){return t[0]}function yS(t){return t[t.length-1]}function zV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=yS(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ai(e)));)n--;if(!r)return{x:0,y:0};const a=li(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const vS=1e-4,$V=1-vS,HV=1+vS,_S=.01,WV=0-_S,qV=0+_S;function An(t){return t.max-t.min}function KV(t,e,n){return Math.abs(t-e)<=n}function tw(t,e,n,r=.5){t.origin=r,t.originPoint=ot(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$V&&t.scale<=HV||isNaN(t.scale))&&(t.scale=1),(t.translate>=WV&&t.translate<=qV||isNaN(t.translate))&&(t.translate=0)}function au(t,e,n,r){tw(t.x,e.x,n.x,r?r.originX:void 0),tw(t.y,e.y,n.y,r?r.originY:void 0)}function nw(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function GV(t,e,n){nw(t.x,e.x,n.x),nw(t.y,e.y,n.y)}function rw(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function lu(t,e,n){rw(t.x,e.x,n.x),rw(t.y,e.y,n.y)}function QV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ot(n,t,r.max):Math.min(t,n)),t}function iw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XV(t,{top:e,left:n,bottom:r,right:s}){return{x:iw(t.x,n,s),y:iw(t.y,e,r)}}function sw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function YV(t,e){return{x:sw(t.x,e.x),y:sw(t.y,e.y)}}function JV(t,e){let n=.5;const r=An(t),s=An(e);return s>r?n=Ra(e.min,e.max-r,t.min):r>s&&(n=Ra(t.min,t.max-s,e.min)),mi(0,1,n)}function ZV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mm=.35;function e9(t=Mm){return t===!1?t=0:t===!0&&(t=Mm),{x:ow(t,"left","right"),y:ow(t,"top","bottom")}}function ow(t,e,n){return{min:aw(t,e),max:aw(t,n)}}function aw(t,e){return typeof t=="number"?t:t[e]||0}const lw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ma=()=>({x:lw(),y:lw()}),uw=()=>({min:0,max:0}),yt=()=>({x:uw(),y:uw()});function jn(t){return[t("x"),t("y")]}function wS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function t9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function n9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wp(t){return t===void 0||t===1}function Om({scale:t,scaleX:e,scaleY:n}){return!Wp(t)||!Wp(e)||!Wp(n)}function qs(t){return Om(t)||ES(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ES(t){return cw(t.x)||cw(t.y)}function cw(t){return t&&t!=="0%"}function ad(t,e,n){const r=t-n,s=e*r;return n+s}function hw(t,e,n,r,s){return s!==void 0&&(t=ad(t,s,r)),ad(t,n,r)+e}function Fm(t,e=0,n=1,r,s){t.min=hw(t.min,e,n,r,s),t.max=hw(t.max,e,n,r,s)}function TS(t,{x:e,y:n}){Fm(t.x,e.translate,e.scale,e.originPoint),Fm(t.y,n.translate,n.scale,n.originPoint)}const dw=.999999999999,fw=1.0000000000001;function r9(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let h=0;h<s;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ya(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,TS(t,l)),r&&qs(a.latestValues)&&ya(t,a.latestValues))}e.x<fw&&e.x>dw&&(e.x=1),e.y<fw&&e.y>dw&&(e.y=1)}function ga(t,e){t.min=t.min+e,t.max=t.max+e}function pw(t,e,n,r,s=.5){const a=ot(t.min,t.max,s);Fm(t,e,n,a,r)}function ya(t,e){pw(t.x,e.x,e.scaleX,e.scale,e.originX),pw(t.y,e.y,e.scaleY,e.scale,e.originY)}function xS(t,e){return wS(n9(t.getBoundingClientRect(),e))}function i9(t,e,n){const r=xS(t,n),{scroll:s}=e;return s&&(ga(r.x,s.offset.x),ga(r.y,s.offset.y)),r}const SS=({current:t})=>t?t.ownerDocument.defaultView:null,s9=new WeakMap;class o9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hu(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:S,onDragStart:R}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZD(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(C=>{let F=this.getAxisMotionValue(C).get()||0;if(br.test(F)){const{projection:W}=this.visualElement;if(W&&W.layout){const q=W.layout.layoutBox[C];q&&(F=An(q)*(parseFloat(F)/100))}}this.originPoint[C]=F}),R&&Ze.postRender(()=>R(g,_)),Pm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:R,onDrag:N}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:C}=_;if(S&&this.currentDirection===null){this.currentDirection=a9(C),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",_.point,C),this.updateAxis("y",_.point,C),this.visualElement.render(),N&&N(g,_)},h=(g,_)=>this.stop(g,_),f=()=>jn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new gS(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:SS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ze.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!_h(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=QV(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&fa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=XV(s.layoutBox,n):this.constraints=!1,this.elastic=e9(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ZV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=i9(r,s.root,this.visualElement.getTransformPagePoint());let l=YV(s.layout.layoutBox,a);if(n){const h=n(t9(l));this.hasMutatedConstraints=!!h,h&&(l=wS(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=jn(g=>{if(!_h(g,n,this.currentDirection))return;let _=f&&f[g]||{};l&&(_={min:0,max:0});const E=s?200:1e6,S=s?40:1e7,R={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,R)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Pm(this.visualElement,e),r.start(Iy(e,r,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!_h(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:h}=s.layout.layoutBox[n];a.set(e[n]-ot(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();s[l]=JV({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(l=>{if(!_h(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(ot(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;s9.set(this.visualElement,this);const e=this.visualElement.current,n=ou(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();fa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ze.read(r);const l=Iu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(jn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Mm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function _h(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function a9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class l9 extends fs{constructor(e){super(e),this.removeGroupControls=kn,this.removeListeners=kn,this.controls=new o9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const mw=t=>(e,n)=>{t&&Ze.postRender(()=>t(e,n))};class u9 extends fs{constructor(){super(...arguments),this.removePointerDownListener=kn}onPointerDown(e){this.session=new gS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:mw(e),onStart:mw(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&Ze.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=ou(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=gw(t,e.target.x),r=gw(t,e.target.y);return`${n}% ${r}%`}},c9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=cs.parse(t);if(s.length>5)return r;const a=cs.createTransformer(t),l=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=h,s[1+l]/=f;const p=ot(h,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class h9 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;DD(d9),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ze.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ey.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IS(t){const[e,n]=ox(),r=L.useContext(Wg);return k.jsx(h9,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(fx),isPresent:e,safeToRemove:n})}const d9={borderRadius:{...zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zl,borderTopRightRadius:zl,borderBottomLeftRadius:zl,borderBottomRightRadius:zl,boxShadow:c9};function f9(t,e,n){const r=en(t)?t:xu(t);return r.start(Iy("",r,e,n)),r.animation}function p9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const m9=(t,e)=>t.depth-e.depth;class g9{constructor(){this.children=[],this.isDirty=!1}add(e){py(this.children,e),this.isDirty=!0}remove(e){my(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(m9),this.isDirty=!1,this.children.forEach(e)}}function y9(t,e){const n=Nr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(us(r),t(a-e))};return Ze.read(r,!0),()=>us(r)}const kS=["TopLeft","TopRight","BottomLeft","BottomRight"],v9=kS.length,yw=t=>typeof t=="string"?parseFloat(t):t,vw=t=>typeof t=="number"||we.test(t);function _9(t,e,n,r,s,a){s?(t.opacity=ot(0,n.opacity!==void 0?n.opacity:1,w9(r)),t.opacityExit=ot(e.opacity!==void 0?e.opacity:1,0,E9(r))):a&&(t.opacity=ot(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<v9;l++){const h=`border${kS[l]}Radius`;let f=_w(e,h),p=_w(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||vw(f)===vw(p)?(t[h]=Math.max(ot(yw(f),yw(p),r),0),(br.test(p)||br.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=ot(e.rotate||0,n.rotate||0,r))}function _w(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w9=AS(0,.5,Hx),E9=AS(.5,.95,kn);function AS(t,e,n){return r=>r<t?0:r>e?1:n(Ra(t,e,r))}function ww(t,e){t.min=e.min,t.max=e.max}function Fn(t,e){ww(t.x,e.x),ww(t.y,e.y)}function Ew(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Tw(t,e,n,r,s){return t-=e,t=ad(t,1/n,r),s!==void 0&&(t=ad(t,1/s,r)),t}function T9(t,e=0,n=1,r=.5,s,a=t,l=t){if(br.test(e)&&(e=parseFloat(e),e=ot(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=ot(a.min,a.max,r);t===a&&(h-=e),t.min=Tw(t.min,e,n,h,s),t.max=Tw(t.max,e,n,h,s)}function xw(t,e,[n,r,s],a,l){T9(t,e[n],e[r],e[s],e.scale,a,l)}const x9=["x","scaleX","originX"],S9=["y","scaleY","originY"];function Sw(t,e,n,r){xw(t.x,e,x9,n?n.x:void 0,r?r.x:void 0),xw(t.y,e,S9,n?n.y:void 0,r?r.y:void 0)}function Iw(t){return t.translate===0&&t.scale===1}function PS(t){return Iw(t.x)&&Iw(t.y)}function kw(t,e){return t.min===e.min&&t.max===e.max}function I9(t,e){return kw(t.x,e.x)&&kw(t.y,e.y)}function Aw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CS(t,e){return Aw(t.x,e.x)&&Aw(t.y,e.y)}function Pw(t){return An(t.x)/An(t.y)}function Cw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class k9{constructor(){this.members=[]}add(e){py(this.members,e),e.scheduleRender()}remove(e){if(my(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A9(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:S,skewY:R}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),S&&(r+=`skewX(${S}deg) `),R&&(r+=`skewY(${R}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Ks={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Yl=typeof window<"u"&&window.MotionDebug!==void 0,qp=["","X","Y","Z"],P9={visibility:"hidden"},Rw=1e3;let C9=0;function Kp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ox(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RS(r)}function bS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},h=e?.()){this.id=C9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yl&&(Ks.totalNodes=Ks.resolvedTargetDeltas=Ks.recalculatedProjection=0),this.nodes.forEach(N9),this.nodes.forEach(O9),this.nodes.forEach(F9),this.nodes.forEach(D9),Yl&&window.MotionDebug.record(Ks)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new g9)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new gy),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=p9(l),this.instance=l;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=y9(E,250),Vh.hasAnimatedSinceResize&&(Vh.hasAnimatedSinceResize=!1,this.nodes.forEach(Nw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeTargetChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||$9,{onLayoutAnimationStart:C,onLayoutAnimationComplete:F}=g.getProps(),W=!this.targetLayout||!CS(this.targetLayout,R)||S,q=!E&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||q||E&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,q);const X={...cy(N,"layout"),onPlay:C,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X)}else E||Nw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j9),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bw);return}this.isUpdating||this.nodes.forEach(L9),this.isUpdating=!1,this.nodes.forEach(M9),this.nodes.forEach(R9),this.nodes.forEach(b9),this.clearAllSnapshots();const h=Nr.now();zt.delta=mi(0,1e3/60,h-zt.timestamp),zt.timestamp=h,zt.isProcessing=!0,Mp.update.process(zt),Mp.preRender.process(zt),Mp.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V9),this.sharedNodes.forEach(U9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!PS(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(h||qs(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),H9(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:h}=this.options;if(!h)return yt();const f=h.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(W9))){const{scroll:g}=this.root;g&&(ga(f.x,g.offset.x),ga(f.y,g.offset.y))}return f}removeElementScroll(l){var h;const f=yt();if(Fn(f,l),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Fn(f,l),ga(f.x,_.offset.x),ga(f.y,_.offset.y))}return f}applyTransform(l,h=!1){const f=yt();Fn(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ya(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qs(g.latestValues)&&ya(f,g.latestValues)}return qs(this.latestValues)&&ya(f,this.latestValues),f}removeTransform(l){const h=yt();Fn(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!qs(p.latestValues))continue;Om(p.latestValues)&&p.updateSnapshot();const g=yt(),_=p.measurePageBox();Fn(g,_),Sw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return qs(this.latestValues)&&Sw(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),lu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),TS(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),lu(this.relativeTargetOrigin,this.target,S.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yl&&Ks.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Om(this.parent.latestValues)||ES(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Fn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;r9(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=yt());const{target:R}=h;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ew(this.prevProjectionDelta.x,this.projectionDelta.x),Ew(this.prevProjectionDelta.y,this.projectionDelta.y)),au(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!Cw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),Yl&&Ks.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ma(),this.projectionDelta=ma(),this.projectionDeltaWithTransform=ma()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=ma();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=yt(),S=f?f.source:void 0,R=this.layout?this.layout.source:void 0,N=S!==R,C=this.getStack(),F=!C||C.members.length<=1,W=!!(N&&!F&&this.options.crossfade===!0&&!this.path.some(z9));this.animationProgress=0;let q;this.mixTargetDelta=X=>{const J=X/1e3;Dw(_.x,l.x,J),Dw(_.y,l.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B9(this.relativeTarget,this.relativeTargetOrigin,E,J),q&&I9(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=yt()),Fn(q,this.relativeTarget)),N&&(this.animationValues=g,_9(g,p,this.latestValues,J,W,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Vh.hasAnimatedSinceResize=!0,this.currentAnimation=f9(0,Rw,{...l,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&NS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||yt();const _=An(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=An(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Fn(h,f),ya(h,g),au(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new k9),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:h}=this.options;return h?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:h}=this.options;return h?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Kp("z",l,p,this.animationValues);for(let g=0;g<qp.length;g++)Kp(`rotate${qp[g]}`,l,p,this.animationValues),Kp(`skew${qp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return P9;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Nh(l?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Nh(l?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=A9(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x:S,y:R}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const N in nd){if(E[N]===void 0)continue;const{correct:C,applyTo:F}=nd[N],W=p.transform==="none"?E[N]:C(E[N],_);if(F){const q=F.length;for(let X=0;X<q;X++)p[F[X]]=W}else p[N]=W}return this.options.layoutId&&(p.pointerEvents=_===this?Nh(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var h;return(h=l.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(bw),this.root.sharedNodes.clear()}}}function R9(t){t.updateLayout()}function b9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?jn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],S=An(E);E.min=r[_].min,E.max=E.min+S}):NS(a,n.layoutBox,r)&&jn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],S=An(r[_]);E.max=E.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const h=ma();au(h,r,n.layoutBox);const f=ma();l?au(f,t.applyTransform(s,!0),n.measuredBox):au(f,r,n.layoutBox);const p=!PS(h);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:S}=_;if(E&&S){const R=yt();lu(R,n.layoutBox,E.layoutBox);const N=yt();lu(N,r,S.layoutBox),CS(R,N)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=R,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function N9(t){Yl&&Ks.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function V9(t){t.clearSnapshot()}function bw(t){t.clearMeasurements()}function L9(t){t.isLayoutDirty=!1}function M9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function O9(t){t.resolveTargetDelta()}function F9(t){t.calcProjection()}function j9(t){t.resetSkewAndRotation()}function U9(t){t.removeLeadSnapshot()}function Dw(t,e,n){t.translate=ot(e.translate,0,n),t.scale=ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Vw(t,e,n,r){t.min=ot(e.min,n.min,r),t.max=ot(e.max,n.max,r)}function B9(t,e,n,r){Vw(t.x,e.x,n.x,r),Vw(t.y,e.y,n.y,r)}function z9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $9={duration:.45,ease:[.4,0,.1,1]},Lw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mw=Lw("applewebkit/")&&!Lw("chrome/")?Math.round:kn;function Ow(t){t.min=Mw(t.min),t.max=Mw(t.max)}function H9(t){Ow(t.x),Ow(t.y)}function NS(t,e,n){return t==="position"||t==="preserve-aspect"&&!KV(Pw(e),Pw(n),.2)}function W9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const q9=bS({attachResizeListener:(t,e)=>Iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gp={current:void 0},DS=bS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gp.current){const t=new q9({});t.mount(window),t.setOptions({layoutScroll:!0}),Gp.current=t}return Gp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),K9={pan:{Feature:u9},drag:{Feature:l9,ProjectionNode:DS,MeasureLayout:IS}};function Fw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ze.postRender(()=>a(e,Hu(e)))}class G9 extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=GD(e,n=>(Fw(this.node,n,"Start"),r=>Fw(this.node,r,"End"))))}unmount(){}}class Q9 extends fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(Iu(this.node.current,"focus",()=>this.onFocus()),Iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ze.postRender(()=>a(e,Hu(e)))}class X9 extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=JD(e,n=>(jw(this.node,n,"Start"),(r,{success:s})=>jw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jm=new WeakMap,Qp=new WeakMap,Y9=t=>{const e=jm.get(t.target);e&&e(t)},J9=t=>{t.forEach(Y9)};function Z9({root:t,...e}){const n=t||document;Qp.has(n)||Qp.set(n,{});const r=Qp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(J9,{root:t,...e})),r[s]}function eL(t,e,n){const r=Z9(e);return jm.set(t,n),r.observe(t),()=>{jm.delete(t),r.unobserve(t)}}const tL={some:0,all:1};class nL extends fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:tL[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return eL(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rL(e,n))&&this.startObserver()}unmount(){}}function rL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VS={inView:{Feature:nL},tap:{Feature:X9},focus:{Feature:Q9},hover:{Feature:G9}},iL={layout:{ProjectionNode:DS,MeasureLayout:IS}},Um={current:null},LS={current:!1};function sL(){if(LS.current=!0,!!Gg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Um.current=t.matches;t.addListener(e),e()}else Um.current=!1}const oL=[...iS,Yt,cs],aL=t=>oL.find(rS(t)),Uw=new WeakMap;function lL(t,e,n){for(const r in e){const s=e[r],a=n[r];if(en(s))t.addValue(r,s);else if(en(a))t.addValue(r,xu(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,xu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Bw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uL{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Nr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Ze.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Od(n),this.isVariantNode=hx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const R=E[S];f[S]!==void 0&&en(R)&&R.set(f[S],!1)}}mount(e){this.current=e,Uw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LS.current||sL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Um.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uw.delete(this.current),this.projection&&this.projection.unmount(),us(this.notifyUpdate),us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fo.has(e),s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ba){const n=ba[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Bw.length;r++){const s=Bw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=lL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(tS(s)||qx(s))?s=parseFloat(s):!aL(s)&&cs.test(n)&&(s=Jx(e,n)),this.setBaseTarget(e,en(s)?s.get():s)),en(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=ny(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!en(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class MS extends uL{constructor(){super(...arguments),this.KeyframeResolver=sS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cL(t){return window.getComputedStyle(t)}class hL extends MS{constructor(){super(...arguments),this.type="html",this.renderInstance=wx}readValueFromInstance(e,n){if(fo.has(n)){const r=Ey(n);return r&&r.default||0}else{const r=cL(e),s=(yx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xS(e,n)}build(e,n,r){sy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return uy(e,n,r)}}class dL extends MS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fo.has(n)){const r=Ey(n);return r&&r.default||0}return n=Ex.has(n)?n:Zg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Sx(e,n,r)}build(e,n,r){oy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){Tx(e,n,r,s)}mount(e){this.isSVGTag=ly(e.tagName),super.mount(e)}}const OS=(t,e)=>ty(t)?new dL(e):new hL(e,{allowProjection:t!==L.Fragment}),fL=zD({...mS,...VS,...K9,...iL},OS),rt=rD(fL),pL={renderer:OS,...mS,...VS},mL={some:0,all:1};function gL(t,e,{root:n,margin:r,amount:s="some"}={}){const a=Nx(t),l=new WeakMap,h=p=>{p.forEach(g=>{const _=l.get(g.target);if(g.isIntersecting!==!!_)if(g.isIntersecting){const E=e(g);typeof E=="function"?l.set(g.target,E):f.unobserve(g.target)}else typeof _=="function"&&(_(g),l.delete(g.target))})},f=new IntersectionObserver(h,{root:n,rootMargin:r,threshold:typeof s=="number"?s:mL[s]});return a.forEach(p=>f.observe(p)),()=>f.disconnect()}function yL(t,{root:e,margin:n,amount:r,once:s=!1}={}){const[a,l]=L.useState(!1);return L.useEffect(()=>{if(!t.current||s&&a)return;const h=()=>(l(!0),s?void 0:()=>l(!1)),f={root:e&&e.current||void 0,margin:n,amount:r};return gL(t.current,h,f)},[e,t,n,s,r]),a}const FS=L.createContext(),vL=({children:t})=>{const[e,n]=L.useState(()=>{const s=window.localStorage.getItem("theme");return s?s==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});L.useEffect(()=>{const s=window.document.documentElement;e?(s.classList.add("dark"),s.classList.remove("light")):(s.classList.add("light"),s.classList.remove("dark")),window.localStorage.setItem("theme",e?"dark":"light")},[e]);const r=L.useCallback(()=>{n(s=>!s)},[]);return k.jsx(FS.Provider,{value:{isDarkMode:e,toggleTheme:r},children:t})},_L=()=>L.useContext(FS),wL=({error:t})=>{const e=()=>window.location.reload(),n=()=>window.location.assign("/Costas_Portfolio/");return k.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background-alt-light dark:bg-background-alt-dark p-4",children:k.jsxs("div",{className:"text-center max-w-lg mx-auto",children:[k.jsx("div",{className:"mx-auto mb-6 h-16 w-16 flex items-center justify-center rounded-full bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark",children:k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),k.jsx("h1",{className:"text-3xl font-bold text-text-primary-light dark:text-text-primary-dark mb-2",children:"Oops, something went wrong!"}),k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark mb-8",children:"An unexpected error has occurred. Please refresh the page or try again later."}),k.jsxs("div",{className:"flex justify-center items-center gap-4",children:[k.jsx("button",{onClick:e,className:"px-6 py-2 rounded-full font-semibold text-white bg-primary-light hover:bg-primary-hover dark:bg-primary-dark dark:hover:bg-primary-dark-hover transition-colors",children:"Refresh Page"}),k.jsx("button",{onClick:n,className:"px-6 py-2 rounded-full font-semibold text-text-primary-light dark:text-text-primary-dark bg-transparent border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Go to Home"})]}),!1]})})};class EL extends Ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?k.jsx(wL,{error:this.state.error}):this.props.children}}const TL=Ge.memo(()=>k.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-background-light dark:bg-background-dark",children:[k.jsx("div",{className:"absolute top-1/2 left-1/2 w-[150vmax] h-[150vmax] bg-radial-gradient-primary dark:bg-radial-gradient-primary-dark animate-slow-spin"}),k.jsx("div",{className:"absolute top-1/2 left-1/2 w-[120vmax] h-[120vmax] bg-radial-gradient-secondary dark:bg-radial-gradient-secondary-dark animate-reverse-spin opacity-80"})]})),zw=Ge.memo(()=>{const t=({delay:e})=>k.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-primary-light to-secondary-light dark:from-primary-dark dark:to-secondary-dark rounded-full animate-pulse-bounce",style:{animationDelay:e}});return k.jsx("div",{className:"flex justify-center items-center h-screen bg-background-light dark:bg-background-dark",children:k.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[k.jsx(t,{delay:"0s"}),k.jsx(t,{delay:"0.2s"}),k.jsx(t,{delay:"0.4s"})]})})});var jS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$w=Ge.createContext&&Ge.createContext(jS),xL=["attr","size","title"];function SL(t,e){if(t==null)return{};var n=IL(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function Hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(n),!0).forEach(function(r){kL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kL(t,e,n){return e=AL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AL(t){var e=PL(t,"string");return typeof e=="symbol"?e:e+""}function PL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function US(t){return t&&t.map((e,n)=>Ge.createElement(e.tag,ud({key:n},e.attr),US(e.child)))}function ft(t){return e=>Ge.createElement(CL,ld({attr:ud({},t.attr)},e),US(t.child))}function CL(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=SL(t,xL),h=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Ge.createElement("svg",ld({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:ud(ud({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Ge.createElement("title",null,a),t.children)};return $w!==void 0?Ge.createElement($w.Consumer,null,n=>e(n)):e(jS)}function RL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(t)}function bL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function NL(t){return ft({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function DL(t){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function VL(t){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function LL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(t)}function ML(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function OL(t){return ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(t)}function FL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function jL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function UL(t){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function BL(t){return ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function zL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function $L(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function HL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function WL(t){return ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function qL(t){return ft({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function KL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function GL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function QL(t){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(t)}function XL(t){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const Ww=()=>{const{isDarkMode:t,toggleTheme:e}=_L();return k.jsx(rt.button,{onClick:e,className:"p-2 rounded-full text-text-primary-light dark:text-text-primary-dark bg-slate-200/50 dark:bg-slate-800/80 hover:bg-slate-300/80 dark:hover:bg-slate-700/80 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Toggle theme",children:k.jsx(Vd,{mode:"wait",initial:!1,children:k.jsx(rt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:t?k.jsx(GL,{size:20}):k.jsx(KL,{size:20})},t?"dark":"light")})})},YL=({href:t,label:e,children:n,onClick:r})=>k.jsxs("a",{href:t,onClick:r,className:"group relative flex items-center justify-center p-2 rounded-full text-text-secondary-light dark:text-text-secondary-dark hover:bg-primary-light/10 dark:hover:bg-primary-dark/10 hover:text-primary-light dark:hover:text-primary-dark transition-all duration-300","aria-label":e,children:[n,k.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white dark:text-background-dark bg-text-primary-light dark:bg-text-primary-dark rounded-md shadow-md opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:e})]}),JL=Ge.memo(({isMobileMenuOpen:t,toggleMobileMenu:e,closeMobileMenu:n})=>{const r=[{href:"#about",label:"About"},{href:"#experience",label:"Experience"},{href:"#skills",label:"Skills"},{href:"#projects",label:"Projects"},{href:"#contact",label:"Contact"}],s=a=>{a.preventDefault();const l=a.currentTarget.getAttribute("href"),h=document.querySelector(l);n(),h&&setTimeout(()=>{h.scrollIntoView({behavior:"smooth",block:"start"})},100)};return k.jsxs("header",{className:"bg-white/80 dark:bg-background-dark/80 backdrop-blur-md fixed top-0 w-full z-50 border-b border-primary-light/10 dark:border-primary-dark/20",children:[k.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[k.jsx(YL,{href:"#home",label:"Home",onClick:s,children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),k.jsxs("div",{className:"hidden md:flex space-x-6 items-center font-medium text-text-secondary-light dark:text-text-secondary-dark",children:[r.map(a=>k.jsx("a",{href:a.href,onClick:s,className:"hover:text-secondary-light dark:hover:text-secondary-dark transition-colors",children:a.label},a.href)),k.jsx(Ww,{})]}),k.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[k.jsx(Ww,{}),k.jsx("button",{onClick:e,className:"text-text-primary-light dark:text-text-primary-dark focus:outline-none p-1","aria-label":"Toggle menu",children:k.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),k.jsx(Vd,{children:t&&k.jsx(rt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden absolute top-full left-0 w-full bg-background-light dark:bg-background-dark z-40 shadow-lg px-6 py-4 space-y-3 text-text-secondary-light dark:text-text-secondary-dark font-medium",children:r.map(a=>k.jsx("a",{href:a.href,onClick:s,className:"block py-2 hover:text-secondary-light dark:hover:text-secondary-dark",children:a.label},a.href))})})]})});function Ud(t,e,n,r){return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(g){a(g)}}function h(p){try{f(r.throw(p))}catch(g){a(g)}}function f(p){var g;p.done?s(p.value):(g=p.value,g instanceof n?g:new n(function(_){_(g)})).then(l,h)}f((r=r.apply(t,[])).next())})}function ts(t,e){var n,r,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function h(f){return function(p){return function(g){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(s=2&g[0]?r.return:g[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,g[1])).done)return s;switch(r=0,s&&(g=[2&g[0],s.value]),g[0]){case 0:case 1:s=g;break;case 4:return l.label++,{value:g[1],done:!1};case 5:l.label++,r=g[1],g=[0];continue;case 7:g=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!((s=s.length>0&&s[s.length-1])||g[0]!==6&&g[0]!==2)){l=0;continue}if(g[0]===3&&(!s||g[1]>s[0]&&g[1]<s[3])){l.label=g[1];break}if(g[0]===6&&l.label<s[1]){l.label=s[1],s=g;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(g);break}s[2]&&l.ops.pop(),l.trys.pop();continue}g=e.call(t,l)}catch(_){g=[6,_],r=0}finally{n=s=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([f,p])}}}function Bm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r,s,a=n.call(t),l=[];try{for(;(e===void 0||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(h){s={error:h}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}return l}function Tr(t,e,n){if(arguments.length===2)for(var r,s=0,a=e.length;s<a;s++)!r&&s in e||(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))}function qw(t,e,n,r,s){for(var a=[],l=5;l<arguments.length;l++)a[l-5]=arguments[l];return Ud(this,void 0,void 0,function(){var h,f,p,g,_,E;return ts(this,function(S){switch(S.label){case 0:S.trys.push([0,12,13,14]),h=Bm(a),f=h.next(),S.label=1;case 1:if(f.done)return[3,11];switch(p=f.value,typeof p){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,ZL(t,e,p,n,r,s)];case 3:return S.sent(),[3,10];case 4:return[4,BS(p)];case 5:return S.sent(),[3,10];case 6:return[4,p.apply(void 0,Tr([t,e,n,r,s],sr(a),!1))];case 7:return S.sent(),[3,10];case 8:return[4,p];case 9:S.sent(),S.label=10;case 10:return f=h.next(),[3,1];case 11:return[3,14];case 12:return g=S.sent(),_={error:g},[3,14];case 13:try{f&&!f.done&&(E=h.return)&&E.call(h)}finally{if(_)throw _.error}return[7];case 14:return[2]}})})}function ZL(t,e,n,r,s,a){return Ud(this,void 0,void 0,function(){var l,h;return ts(this,function(f){switch(f.label){case 0:return l=t.textContent||"",h=function(p,g){var _=sr(g).slice(0);return Tr(Tr([],sr(p),!1),[NaN],!1).findIndex(function(E,S){return _[S]!==E})}(l,n),[4,eM(t,Tr(Tr([],sr(nM(l,e,h)),!1),sr(tM(n,e,h)),!1),r,s,a)];case 1:return f.sent(),[2]}})})}function BS(t){return Ud(this,void 0,void 0,function(){return ts(this,function(e){switch(e.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return e.sent(),[2]}})})}function eM(t,e,n,r,s){return Ud(this,void 0,void 0,function(){var a,l,h,f,p,g,_,E,S,R,N,C,F;return ts(this,function(W){switch(W.label){case 0:if(a=e,s){for(l=0,h=1;h<e.length;h++)if(f=sr([e[h-1],e[h]],2),p=f[0],(g=f[1]).length>p.length||g===""){l=h;break}a=e.slice(l,e.length)}W.label=1;case 1:W.trys.push([1,6,7,8]),_=Bm(function(q){var X,J,oe,D,I,A,V;return ts(this,function(O){switch(O.label){case 0:X=function(B){return ts(this,function(b){switch(b.label){case 0:return[4,{op:function(Be){return requestAnimationFrame(function(){return Be.textContent=B})},opCode:function(Be){var pt=Be.textContent||"";return B===""||pt.length>B.length?"DELETE":"WRITING"}}];case 1:return b.sent(),[2]}})},O.label=1;case 1:O.trys.push([1,6,7,8]),J=Bm(q),oe=J.next(),O.label=2;case 2:return oe.done?[3,5]:(D=oe.value,[5,X(D)]);case 3:O.sent(),O.label=4;case 4:return oe=J.next(),[3,2];case 5:return[3,8];case 6:return I=O.sent(),A={error:I},[3,8];case 7:try{oe&&!oe.done&&(V=J.return)&&V.call(J)}finally{if(A)throw A.error}return[7];case 8:return[2]}})}(a)),E=_.next(),W.label=2;case 2:return E.done?[3,5]:(S=E.value,R=S.opCode(t)==="WRITING"?n+n*(Math.random()-.5):r+r*(Math.random()-.5),S.op(t),[4,BS(R)]);case 3:W.sent(),W.label=4;case 4:return E=_.next(),[3,2];case 5:return[3,8];case 6:return N=W.sent(),C={error:N},[3,8];case 7:try{E&&!E.done&&(F=_.return)&&F.call(_)}finally{if(C)throw C.error}return[7];case 8:return[2]}})})}function tM(t,e,n){var r,s;return n===void 0&&(n=0),ts(this,function(a){switch(a.label){case 0:r=e(t),s=r.length,a.label=1;case 1:return n<s?[4,r.slice(0,++n).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}function nM(t,e,n){var r,s;return n===void 0&&(n=0),ts(this,function(a){switch(a.label){case 0:r=e(t),s=r.length,a.label=1;case 1:return s>n?[4,r.slice(0,--s).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}var rM="index-module_type__E-SaG";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var iM=L.memo(L.forwardRef(function(t,e){var n=t.sequence,r=t.repeat,s=t.className,a=t.speed,l=a===void 0?40:a,h=t.deletionSpeed,f=t.omitDeletionAnimation,p=f!==void 0&&f,g=t.preRenderFirstString,_=g!==void 0&&g,E=t.wrapper,S=E===void 0?"span":E,R=t.splitter,N=R===void 0?function(te){return Tr([],sr(te),!1)}:R,C=t.cursor,F=C===void 0||C,W=t.style,q=function(te,U){var Q={};for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&U.indexOf(le)<0&&(Q[le]=te[le]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ie=0;for(le=Object.getOwnPropertySymbols(te);Ie<le.length;Ie++)U.indexOf(le[Ie])<0&&Object.prototype.propertyIsEnumerable.call(te,le[Ie])&&(Q[le[Ie]]=te[le[Ie]])}return Q}(t,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),X=q["aria-label"],J=q["aria-hidden"],oe=q.role;h||(h=l);var D=new Array(2).fill(40);[l,h].forEach(function(te,U){switch(typeof te){case"number":D[U]=Math.abs(te-100);break;case"object":var Q=te.type,le=te.value;if(typeof le!="number")break;Q==="keyStrokeDelayInMs"&&(D[U]=le)}});var I,A,V,O,B,b,Be=D[0],pt=D[1],ct=function(te,U){U===void 0&&(U=null);var Q=L.useRef(U);return L.useEffect(function(){te&&(typeof te=="function"?te(Q.current):te.current=Q.current)},[te]),Q}(e),xe=rM;I=s?"".concat(F?xe+" ":"").concat(s):F?xe:"",A=L.useRef(function(){var te,U=n;r===1/0?te=qw:typeof r=="number"&&(U=Array(1+r).fill(n).flat());var Q=te?Tr(Tr([],sr(U),!1),[te],!1):Tr([],sr(U),!1);return qw.apply(void 0,Tr([ct.current,N,Be,pt,p],sr(Q),!1)),function(){ct.current}}),V=L.useRef(),O=L.useRef(!1),B=L.useRef(!1),b=sr(L.useState(0),2)[1],O.current&&(B.current=!0),L.useEffect(function(){return O.current||(V.current=A.current(),O.current=!0),b(function(te){return te+1}),function(){B.current&&V.current&&V.current()}},[]);var ie=S,me=_?n.find(function(te){return typeof te=="string"})||"":null;return Ge.createElement(ie,{"aria-hidden":J,"aria-label":X,role:oe,style:W,className:I,children:X?Ge.createElement("span",{"aria-hidden":"true",ref:ct,children:me}):me,ref:X?void 0:ct})}),function(t,e){return!0});const sM="/Costas_Portfolio/assets/Hero-DEFoMTO8.png",oM=Ge.memo(()=>k.jsx("section",{id:"home",className:`relative min-h-screen flex items-center justify-center text-center md:text-left bg-background-light dark:bg-background-dark overflow-hidden\r
      before:absolute before:inset-0 before:w-full before:h-full before:bg-[linear-gradient(to_right,rgba(30,41,59,0.05)_1px,transparent_1px),linear-gradient(to_bottom,rgba(30,41,59,0.05)_1px,transparent_1px)]\r
      dark:before:bg-[linear-gradient(to_right,rgba(203,213,225,0.05)_1px,transparent_1px),linear-gradient(to_bottom,rgba(203,213,225,0.05)_1px,transparent_1px)]\r
      before:bg-[size:40px_40px]`,children:k.jsxs("div",{className:"relative z-10 container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center",children:[k.jsxs("div",{className:"md:col-span-3",children:[k.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-text-primary-light dark:text-text-primary-dark mb-4",children:[k.jsx("span",{className:"block mb-2 text-xl font-medium text-text-secondary-light dark:text-text-secondary-dark",children:"Hello, I'm"}),"Costas Pinto"]}),k.jsx("div",{children:k.jsx(iM,{sequence:["AI Innovator",2e3,"Data Analyst",2e3,"Data Scientist",2e3,"Problem Solver",2e3,"Creative Thinker",2e3],wrapper:"p",speed:50,className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary-light to-secondary-light dark:from-primary-dark dark:to-secondary-dark h-10",repeat:1/0})}),k.jsx("p",{className:"max-w-xl text-text-secondary-light dark:text-text-secondary-dark leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),k.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-6",children:[k.jsxs(rt.a,{href:"/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-primary-light to-secondary-light dark:from-primary-dark dark:to-secondary-dark text-white dark:text-text-primary-dark font-bold py-3 px-8 rounded-full shadow-lg transition-all",children:[k.jsx($L,{}),"Download CV"]}),k.jsxs("div",{className:"flex gap-4",children:[k.jsx(rt.a,{whileHover:{y:-3},href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-secondary-light dark:hover:text-secondary-dark transition-colors",children:k.jsx(VL,{size:32})}),k.jsx(rt.a,{whileHover:{y:-3},href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-secondary-light dark:hover:text-secondary-dark transition-colors",children:k.jsx(NL,{size:32})})]})]})]}),k.jsx(rt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2,ease:[0,.71,.2,1.01]},className:"md:col-span-2 flex justify-center items-center",children:k.jsxs("div",{className:"relative w-[300px] h-[300px] md:w-[400px] md:h-[400px]",children:[k.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary-light to-secondary-light dark:from-primary-dark dark:to-secondary-dark rounded-full blur-2xl opacity-50 dark:opacity-40"}),k.jsx("div",{className:"relative w-full h-full rounded-full overflow-hidden shadow-2xl border-2 border-primary-light/20 dark:border-primary-dark/20",children:k.jsx("img",{loading:"lazy",src:sM,onError:t=>{t.target.src="https://placehold.co/400x400/ffffff/1e293b?text=CP"},alt:"Costas Pinto",className:"w-full h-full object-cover"})})]})})]})})),ps=Ge.memo(({children:t,id:e,className:n=""})=>{const r={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return k.jsx(rt.section,{id:e,variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:`py-16 md:py-20 ${n}`,children:t})}),ms=Ge.memo(()=>{const t=L.useRef(null),e=yL(t,{once:!0,amount:.5}),n={hidden:{scaleX:0},visible:{scaleX:1,transition:{duration:.8,ease:[.25,1,.5,1]}}};return k.jsx("div",{ref:t,className:"h-1 w-24 mx-auto my-8",children:k.jsx(rt.div,{className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full",style:{transformOrigin:"center"},variants:n,initial:"hidden",animate:e?"visible":"hidden"})})}),aM=Ge.memo(()=>k.jsxs(ps,{id:"about",children:[k.jsx("h2",{className:"text-4xl font-bold text-text-primary-light dark:text-text-primary-dark text-center",children:"About Me"}),k.jsx(ms,{}),k.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 dark:bg-background-dark/20 backdrop-blur-lg border border-white/30 dark:border-white/10 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-primary-light/20 dark:hover:shadow-primary-dark/20 hover:-translate-y-1",children:k.jsx("p",{className:"text-lg leading-relaxed text-text-primary-light/90 dark:text-text-primary-dark/90 text-center",children:"As an MCA student at Manipal University, Jaipur, with a background in Computer Science, I am deeply immersed in the fields of data analytics and machine learning. My internship at SkillFied Mentor solidified my expertise in data exploration, visualization, and interpretation using key technologies like Python, Excel, and Power BI. I am passionate about making complex subjects accessible and have a proven track record of doing so as the founder of JHT SMART STEPS LEARNING. I am now eager to apply my analytical skills and technical knowledge to solve new challenges in the AI and ML industry."})})]})),lM=Ge.memo(({date:t,title:e,company:n,details:r})=>k.jsxs(rt.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-primary-light/20 dark:border-primary-dark/20",children:[k.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-primary-light to-secondary-light dark:from-primary-dark dark:to-secondary-dark rounded-full border-4 border-background-light dark:border-background-dark"}),k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark mb-1 font-medium",children:t}),k.jsx("h3",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark",children:e}),k.jsx("p",{className:"text-lg text-primary-light dark:text-primary-dark font-semibold mb-3",children:n}),k.jsx("ul",{className:"list-disc list-inside text-text-secondary-light dark:text-text-secondary-dark space-y-2",children:r.map((s,a)=>k.jsx("li",{children:s},a))})]})),uM=Ge.memo(()=>{const t=[{date:"Aug 2025 - Present",title:"Machine Learning Intern",company:"Unified Mentor (Remote)",details:["Worked on AI-powered solutions and applied advanced ML algorithms to real-world challenges.","Gained hands-on experience with Python, data preprocessing, and model development.","Collaborated with industry professionals and received mentorship on best practices in AI/ML."]},{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]},{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]}];return k.jsxs(ps,{id:"experience",children:[k.jsx("h2",{className:"text-4xl font-bold text-text-primary-light dark:text-text-primary-dark text-center",children:"Experience"}),k.jsx(ms,{}),k.jsx("div",{className:"max-w-3xl mx-auto space-y-12",children:t.map((e,n)=>k.jsx(lM,{...e},n))})]})}),cM=Ge.memo(()=>{const[t,e]=L.useState("Programming Languages"),n=h=>{e(f=>f===h?null:h)},r={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},s={"Programming Languages":k.jsx(BL,{className:"mr-3 text-primary-light dark:text-primary-dark"}),"Data Science & Analytics":k.jsx(FL,{className:"mr-3 text-primary-light dark:text-primary-dark"}),"Web & App Development":k.jsx(LL,{className:"mr-3 text-secondary-light dark:text-secondary-dark"}),"AI & Generative AI":k.jsx(OL,{className:"mr-3 text-primary-light dark:text-primary-dark"}),"Tools & Workflow":k.jsx(QL,{className:"mr-3 text-text-secondary-light dark:text-text-secondary-dark"})},a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},l={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return k.jsxs(ps,{id:"skills",children:[k.jsx("h2",{className:"text-4xl font-bold text-text-primary-light dark:text-text-primary-dark text-center",children:"My Skills"}),k.jsx(ms,{}),k.jsx("div",{className:"relative p-4 md:p-8 max-w-4xl mx-auto rounded-2xl bg-white/20 dark:bg-background-alt-dark/20 backdrop-blur-lg border border-white/30 dark:border-white/10 shadow-lg dark:shadow-2xl dark:shadow-primary-dark/10 transition-all duration-300 hover:shadow-2xl hover:shadow-primary-light/20 dark:hover:shadow-primary-dark/20 hover:-translate-y-1",children:k.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([h,f])=>k.jsxs("div",{className:"border-b border-primary-light/20 dark:border-primary-dark/20 last:border-b-0",children:[k.jsxs("button",{onClick:()=>n(h),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-text-primary-light dark:text-text-primary-dark focus:outline-none",children:[k.jsxs("span",{className:"flex items-center",children:[s[h],h]}),k.jsx(rt.span,{animate:{rotate:t===h?180:0},children:k.jsx(UL,{className:"w-5 h-5 transition-colors duration-300 text-text-secondary-light dark:text-text-secondary-dark"})})]}),k.jsx(Vd,{children:t===h&&k.jsx(rt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:k.jsx(rt.div,{variants:a,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:f.map(p=>k.jsxs(rt.div,{variants:l,children:[k.jsx("p",{className:"text-lg font-medium text-text-secondary-light dark:text-text-secondary-dark mb-1",children:p.name}),k.jsx("div",{className:"bg-primary-light/10 dark:bg-primary-dark/10 w-full rounded-full h-2.5",children:k.jsx(rt.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-primary-light to-secondary-light dark:from-primary-dark dark:to-secondary-dark",initial:{width:0},animate:{width:`${p.level}%`},transition:{duration:1,ease:"easeOut"}})})]},p.name))})})})]},h))})})]})}),hM=Ge.memo(()=>k.jsxs(ps,{id:"achievements",children:[k.jsx("h2",{className:"text-4xl font-bold text-text-primary-light dark:text-text-primary-dark text-center",children:"Key Achievements"}),k.jsx(ms,{}),k.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 dark:bg-background-dark/20 backdrop-blur-lg border border-white/30 dark:border-white/10 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-primary-light/20 dark:hover:shadow-primary-dark/20 hover:-translate-y-1",children:k.jsx("ul",{className:"space-y-4 text-lg text-text-primary-light/90 dark:text-text-primary-dark/90",children:[{id:1,text:"Completed <strong>60+ Certifications</strong> from IBM, Google, Meta, Microsoft, and Forage."},{id:2,text:"Built and deployed <strong>25+ AI/Data/Full-stack projects</strong> solving real-world problems."},{id:3,text:"Earned top-tier recognitions in job simulations at <strong>BCG, Lloyds, BA, EA, TATA</strong>, and more."},{id:4,text:"Founded <strong>JHT SMART STEPS LEARNING</strong>  empowering students through digital education."}].map(t=>k.jsxs("li",{className:"flex items-start",children:[k.jsx("span",{className:"text-primary-light dark:text-primary-dark mr-3 mt-1 font-bold",children:""}),k.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}})]},t.id))})})]})),dM=Ge.memo(({year:t,title:e,details:n,icon:r})=>k.jsxs(rt.div,{className:"relative pl-12 py-4 border-l-2 border-primary-light/20 dark:border-primary-dark/20",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[k.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-background-light dark:bg-background-dark rounded-full border-4 border-primary-light/20 dark:border-primary-dark/20 flex items-center justify-center shadow-md",children:r}),k.jsx("p",{className:"text-secondary-light dark:text-secondary-dark mb-1 font-semibold",children:t}),k.jsx("h3",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark",children:e}),k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark mt-1",children:n})]})),fM=Ge.memo(()=>{const t=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:k.jsx("svg",{className:"w-6 h-6 text-primary-light dark:text-primary-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:k.jsx("svg",{className:"w-6 h-6 text-primary-light dark:text-primary-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:k.jsx("svg",{className:"w-6 h-6 text-primary-light dark:text-primary-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return k.jsxs(ps,{id:"journey",children:[k.jsx("h2",{className:"text-4xl font-bold text-text-primary-light dark:text-text-primary-dark text-center",children:"My Learning Journey"}),k.jsx(ms,{}),k.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 dark:bg-background-alt-dark/20 backdrop-blur-lg border border-white/30 dark:border-white/10 shadow-lg shadow-primary-light/10 dark:shadow-primary-dark/10 transition-all duration-300 hover:shadow-2xl hover:shadow-primary-light/20 dark:hover:shadow-primary-dark/20 hover:-translate-y-1",children:k.jsx("div",{className:"space-y-12",children:t.map(e=>k.jsx(dM,{...e},e.title))})})]})}),pM=L.memo(({mediaUrl:t,title:e})=>{if(!t)return k.jsx("img",{loading:"lazy",src:"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:e,className:"rounded-lg mb-4 aspect-video object-cover border border-primary-light/10 dark:border-primary-dark/20"});const n=[".mp4",".webm",".mov"].some(s=>t.toLowerCase().includes(s)),r=t.toLowerCase().includes(".pdf");return n?k.jsx("video",{src:t,controls:!0,className:"rounded-lg mb-4 aspect-video object-cover border border-primary-light/10 dark:border-primary-dark/20 w-full",children:"Your browser does not support the video tag."}):r?k.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"rounded-lg mb-4 aspect-video object-cover border border-primary-light/10 dark:border-primary-dark/20 w-full flex flex-col items-center justify-center bg-background-alt-light dark:bg-background-alt-dark hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[k.jsx(qL,{className:"text-6xl text-red-500"}),k.jsx("span",{className:"mt-2 font-semibold text-text-secondary-light dark:text-text-secondary-dark",children:"View PDF"})]}):k.jsx("img",{loading:"lazy",src:t,alt:e,className:"rounded-lg mb-4 aspect-video object-cover border border-primary-light/10 dark:border-primary-dark/20"})}),mM=L.memo(({projects:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return k.jsxs(ps,{id:"projects",children:[k.jsx("h2",{className:"text-4xl font-bold text-text-primary-light dark:text-text-primary-dark text-center",children:"My Projects"}),k.jsx(ms,{}),k.jsx("div",{className:"min-h-[60vh] w-full",children:t.length>0?k.jsx(rt.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(r=>k.jsxs(rt.div,{variants:n,className:"p-6 flex flex-col rounded-2xl bg-white dark:bg-background-alt-dark shadow-lg dark:shadow-2xl dark:shadow-slate-900/50 border border-primary-light/10 dark:border-primary-dark/20 md:bg-white/20 md:dark:bg-slate-800/20 md:backdrop-blur-lg md:border-white/30 transition-all duration-300 md:hover:shadow-2xl md:hover:shadow-primary-light/20 md:hover:-translate-y-1 overflow-hidden",children:[k.jsx(pM,{mediaUrl:r.mediaUrl,title:r.title}),k.jsx("h3",{className:"text-xl font-bold text-text-primary-light dark:text-text-primary-dark mb-2",children:r.title}),k.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark flex-grow mb-4",children:r.description}),k.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags?.map(s=>k.jsx("span",{className:"bg-primary-light/10 dark:bg-primary-dark/10 text-primary-light dark:text-primary-dark text-xs font-medium px-2.5 py-1 rounded-full",children:s},s))}),r.link&&k.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-secondary-light dark:text-secondary-dark border border-secondary-light dark:border-secondary-dark rounded-full py-2 px-4 hover:bg-secondary-light dark:hover:bg-secondary-dark hover:text-white dark:hover:text-background-dark transition-all duration-300 z-10",children:"View Project"})]},r.id))}):k.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:k.jsx("p",{className:"text-center text-text-secondary-light dark:text-text-secondary-dark text-lg",children:"No projects found. Please add some from the admin panel."})})})]})}),gM=()=>k.jsx("style",{children:`
        @keyframes auto-scroll {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(calc(-100% + 90vh));
            }
        }
        .animate-auto-scroll {
            animation: auto-scroll 60s linear infinite alternate;
        }
    `}),yM=({url:t,onClose:e})=>k.jsx(Vd,{children:t&&k.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:k.jsxs(rt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:n=>n.stopPropagation(),className:"bg-background-light dark:bg-background-dark rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",children:[k.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-primary-light/10 dark:border-primary-dark/20",children:[k.jsx("h3",{className:"font-bold text-lg text-text-primary-light dark:text-text-primary-dark",children:"Certificate Viewer"}),k.jsx("button",{onClick:e,className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-secondary-light dark:hover:text-secondary-dark transition-colors p-1 rounded-full hover:bg-secondary-light/10 dark:hover:bg-secondary-dark/10","aria-label":"Close",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsx("div",{className:"flex-grow p-2 bg-background-alt-light dark:bg-background-alt-dark overflow-hidden",children:k.jsx("iframe",{src:t,title:"Certificate PDF Viewer",className:"w-full h-full border-none animate-auto-scroll"})})]})})}),vM=Ge.memo(({licensesPdfUrl:t,internshipsPdfUrl:e})=>{const[n,r]=L.useState(null),s="inline-block text-text-primary-light dark:text-text-primary-dark font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-primary-light/30 dark:shadow-primary-dark/20 bg-gradient-to-r from-primary-light to-secondary-light dark:from-primary-dark dark:to-secondary-dark transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed";return k.jsxs(k.Fragment,{children:[k.jsx(gM,{}),k.jsxs(ps,{id:"certifications",children:[k.jsx("h2",{className:"text-4xl font-bold text-text-primary-light dark:text-text-primary-dark text-center",children:"Certificates"}),k.jsx(ms,{}),k.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[k.jsx(rt.button,{onClick:()=>r(t),disabled:!t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:s,children:"View Licenses & Certs"}),k.jsx(rt.button,{onClick:()=>r(e),disabled:!e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:s,children:"View Internship Certs"})]})]}),k.jsx(yM,{url:n,onClose:()=>r(null)})]})});function _M(t){return ft({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(t)}const wM=Ge.memo(()=>{const[t,e]=L.useState({submitting:!1,succeeded:!1,error:null}),[n,r]=L.useState(null),s=L.useCallback(async f=>{f.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const p=f.target,g=new FormData(p);try{const _=await fetch(p.action,{method:p.method,body:g,headers:{Accept:"application/json"}});if(_.ok)e({submitting:!1,succeeded:!0,error:null}),p.reset(),setTimeout(()=>e(E=>({...E,succeeded:!1})),5e3);else{const S=(await _.json()).errors?.map(R=>R.message).join(", ")||"An unknown error occurred.";throw new Error(S)}}catch(_){e({submitting:!1,succeeded:!1,error:_.message}),setTimeout(()=>e(E=>({...E,error:null})),5e3)}},[]),a=L.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{r("Email copied to clipboard!"),setTimeout(()=>r(null),3e3)}).catch(p=>{console.error("Clipboard copy failed:",p),r("Could not copy email."),setTimeout(()=>r(null),3e3)})},[]),l=L.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),h=[{name:"Instagram",icon:k.jsx(DL,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:k.jsx(RL,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:k.jsx(ML,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:k.jsx(bL,{}),url:"https://facebook.com/costaspinto"}];return k.jsxs(ps,{id:"contact",className:"bg-background-alt-light dark:bg-background-alt-dark text-text-primary-light dark:text-text-primary-dark font-sans !py-0",children:[k.jsxs("div",{className:"container mx-auto px-6 py-20 max-w-7xl",children:[k.jsx("h2",{className:"text-4xl font-bold text-text-primary-light dark:text-text-primary-dark text-center",children:"Lets Get Connected!"}),k.jsx(ms,{}),k.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-16",children:[k.jsxs("div",{className:"flex-1 space-y-10",children:[k.jsx("p",{className:"text-lg text-text-secondary-light dark:text-text-secondary-dark max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),k.jsxs("div",{children:[k.jsx("p",{className:"text-lg font-semibold text-text-primary-light dark:text-text-primary-dark mb-4",children:"Follow Me"}),k.jsx("div",{className:"flex items-center gap-4",children:h.map(f=>k.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer","aria-label":f.name,className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-secondary-light dark:hover:text-secondary-dark transition-colors duration-300 text-2xl",children:f.icon},f.name))})]})]}),k.jsx("div",{className:"flex-1 bg-background-light/90 dark:bg-background-dark/80 backdrop-blur-md p-8 rounded-2xl shadow-xl w-full max-w-lg border border-primary-light/10 dark:border-primary-dark/20",children:k.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:s,className:"space-y-6",children:[k.jsxs("div",{className:"relative",children:[k.jsx("label",{className:"block font-medium mb-1 text-text-secondary-light dark:text-text-secondary-dark",children:"Your Name *"}),k.jsx(XL,{className:"absolute left-3 top-10 text-text-secondary-light/50 dark:text-text-secondary-dark/50"}),k.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-transparent text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("label",{className:"block font-medium mb-1 text-text-secondary-light dark:text-text-secondary-dark",children:"Your Email *"}),k.jsx(HL,{className:"absolute left-3 top-10 text-text-secondary-light/50 dark:text-text-secondary-dark/50"}),k.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-transparent text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("label",{className:"block font-medium mb-1 text-text-secondary-light dark:text-text-secondary-dark",children:"Service you are looking for *"}),k.jsx(zL,{className:"absolute left-3 top-10 text-text-secondary-light/50 dark:text-text-secondary-dark/50"}),k.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-transparent text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block font-medium mb-1 text-text-secondary-light dark:text-text-secondary-dark",children:"Your Message"}),k.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-xl bg-transparent text-text-primary-light dark:text-text-primary-dark focus:outline-none focus:ring-2 focus:ring-primary-light dark:focus:ring-primary-dark"})]}),k.jsx(rt.button,{type:"submit",className:"w-full bg-gradient-to-r from-primary-light to-secondary-light dark:from-primary-dark dark:to-secondary-dark text-white dark:text-text-primary-dark font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.submitting,children:t.submitting?"Submitting...":"Submit"}),t.succeeded&&k.jsxs("p",{className:"flex items-center gap-2 text-primary-light dark:text-primary-dark text-sm mt-2",children:[k.jsx(jL,{})," Thanks for your message! I'll get back to you soon."]}),t.error&&k.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[k.jsx(WL,{})," Error: ",t.error]})]})})]})]}),k.jsx("footer",{className:"bg-background-dark dark:bg-background-alt-dark text-text-secondary-light dark:text-text-secondary-dark py-12 mt-20",children:k.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[k.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[k.jsxs("div",{children:[k.jsx("h2",{className:"text-2xl font-bold text-text-primary-light dark:text-text-primary-dark mb-2",children:"I'm Available for Freelance Projects"}),k.jsx("p",{className:"text-text-secondary-light/70 dark:text-text-secondary-dark/70",children:"Feel free to initiate a project and lets explore how we can collaborate."})]}),k.jsxs("div",{className:"flex gap-4 relative",children:[k.jsxs("button",{onClick:a,className:"flex items-center gap-2 border border-secondary-light dark:border-secondary-dark text-secondary-light dark:text-secondary-dark font-semibold py-2 px-4 rounded-xl hover:bg-secondary-light dark:hover:bg-secondary-dark hover:text-white dark:hover:text-text-primary-dark transition-colors",children:[k.jsx(_M,{})," COPY EMAIL"]}),n&&k.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-primary-light dark:text-primary-dark",children:n})]})]}),k.jsxs("div",{className:"border-t border-background-dark/50 dark:border-background-alt-light/10 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:[k.jsx("span",{className:"font-semibold text-text-primary-light dark:text-text-primary-dark",children:"Costas Pinto"}),k.jsx("nav",{className:"flex gap-6",children:k.jsx(rt.button,{onClick:l,className:"hover:text-secondary-light dark:hover:text-secondary-dark transition",children:"Home"})}),k.jsx("div",{className:"flex items-center gap-4",children:h.map(f=>k.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-secondary-light dark:hover:text-secondary-dark transition text-lg",children:f.icon},f.name))})]}),k.jsxs("p",{className:"text-center text-xs text-text-secondary-light/70 pt-4",children:[" ",new Date().getFullYear()," Costas Pinto."]})]})})]})}),EM=L.lazy(()=>rk(()=>import("./AdminPanel-BXXXyB1j.js"),[])),TM=()=>{const t=iE();return L.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace(/^\/Costas_Portfolio/,"");t(n||"/",{replace:!0})}},[t]),null},Kw={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},xM=(t=768)=>{const[e,n]=L.useState(()=>window.innerWidth<t);return L.useEffect(()=>{const r=()=>n(window.innerWidth<t);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),e},SM=t=>{const[e,n]=L.useState(!1),r=L.useCallback(()=>n(!1),[]),s=L.useCallback(()=>n(a=>!a),[]);return k.jsxs(k.Fragment,{children:[k.jsx(JL,{isMobileMenuOpen:e,closeMobileMenu:r,toggleMobileMenu:s}),k.jsxs("main",{className:"relative z-10",children:[k.jsx(oM,{}),k.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[k.jsx(aM,{}),k.jsx(uM,{}),k.jsx(cM,{}),k.jsx(hM,{}),k.jsx(fM,{}),k.jsx(mM,{projects:t.projects,isMobile:t.isMobile}),k.jsx(vM,{...t})]})]}),k.jsx(wM,{})]})};function IM(){const[t,e]=L.useState({projects:[]}),[n,r]=L.useState(null),[s,a]=L.useState(!0),[l,h]=L.useState(null),f=xM(),p=L.useCallback(async g=>{try{const E=(await Eb(ab(g,"projects"))).docs.map(C=>({id:C.id,...C.data()})),S=GT(g,"portfolioAssets","main"),R=await wb(S),N=R.exists()?R.data():{};e({projects:E,licensesPdfUrl:N.licensesPdfUrl||"",internshipsPdfUrl:N.internshipsPdfUrl||""})}catch(_){console.error(" Firebase fetch error:",_),h("Failed to load portfolio data. Please check your Firestore rules and collection names.")}},[]);return L.useEffect(()=>{(async()=>{try{if(Object.values(Kw).some(N=>!N))throw new Error("One or more Firebase environment variables are missing. Please check your .env file.");const _=t0().length>0?t0()[0]:xE(Kw),E=lb(_),S=N6(_),R=zN(_);r({db:E,auth:S,storage:R}),await p(E)}catch(_){console.error(" Firebase initialization or data fetch failed:",_),h(`Failed to connect to services. Error: ${_.message}`)}finally{a(!1)}})()},[p]),s?k.jsx(zw,{}):l?k.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:k.jsxs("div",{className:"text-center bg-red-100/50 border border-red-500 p-8 rounded-lg max-w-lg",children:[k.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-4",children:"Application Error"}),k.jsx("p",{className:"text-slate-700",children:l})]})}):k.jsx(EL,{children:k.jsx(vL,{children:k.jsxs(ZN,{features:pL,children:[k.jsx(TL,{}),k.jsx("div",{className:"relative font-sans overflow-x-hidden",children:k.jsxs(gA,{basename:"/Costas_Portfolio/",children:[k.jsx(TM,{}),k.jsx(L.Suspense,{fallback:k.jsx(zw,{}),children:k.jsxs(Kk,{children:[k.jsx(Yp,{path:"/",element:k.jsx(SM,{projects:t.projects,licensesPdfUrl:t.licensesPdfUrl,internshipsPdfUrl:t.internshipsPdfUrl,isMobile:f})}),k.jsx(Yp,{path:"/admin",element:n&&k.jsx(EM,{...n})})]})})]})})]})})})}const kM=document.getElementById("root");ek.createRoot(kM).render(k.jsx(Ge.StrictMode,{children:k.jsx(IM,{})}));export{Vd as A,zw as L,wb as a,VM as b,ab as c,GT as d,OM as e,MM as f,Eb as g,RM as h,bM as i,k as j,CM as k,PM as l,rt as m,DM as o,L as r,NM as s,LM as u};
