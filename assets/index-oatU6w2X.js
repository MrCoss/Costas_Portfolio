(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function B0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Af={exports:{}},Ma={},xf={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function f1(){if(ly)return Ce;ly=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function L(O,K,ge){this.props=O,this.context=K,this.refs=j,this.updater=ge||x}L.prototype.isReactComponent={},L.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function q(){}q.prototype=L.prototype;function Q(O,K,ge){this.props=O,this.context=K,this.refs=j,this.updater=ge||x}var J=Q.prototype=new q;J.constructor=Q,M(J,L.prototype),J.isPureReactComponent=!0;var se=Array.isArray,ie=Object.prototype.hasOwnProperty,ue={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function A(O,K,ge){var Ie,Pe={},De=null,Fe=null;if(K!=null)for(Ie in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(De=""+K.key),K)ie.call(K,Ie)&&!V.hasOwnProperty(Ie)&&(Pe[Ie]=K[Ie]);var je=arguments.length-2;if(je===1)Pe.children=ge;else if(1<je){for(var $e=Array(je),Tt=0;Tt<je;Tt++)$e[Tt]=arguments[Tt+2];Pe.children=$e}if(O&&O.defaultProps)for(Ie in je=O.defaultProps,je)Pe[Ie]===void 0&&(Pe[Ie]=je[Ie]);return{$$typeof:n,type:O,key:De,ref:Fe,props:Pe,_owner:ue.current}}function P(O,K){return{$$typeof:n,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function N(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return K[ge]})}var F=/\/+/g;function C(O,K){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):K.toString(36)}function Ye(O,K,ge,Ie,Pe){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Fe=!1;if(O===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(O.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=O,Pe=Pe(Fe),O=Ie===""?"."+C(Fe,0):Ie,se(Pe)?(ge="",O!=null&&(ge=O.replace(F,"$&/")+"/"),Ye(Pe,K,ge,"",function(Tt){return Tt})):Pe!=null&&(k(Pe)&&(Pe=P(Pe,ge+(!Pe.key||Fe&&Fe.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+O)),K.push(Pe)),1;if(Fe=0,Ie=Ie===""?".":Ie+":",se(O))for(var je=0;je<O.length;je++){De=O[je];var $e=Ie+C(De,je);Fe+=Ye(De,K,ge,$e,Pe)}else if($e=T(O),typeof $e=="function")for(O=$e.call(O),je=0;!(De=O.next()).done;)De=De.value,$e=Ie+C(De,je++),Fe+=Ye(De,K,ge,$e,Pe);else if(De==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ct(O,K,ge){if(O==null)return O;var Ie=[],Pe=0;return Ye(O,Ie,"","",function(De){return K.call(ge,De,Pe++)}),Ie}function Rt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ae={current:null},te={transition:null},me={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:te,ReactCurrentOwner:ue};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ct,forEach:function(O,K,ge){Ct(O,function(){K.apply(this,arguments)},ge)},count:function(O){var K=0;return Ct(O,function(){K++}),K},toArray:function(O){return Ct(O,function(K){return K})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=L,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=Q,Ce.StrictMode=i,Ce.Suspense=p,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ce.act=oe,Ce.cloneElement=function(O,K,ge){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ie=M({},O.props),Pe=O.key,De=O.ref,Fe=O._owner;if(K!=null){if(K.ref!==void 0&&(De=K.ref,Fe=ue.current),K.key!==void 0&&(Pe=""+K.key),O.type&&O.type.defaultProps)var je=O.type.defaultProps;for($e in K)ie.call(K,$e)&&!V.hasOwnProperty($e)&&(Ie[$e]=K[$e]===void 0&&je!==void 0?je[$e]:K[$e])}var $e=arguments.length-2;if($e===1)Ie.children=ge;else if(1<$e){je=Array($e);for(var Tt=0;Tt<$e;Tt++)je[Tt]=arguments[Tt+2];Ie.children=je}return{$$typeof:n,type:O.type,key:Pe,ref:De,props:Ie,_owner:Fe}},Ce.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Ce.createElement=A,Ce.createFactory=function(O){var K=A.bind(null,O);return K.type=O,K},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:f,render:O}},Ce.isValidElement=k,Ce.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Rt}},Ce.memo=function(O,K){return{$$typeof:g,type:O,compare:K===void 0?null:K}},Ce.startTransition=function(O){var K=te.transition;te.transition={};try{O()}finally{te.transition=K}},Ce.unstable_act=oe,Ce.useCallback=function(O,K){return Ae.current.useCallback(O,K)},Ce.useContext=function(O){return Ae.current.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O){return Ae.current.useDeferredValue(O)},Ce.useEffect=function(O,K){return Ae.current.useEffect(O,K)},Ce.useId=function(){return Ae.current.useId()},Ce.useImperativeHandle=function(O,K,ge){return Ae.current.useImperativeHandle(O,K,ge)},Ce.useInsertionEffect=function(O,K){return Ae.current.useInsertionEffect(O,K)},Ce.useLayoutEffect=function(O,K){return Ae.current.useLayoutEffect(O,K)},Ce.useMemo=function(O,K){return Ae.current.useMemo(O,K)},Ce.useReducer=function(O,K,ge){return Ae.current.useReducer(O,K,ge)},Ce.useRef=function(O){return Ae.current.useRef(O)},Ce.useState=function(O){return Ae.current.useState(O)},Ce.useSyncExternalStore=function(O,K,ge){return Ae.current.useSyncExternalStore(O,K,ge)},Ce.useTransition=function(){return Ae.current.useTransition()},Ce.version="18.3.1",Ce}var uy;function Od(){return uy||(uy=1,xf.exports=f1()),xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function d1(){if(cy)return Ma;cy=1;var n=Od(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var v,w={},T=null,x=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(x=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:f,key:T,ref:x,props:w,_owner:o.current}}return Ma.Fragment=t,Ma.jsx=c,Ma.jsxs=c,Ma}var hy;function p1(){return hy||(hy=1,Af.exports=d1()),Af.exports}var b=p1(),ne=Od();const m1=B0(ne);var Ou={},If={exports:{}},sn={},Pf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function g1(){return fy||(fy=1,function(n){function e(te,me){var oe=te.length;te.push(me);e:for(;0<oe;){var O=oe-1>>>1,K=te[O];if(0<o(K,me))te[O]=me,te[oe]=K,oe=O;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var me=te[0],oe=te.pop();if(oe!==me){te[0]=oe;e:for(var O=0,K=te.length,ge=K>>>1;O<ge;){var Ie=2*(O+1)-1,Pe=te[Ie],De=Ie+1,Fe=te[De];if(0>o(Pe,oe))De<K&&0>o(Fe,Pe)?(te[O]=Fe,te[De]=oe,O=De):(te[O]=Pe,te[Ie]=oe,O=Ie);else if(De<K&&0>o(Fe,oe))te[O]=Fe,te[De]=oe,O=De;else break e}}return me}function o(te,me){var oe=te.sortIndex-me.sortIndex;return oe!==0?oe:te.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],g=[],v=1,w=null,T=3,x=!1,M=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(te){for(var me=t(g);me!==null;){if(me.callback===null)i(g);else if(me.startTime<=te)i(g),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(g)}}function se(te){if(j=!1,J(te),!M)if(t(p)!==null)M=!0,Rt(ie);else{var me=t(g);me!==null&&Ae(se,me.startTime-te)}}function ie(te,me){M=!1,j&&(j=!1,q(A),A=-1),x=!0;var oe=T;try{for(J(me),w=t(p);w!==null&&(!(w.expirationTime>me)||te&&!N());){var O=w.callback;if(typeof O=="function"){w.callback=null,T=w.priorityLevel;var K=O(w.expirationTime<=me);me=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(p)&&i(p),J(me)}else i(p);w=t(p)}if(w!==null)var ge=!0;else{var Ie=t(g);Ie!==null&&Ae(se,Ie.startTime-me),ge=!1}return ge}finally{w=null,T=oe,x=!1}}var ue=!1,V=null,A=-1,P=5,k=-1;function N(){return!(n.unstable_now()-k<P)}function F(){if(V!==null){var te=n.unstable_now();k=te;var me=!0;try{me=V(!0,te)}finally{me?C():(ue=!1,V=null)}}else ue=!1}var C;if(typeof Q=="function")C=function(){Q(F)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Ct=Ye.port2;Ye.port1.onmessage=F,C=function(){Ct.postMessage(null)}}else C=function(){L(F,0)};function Rt(te){V=te,ue||(ue=!0,C())}function Ae(te,me){A=L(function(){te(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){M||x||(M=!0,Rt(ie))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(te){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var oe=T;T=me;try{return te()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var oe=T;T=te;try{return me()}finally{T=oe}},n.unstable_scheduleCallback=function(te,me,oe){var O=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,te){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=oe+K,te={id:v++,callback:me,priorityLevel:te,startTime:oe,expirationTime:K,sortIndex:-1},oe>O?(te.sortIndex=oe,e(g,te),t(p)===null&&te===t(g)&&(j?(q(A),A=-1):j=!0,Ae(se,oe-O))):(te.sortIndex=K,e(p,te),M||x||(M=!0,Rt(ie))),te},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(te){var me=T;return function(){var oe=T;T=me;try{return te.apply(this,arguments)}finally{T=oe}}}}(Cf)),Cf}var dy;function y1(){return dy||(dy=1,Pf.exports=g1()),Pf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function v1(){if(py)return sn;py=1;var n=Od(),e=y1();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(r){return p.call(w,r)?!0:p.call(v,r)?!1:g.test(r)?w[r]=!0:(v[r]=!0,!1)}function x(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,a,h){if(s===null||typeof s>"u"||x(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,a,h,d,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(q,Q);L[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(q,Q);L[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(q,Q);L[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,s,a,h){var d=L.hasOwnProperty(s)?L[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,a,d,h)&&(a=null),h||d===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ue=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),te=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,O;function K(r){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var ge=!1;function Ie(r,s){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(r,[],s)}else{try{s.call()}catch($){h=$}r.call(s.prototype)}else{try{throw Error()}catch($){h=$}r()}}catch($){if($&&h&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),y=h.stack.split(`
`),E=d.length-1,I=y.length-1;1<=E&&0<=I&&d[E]!==y[I];)I--;for(;1<=E&&0<=I;E--,I--)if(d[E]!==y[I]){if(E!==1||I!==1)do if(E--,I--,0>I||d[E]!==y[I]){var R=`
`+d[E].replace(" at new "," at ");return r.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",r.displayName)),R}while(1<=E&&0<=I);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?K(r):""}function Pe(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case ue:return"Portal";case P:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case Ye:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ct:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case Rt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=$e(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function gr(r){r._valueTracker||(r._valueTracker=Tt(r))}function vs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=$e(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Br(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Vi(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function _s(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=je(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Uo(r,s){s=s.checked,s!=null&&J(r,"checked",s,!1)}function Bo(r,s){Uo(r,s);var a=je(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ws(r,s.type,a):s.hasOwnProperty("defaultValue")&&ws(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Tl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function ws(r,s,a){(s!=="number"||Br(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var yr=Array.isArray;function vr(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function zo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Es(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(yr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:je(a)}}function Ts(r,s){var a=je(s.value),h=je(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function $o(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,Ho=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function zr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Di=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(r){Di.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ki[s]=ki[r]})});function qo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ki.hasOwnProperty(r)&&ki[r]?(""+s).trim():s+"px"}function Wo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=qo(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var Ko=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(r,s){if(s){if(Ko[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Qo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function Ss(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var As=null,_n=null,Xn=null;function xs(r){if(r=_a(r)){if(typeof As!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Jl(s),As(r.stateNode,r.type,s))}}function Yn(r){_n?Xn?Xn.push(r):Xn=[r]:_n=r}function Xo(){if(_n){var r=_n,s=Xn;if(Xn=_n=null,xs(r),s)for(r=0;r<s.length;r++)xs(s[r])}}function Mi(r,s){return r(s)}function Yo(){}var wr=!1;function Jo(r,s,a){if(wr)return r(s,a);wr=!0;try{return Mi(r,s,a)}finally{wr=!1,(_n!==null||Xn!==null)&&(Yo(),Xo())}}function ot(r,s){var a=r.stateNode;if(a===null)return null;var h=Jl(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Is=!1;if(f)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Is=!1}function Li(r,s,a,h,d,y,E,I,R){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(Y){this.onError(Y)}}var bi=!1,Ps=null,Mn=!1,Zo=null,Yc={onError:function(r){bi=!0,Ps=r}};function Cs(r,s,a,h,d,y,E,I,R){bi=!1,Ps=null,Li.apply(Yc,arguments)}function Sl(r,s,a,h,d,y,E,I,R){if(Cs.apply(this,arguments),bi){if(bi){var $=Ps;bi=!1,Ps=null}else throw Error(t(198));Mn||(Mn=!0,Zo=$)}}function Ln(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Oi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function bn(r){if(Ln(r)!==r)throw Error(t(188))}function Al(r){var s=r.alternate;if(!s){if(s=Ln(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return bn(d),r;if(y===h)return bn(d),s;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=y;else{for(var E=!1,I=d.child;I;){if(I===a){E=!0,a=d,h=y;break}if(I===h){E=!0,h=d,a=y;break}I=I.sibling}if(!E){for(I=y.child;I;){if(I===a){E=!0,a=y,h=d;break}if(I===h){E=!0,h=y,a=d;break}I=I.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ea(r){return r=Al(r),r!==null?Rs(r):null}function Rs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Rs(r);if(s!==null)return s;r=r.sibling}return null}var Vs=e.unstable_scheduleCallback,ta=e.unstable_cancelCallback,xl=e.unstable_shouldYield,Jc=e.unstable_requestPaint,He=e.unstable_now,Il=e.unstable_getCurrentPriorityLevel,Fi=e.unstable_ImmediatePriority,$r=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,na=e.unstable_LowPriority,Pl=e.unstable_IdlePriority,ji=null,ln=null;function Cl(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(ji,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Vl,ra=Math.log,Rl=Math.LN2;function Vl(r){return r>>>=0,r===0?32:31-(ra(r)/Rl|0)|0}var ks=64,Ds=4194304;function Hr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ui(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,E=a&268435455;if(E!==0){var I=E&~d;I!==0?h=Hr(I):(y&=E,y!==0&&(h=Hr(y)))}else E=a&~d,E!==0?h=Hr(E):y!==0&&(h=Hr(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Kt(s),d=1<<a,h|=r[a],s&=~d;return h}function Zc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Kt(y),I=1<<E,R=d[E];R===-1?((I&a)===0||(I&h)!==0)&&(d[E]=Zc(I,s)):R<=s&&(r.expiredLanes|=I),y&=~I}}function un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bi(){var r=ks;return ks<<=1,(ks&4194240)===0&&(ks=64),r}function qr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Wr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function ze(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Kt(a),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function Kr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Kt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var ke=0;function Gr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var kl,Ns,Dl,Nl,Ml,ia=!1,Jn=[],Vt=null,On=null,Fn=null,Qr=new Map,En=new Map,Zn=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(r,s){switch(r){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Qr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(s.pointerId)}}function Yt(r,s,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=_a(s),s!==null&&Ns(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function th(r,s,a,h,d){switch(s){case"focusin":return Vt=Yt(Vt,r,s,a,h,d),!0;case"dragenter":return On=Yt(On,r,s,a,h,d),!0;case"mouseover":return Fn=Yt(Fn,r,s,a,h,d),!0;case"pointerover":var y=d.pointerId;return Qr.set(y,Yt(Qr.get(y)||null,r,s,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,En.set(y,Yt(En.get(y)||null,r,s,a,h,d)),!0}return!1}function bl(r){var s=Wi(r.target);if(s!==null){var a=Ln(s);if(a!==null){if(s=a.tag,s===13){if(s=Oi(a),s!==null){r.blockedOn=s,Ml(r.priority,function(){Dl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ms(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Ni=h,a.target.dispatchEvent(h),Ni=null}else return s=_a(a),s!==null&&Ns(s),r.blockedOn=a,!1;s.shift()}return!0}function zi(r,s,a){Tr(r)&&a.delete(s)}function Ol(){ia=!1,Vt!==null&&Tr(Vt)&&(Vt=null),On!==null&&Tr(On)&&(On=null),Fn!==null&&Tr(Fn)&&(Fn=null),Qr.forEach(zi),En.forEach(zi)}function jn(r,s){r.blockedOn===s&&(r.blockedOn=null,ia||(ia=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ol)))}function Un(r){function s(d){return jn(d,r)}if(0<Jn.length){jn(Jn[0],r);for(var a=1;a<Jn.length;a++){var h=Jn[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Vt!==null&&jn(Vt,r),On!==null&&jn(On,r),Fn!==null&&jn(Fn,r),Qr.forEach(s),En.forEach(s),a=0;a<Zn.length;a++)h=Zn[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)bl(a),a.blockedOn===null&&Zn.shift()}var Sr=se.ReactCurrentBatchConfig,Xr=!0;function Je(r,s,a,h){var d=ke,y=Sr.transition;Sr.transition=null;try{ke=1,sa(r,s,a,h)}finally{ke=d,Sr.transition=y}}function nh(r,s,a,h){var d=ke,y=Sr.transition;Sr.transition=null;try{ke=4,sa(r,s,a,h)}finally{ke=d,Sr.transition=y}}function sa(r,s,a,h){if(Xr){var d=Ms(r,s,a,h);if(d===null)dh(r,s,h,$i,a),Ll(r,h);else if(th(d,r,s,a,h))h.stopPropagation();else if(Ll(r,h),s&4&&-1<eh.indexOf(r)){for(;d!==null;){var y=_a(d);if(y!==null&&kl(y),y=Ms(r,s,a,h),y===null&&dh(r,s,h,$i,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else dh(r,s,h,null,a)}}var $i=null;function Ms(r,s,a,h){if($i=null,r=Ss(h),r=Wi(r),r!==null)if(s=Ln(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Oi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return $i=r,null}function oa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Il()){case Fi:return 1;case $r:return 4;case wn:case na:return 16;case Pl:return 536870912;default:return 16}default:return 16}}var cn=null,Ls=null,Jt=null;function aa(){if(Jt)return Jt;var r,s=Ls,a=s.length,h,d="value"in cn?cn.value:cn.textContent,y=d.length;for(r=0;r<a&&s[r]===d[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===d[y-h];h++);return Jt=d.slice(r,1<h?1-h:void 0)}function bs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function la(){return!1}function kt(r){function s(a,h,d,y,E){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?er:la,this.isPropagationStopped=la,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=kt(Bn),tr=oe({},Bn,{view:0,detail:0}),rh=kt(tr),Fs,Ar,Yr,Hi=oe({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(Fs=r.screenX-Yr.screenX,Ar=r.screenY-Yr.screenY):Ar=Fs=0,Yr=r),Fs)},movementY:function(r){return"movementY"in r?r.movementY:Ar}}),js=kt(Hi),ua=oe({},Hi,{dataTransfer:0}),Fl=kt(ua),Us=oe({},tr,{relatedTarget:0}),Bs=kt(Us),jl=oe({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),xr=kt(jl),Ul=oe({},Bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Bl=kt(Ul),zl=oe({},Bn,{data:0}),ca=kt(zl),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=$l[r])?!!s[r]:!1}function nr(){return Hl}var u=oe({},tr,{key:function(r){if(r.key){var s=zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=bs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(r){return r.type==="keypress"?bs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),_=oe({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=kt(_),U=oe({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),H=kt(U),re=oe({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=kt(re),yt=oe({},Hi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=kt(yt),St=[9,13,27,32],ct=f&&"CompositionEvent"in window,Tn=null;f&&"documentMode"in document&&(Tn=document.documentMode);var hn=f&&"TextEvent"in window&&!Tn,qi=f&&(!ct||Tn&&8<Tn&&11>=Tn),$s=" ",nm=!1;function rm(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Hs=!1;function uT(r,s){switch(r){case"compositionend":return im(s);case"keypress":return s.which!==32?null:(nm=!0,$s);case"textInput":return r=s.data,r===$s&&nm?null:r;default:return null}}function cT(r,s){if(Hs)return r==="compositionend"||!ct&&rm(r,s)?(r=aa(),Jt=Ls=cn=null,Hs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qi&&s.locale!=="ko"?null:s.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!hT[r.type]:s==="textarea"}function om(r,s,a,h){Yn(h),s=Ql(s,"onChange"),0<s.length&&(a=new Os("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ha=null,fa=null;function fT(r){Am(r,0)}function ql(r){var s=Qs(r);if(vs(s))return r}function dT(r,s){if(r==="change")return s}var am=!1;if(f){var ih;if(f){var sh="oninput"in document;if(!sh){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),sh=typeof lm.oninput=="function"}ih=sh}else ih=!1;am=ih&&(!document.documentMode||9<document.documentMode)}function um(){ha&&(ha.detachEvent("onpropertychange",cm),fa=ha=null)}function cm(r){if(r.propertyName==="value"&&ql(fa)){var s=[];om(s,fa,r,Ss(r)),Jo(fT,s)}}function pT(r,s,a){r==="focusin"?(um(),ha=s,fa=a,ha.attachEvent("onpropertychange",cm)):r==="focusout"&&um()}function mT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ql(fa)}function gT(r,s){if(r==="click")return ql(s)}function yT(r,s){if(r==="input"||r==="change")return ql(s)}function vT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:vT;function da(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!zn(r[d],s[d]))return!1}return!0}function hm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fm(r,s){var a=hm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hm(a)}}function dm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?dm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function pm(){for(var r=window,s=Br();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Br(r.document)}return s}function oh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function _T(r){var s=pm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&dm(a.ownerDocument.documentElement,a)){if(h!==null&&oh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=fm(a,y);var E=fm(a,h);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wT=f&&"documentMode"in document&&11>=document.documentMode,qs=null,ah=null,pa=null,lh=!1;function mm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lh||qs==null||qs!==Br(h)||(h=qs,"selectionStart"in h&&oh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),pa&&da(pa,h)||(pa=h,h=Ql(ah,"onSelect"),0<h.length&&(s=new Os("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=qs)))}function Wl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ws={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},uh={},gm={};f&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Kl(r){if(uh[r])return uh[r];if(!Ws[r])return r;var s=Ws[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in gm)return uh[r]=s[a];return r}var ym=Kl("animationend"),vm=Kl("animationiteration"),_m=Kl("animationstart"),wm=Kl("transitionend"),Em=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(r,s){Em.set(r,s),l(s,[r])}for(var ch=0;ch<Tm.length;ch++){var hh=Tm[ch],ET=hh.toLowerCase(),TT=hh[0].toUpperCase()+hh.slice(1);Jr(ET,"on"+TT)}Jr(ym,"onAnimationEnd"),Jr(vm,"onAnimationIteration"),Jr(_m,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(wm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function Sm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Sl(h,s,void 0,r),r.currentTarget=null}function Am(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var I=h[E],R=I.instance,$=I.currentTarget;if(I=I.listener,R!==y&&d.isPropagationStopped())break e;Sm(d,I,$),y=R}else for(E=0;E<h.length;E++){if(I=h[E],R=I.instance,$=I.currentTarget,I=I.listener,R!==y&&d.isPropagationStopped())break e;Sm(d,I,$),y=R}}}if(Mn)throw r=Zo,Mn=!1,Zo=null,r}function We(r,s){var a=s[_h];a===void 0&&(a=s[_h]=new Set);var h=r+"__bubble";a.has(h)||(xm(s,r,2,!1),a.add(h))}function fh(r,s,a){var h=0;s&&(h|=4),xm(a,r,h,s)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function ga(r){if(!r[Gl]){r[Gl]=!0,i.forEach(function(a){a!=="selectionchange"&&(ST.has(a)||fh(a,!1,r),fh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Gl]||(s[Gl]=!0,fh("selectionchange",!1,s))}}function xm(r,s,a,h){switch(oa(s)){case 1:var d=Je;break;case 4:d=nh;break;default:d=sa}a=d.bind(null,s,a,r),d=void 0,!Is||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function dh(r,s,a,h,d){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var I=h.stateNode.containerInfo;if(I===d||I.nodeType===8&&I.parentNode===d)break;if(E===4)for(E=h.return;E!==null;){var R=E.tag;if((R===3||R===4)&&(R=E.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;E=E.return}for(;I!==null;){if(E=Wi(I),E===null)return;if(R=E.tag,R===5||R===6){h=y=E;continue e}I=I.parentNode}}h=h.return}Jo(function(){var $=y,Y=Ss(a),Z=[];e:{var X=Em.get(r);if(X!==void 0){var ae=Os,he=r;switch(r){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":he="focus",ae=Bs;break;case"focusout":he="blur",ae=Bs;break;case"beforeblur":case"afterblur":ae=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Fl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=H;break;case ym:case vm:case _m:ae=xr;break;case wm:ae=Be;break;case"scroll":ae=rh;break;case"wheel":ae=Ne;break;case"copy":case"cut":case"paste":ae=Bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=S}var fe=(s&4)!==0,at=!fe&&r==="scroll",B=fe?X!==null?X+"Capture":null:X;fe=[];for(var D=$,z;D!==null;){z=D;var ee=z.stateNode;if(z.tag===5&&ee!==null&&(z=ee,B!==null&&(ee=ot(D,B),ee!=null&&fe.push(ya(D,ee,z)))),at)break;D=D.return}0<fe.length&&(X=new ae(X,he,null,a,Y),Z.push({event:X,listeners:fe}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",X&&a!==Ni&&(he=a.relatedTarget||a.fromElement)&&(Wi(he)||he[Ir]))break e;if((ae||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=$,he=he?Wi(he):null,he!==null&&(at=Ln(he),he!==at||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=$),ae!==he)){if(fe=js,ee="onMouseLeave",B="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(fe=S,ee="onPointerLeave",B="onPointerEnter",D="pointer"),at=ae==null?X:Qs(ae),z=he==null?X:Qs(he),X=new fe(ee,D+"leave",ae,a,Y),X.target=at,X.relatedTarget=z,ee=null,Wi(Y)===$&&(fe=new fe(B,D+"enter",he,a,Y),fe.target=z,fe.relatedTarget=at,ee=fe),at=ee,ae&&he)t:{for(fe=ae,B=he,D=0,z=fe;z;z=Ks(z))D++;for(z=0,ee=B;ee;ee=Ks(ee))z++;for(;0<D-z;)fe=Ks(fe),D--;for(;0<z-D;)B=Ks(B),z--;for(;D--;){if(fe===B||B!==null&&fe===B.alternate)break t;fe=Ks(fe),B=Ks(B)}fe=null}else fe=null;ae!==null&&Im(Z,X,ae,fe,!1),he!==null&&at!==null&&Im(Z,at,he,fe,!0)}}e:{if(X=$?Qs($):window,ae=X.nodeName&&X.nodeName.toLowerCase(),ae==="select"||ae==="input"&&X.type==="file")var pe=dT;else if(sm(X))if(am)pe=yT;else{pe=mT;var ve=pT}else(ae=X.nodeName)&&ae.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(pe=gT);if(pe&&(pe=pe(r,$))){om(Z,pe,a,Y);break e}ve&&ve(r,X,$),r==="focusout"&&(ve=X._wrapperState)&&ve.controlled&&X.type==="number"&&ws(X,"number",X.value)}switch(ve=$?Qs($):window,r){case"focusin":(sm(ve)||ve.contentEditable==="true")&&(qs=ve,ah=$,pa=null);break;case"focusout":pa=ah=qs=null;break;case"mousedown":lh=!0;break;case"contextmenu":case"mouseup":case"dragend":lh=!1,mm(Z,a,Y);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":mm(Z,a,Y)}var _e;if(ct)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Hs?rm(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(qi&&a.locale!=="ko"&&(Hs||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Hs&&(_e=aa()):(cn=Y,Ls="value"in cn?cn.value:cn.textContent,Hs=!0)),ve=Ql($,Te),0<ve.length&&(Te=new ca(Te,r,null,a,Y),Z.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=im(a),_e!==null&&(Te.data=_e)))),(_e=hn?uT(r,a):cT(r,a))&&($=Ql($,"onBeforeInput"),0<$.length&&(Y=new ca("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Y,listeners:$}),Y.data=_e))}Am(Z,s)})}function ya(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Ql(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=ot(r,a),y!=null&&h.unshift(ya(r,y,d)),y=ot(r,s),y!=null&&h.push(ya(r,y,d))),r=r.return}return h}function Ks(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Im(r,s,a,h,d){for(var y=s._reactName,E=[];a!==null&&a!==h;){var I=a,R=I.alternate,$=I.stateNode;if(R!==null&&R===h)break;I.tag===5&&$!==null&&(I=$,d?(R=ot(a,y),R!=null&&E.unshift(ya(a,R,I))):d||(R=ot(a,y),R!=null&&E.push(ya(a,R,I)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var AT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function Pm(r){return(typeof r=="string"?r:""+r).replace(AT,`
`).replace(xT,"")}function Xl(r,s,a){if(s=Pm(s),Pm(r)!==s&&a)throw Error(t(425))}function Yl(){}var ph=null,mh=null;function gh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,PT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(r){return Cm.resolve(null).then(r).catch(CT)}:yh;function CT(r){setTimeout(function(){throw r})}function vh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),Un(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);Un(s)}function Zr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Rm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),rr="__reactFiber$"+Gs,va="__reactProps$"+Gs,Ir="__reactContainer$"+Gs,_h="__reactEvents$"+Gs,RT="__reactListeners$"+Gs,VT="__reactHandles$"+Gs;function Wi(r){var s=r[rr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Ir]||a[rr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Rm(r);r!==null;){if(a=r[rr])return a;r=Rm(r)}return s}r=a,a=r.parentNode}return null}function _a(r){return r=r[rr]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Qs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Jl(r){return r[va]||null}var wh=[],Xs=-1;function ei(r){return{current:r}}function Ke(r){0>Xs||(r.current=wh[Xs],wh[Xs]=null,Xs--)}function qe(r,s){Xs++,wh[Xs]=r.current,r.current=s}var ti={},Ft=ei(ti),Zt=ei(!1),Ki=ti;function Ys(r,s){var a=r.type.contextTypes;if(!a)return ti;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function en(r){return r=r.childContextTypes,r!=null}function Zl(){Ke(Zt),Ke(Ft)}function Vm(r,s,a){if(Ft.current!==ti)throw Error(t(168));qe(Ft,s),qe(Zt,a)}function km(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Fe(r)||"Unknown",d));return oe({},a,h)}function eu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ti,Ki=Ft.current,qe(Ft,r),qe(Zt,Zt.current),!0}function Dm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=km(r,s,Ki),h.__reactInternalMemoizedMergedChildContext=r,Ke(Zt),Ke(Ft),qe(Ft,r)):Ke(Zt),qe(Zt,a)}var Pr=null,tu=!1,Eh=!1;function Nm(r){Pr===null?Pr=[r]:Pr.push(r)}function kT(r){tu=!0,Nm(r)}function ni(){if(!Eh&&Pr!==null){Eh=!0;var r=0,s=ke;try{var a=Pr;for(ke=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Pr=null,tu=!1}catch(d){throw Pr!==null&&(Pr=Pr.slice(r+1)),Vs(Fi,ni),d}finally{ke=s,Eh=!1}}return null}var Js=[],Zs=0,nu=null,ru=0,Sn=[],An=0,Gi=null,Cr=1,Rr="";function Qi(r,s){Js[Zs++]=ru,Js[Zs++]=nu,nu=r,ru=s}function Mm(r,s,a){Sn[An++]=Cr,Sn[An++]=Rr,Sn[An++]=Gi,Gi=r;var h=Cr;r=Rr;var d=32-Kt(h)-1;h&=~(1<<d),a+=1;var y=32-Kt(s)+d;if(30<y){var E=d-d%5;y=(h&(1<<E)-1).toString(32),h>>=E,d-=E,Cr=1<<32-Kt(s)+d|a<<d|h,Rr=y+r}else Cr=1<<y|a<<d|h,Rr=r}function Th(r){r.return!==null&&(Qi(r,1),Mm(r,1,0))}function Sh(r){for(;r===nu;)nu=Js[--Zs],Js[Zs]=null,ru=Js[--Zs],Js[Zs]=null;for(;r===Gi;)Gi=Sn[--An],Sn[An]=null,Rr=Sn[--An],Sn[An]=null,Cr=Sn[--An],Sn[An]=null}var fn=null,dn=null,Ze=!1,$n=null;function Lm(r,s){var a=Cn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function bm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,fn=r,dn=Zr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,fn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Gi!==null?{id:Cr,overflow:Rr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Cn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,fn=r,dn=null,!0):!1;default:return!1}}function Ah(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xh(r){if(Ze){var s=dn;if(s){var a=s;if(!bm(r,s)){if(Ah(r))throw Error(t(418));s=Zr(a.nextSibling);var h=fn;s&&bm(r,s)?Lm(h,a):(r.flags=r.flags&-4097|2,Ze=!1,fn=r)}}else{if(Ah(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ze=!1,fn=r}}}function Om(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;fn=r}function iu(r){if(r!==fn)return!1;if(!Ze)return Om(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!gh(r.type,r.memoizedProps)),s&&(s=dn)){if(Ah(r))throw Fm(),Error(t(418));for(;s;)Lm(r,s),s=Zr(s.nextSibling)}if(Om(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){dn=Zr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=fn?Zr(r.stateNode.nextSibling):null;return!0}function Fm(){for(var r=dn;r;)r=Zr(r.nextSibling)}function eo(){dn=fn=null,Ze=!1}function Ih(r){$n===null?$n=[r]:$n.push(r)}var DT=se.ReactCurrentBatchConfig;function wa(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var I=d.refs;E===null?delete I[y]:I[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function su(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function jm(r){var s=r._init;return s(r._payload)}function Um(r){function s(B,D){if(r){var z=B.deletions;z===null?(B.deletions=[D],B.flags|=16):z.push(D)}}function a(B,D){if(!r)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function d(B,D){return B=ci(B,D),B.index=0,B.sibling=null,B}function y(B,D,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<D?(B.flags|=2,D):z):(B.flags|=2,D)):(B.flags|=1048576,D)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function I(B,D,z,ee){return D===null||D.tag!==6?(D=vf(z,B.mode,ee),D.return=B,D):(D=d(D,z),D.return=B,D)}function R(B,D,z,ee){var pe=z.type;return pe===V?Y(B,D,z.props.children,ee,z.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Rt&&jm(pe)===D.type)?(ee=d(D,z.props),ee.ref=wa(B,D,z),ee.return=B,ee):(ee=Ru(z.type,z.key,z.props,null,B.mode,ee),ee.ref=wa(B,D,z),ee.return=B,ee)}function $(B,D,z,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=_f(z,B.mode,ee),D.return=B,D):(D=d(D,z.children||[]),D.return=B,D)}function Y(B,D,z,ee,pe){return D===null||D.tag!==7?(D=rs(z,B.mode,ee,pe),D.return=B,D):(D=d(D,z),D.return=B,D)}function Z(B,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=vf(""+D,B.mode,z),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ie:return z=Ru(D.type,D.key,D.props,null,B.mode,z),z.ref=wa(B,null,D),z.return=B,z;case ue:return D=_f(D,B.mode,z),D.return=B,D;case Rt:var ee=D._init;return Z(B,ee(D._payload),z)}if(yr(D)||me(D))return D=rs(D,B.mode,z,null),D.return=B,D;su(B,D)}return null}function X(B,D,z,ee){var pe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return pe!==null?null:I(B,D,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:return z.key===pe?R(B,D,z,ee):null;case ue:return z.key===pe?$(B,D,z,ee):null;case Rt:return pe=z._init,X(B,D,pe(z._payload),ee)}if(yr(z)||me(z))return pe!==null?null:Y(B,D,z,ee,null);su(B,z)}return null}function ae(B,D,z,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return B=B.get(z)||null,I(D,B,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ie:return B=B.get(ee.key===null?z:ee.key)||null,R(D,B,ee,pe);case ue:return B=B.get(ee.key===null?z:ee.key)||null,$(D,B,ee,pe);case Rt:var ve=ee._init;return ae(B,D,z,ve(ee._payload),pe)}if(yr(ee)||me(ee))return B=B.get(z)||null,Y(D,B,ee,pe,null);su(D,ee)}return null}function he(B,D,z,ee){for(var pe=null,ve=null,_e=D,Te=D=0,It=null;_e!==null&&Te<z.length;Te++){_e.index>Te?(It=_e,_e=null):It=_e.sibling;var Oe=X(B,_e,z[Te],ee);if(Oe===null){_e===null&&(_e=It);break}r&&_e&&Oe.alternate===null&&s(B,_e),D=y(Oe,D,Te),ve===null?pe=Oe:ve.sibling=Oe,ve=Oe,_e=It}if(Te===z.length)return a(B,_e),Ze&&Qi(B,Te),pe;if(_e===null){for(;Te<z.length;Te++)_e=Z(B,z[Te],ee),_e!==null&&(D=y(_e,D,Te),ve===null?pe=_e:ve.sibling=_e,ve=_e);return Ze&&Qi(B,Te),pe}for(_e=h(B,_e);Te<z.length;Te++)It=ae(_e,B,Te,z[Te],ee),It!==null&&(r&&It.alternate!==null&&_e.delete(It.key===null?Te:It.key),D=y(It,D,Te),ve===null?pe=It:ve.sibling=It,ve=It);return r&&_e.forEach(function(hi){return s(B,hi)}),Ze&&Qi(B,Te),pe}function fe(B,D,z,ee){var pe=me(z);if(typeof pe!="function")throw Error(t(150));if(z=pe.call(z),z==null)throw Error(t(151));for(var ve=pe=null,_e=D,Te=D=0,It=null,Oe=z.next();_e!==null&&!Oe.done;Te++,Oe=z.next()){_e.index>Te?(It=_e,_e=null):It=_e.sibling;var hi=X(B,_e,Oe.value,ee);if(hi===null){_e===null&&(_e=It);break}r&&_e&&hi.alternate===null&&s(B,_e),D=y(hi,D,Te),ve===null?pe=hi:ve.sibling=hi,ve=hi,_e=It}if(Oe.done)return a(B,_e),Ze&&Qi(B,Te),pe;if(_e===null){for(;!Oe.done;Te++,Oe=z.next())Oe=Z(B,Oe.value,ee),Oe!==null&&(D=y(Oe,D,Te),ve===null?pe=Oe:ve.sibling=Oe,ve=Oe);return Ze&&Qi(B,Te),pe}for(_e=h(B,_e);!Oe.done;Te++,Oe=z.next())Oe=ae(_e,B,Te,Oe.value,ee),Oe!==null&&(r&&Oe.alternate!==null&&_e.delete(Oe.key===null?Te:Oe.key),D=y(Oe,D,Te),ve===null?pe=Oe:ve.sibling=Oe,ve=Oe);return r&&_e.forEach(function(h1){return s(B,h1)}),Ze&&Qi(B,Te),pe}function at(B,D,z,ee){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:e:{for(var pe=z.key,ve=D;ve!==null;){if(ve.key===pe){if(pe=z.type,pe===V){if(ve.tag===7){a(B,ve.sibling),D=d(ve,z.props.children),D.return=B,B=D;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Rt&&jm(pe)===ve.type){a(B,ve.sibling),D=d(ve,z.props),D.ref=wa(B,ve,z),D.return=B,B=D;break e}a(B,ve);break}else s(B,ve);ve=ve.sibling}z.type===V?(D=rs(z.props.children,B.mode,ee,z.key),D.return=B,B=D):(ee=Ru(z.type,z.key,z.props,null,B.mode,ee),ee.ref=wa(B,D,z),ee.return=B,B=ee)}return E(B);case ue:e:{for(ve=z.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(B,D.sibling),D=d(D,z.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else s(B,D);D=D.sibling}D=_f(z,B.mode,ee),D.return=B,B=D}return E(B);case Rt:return ve=z._init,at(B,D,ve(z._payload),ee)}if(yr(z))return he(B,D,z,ee);if(me(z))return fe(B,D,z,ee);su(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(B,D.sibling),D=d(D,z),D.return=B,B=D):(a(B,D),D=vf(z,B.mode,ee),D.return=B,B=D),E(B)):a(B,D)}return at}var to=Um(!0),Bm=Um(!1),ou=ei(null),au=null,no=null,Ph=null;function Ch(){Ph=no=au=null}function Rh(r){var s=ou.current;Ke(ou),r._currentValue=s}function Vh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function ro(r,s){au=r,Ph=no=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(tn=!0),r.firstContext=null)}function xn(r){var s=r._currentValue;if(Ph!==r)if(r={context:r,memoizedValue:s,next:null},no===null){if(au===null)throw Error(t(308));no=r,au.dependencies={lanes:0,firstContext:r}}else no=no.next=r;return s}var Xi=null;function kh(r){Xi===null?Xi=[r]:Xi.push(r)}function zm(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,kh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Vr(r,h)}function Vr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ri=!1;function Dh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function kr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ii(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(be&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,Vr(r,a)}return d=h.interleaved,d===null?(s.next=s,kh(h)):(s.next=d.next,d.next=s),h.interleaved=s,Vr(r,a)}function lu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Kr(r,a)}}function Hm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?d=y=s:y=y.next=s}else d=y=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function uu(r,s,a,h){var d=r.updateQueue;ri=!1;var y=d.firstBaseUpdate,E=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var R=I,$=R.next;R.next=null,E===null?y=$:E.next=$,E=R;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,I=Y.lastBaseUpdate,I!==E&&(I===null?Y.firstBaseUpdate=$:I.next=$,Y.lastBaseUpdate=R))}if(y!==null){var Z=d.baseState;E=0,Y=$=R=null,I=y;do{var X=I.lane,ae=I.eventTime;if((h&X)===X){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var he=r,fe=I;switch(X=s,ae=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){Z=he.call(ae,Z,X);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,X=typeof he=="function"?he.call(ae,Z,X):he,X==null)break e;Z=oe({},Z,X);break e;case 2:ri=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,X=d.effects,X===null?d.effects=[I]:X.push(I))}else ae={eventTime:ae,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?($=Y=ae,R=Z):Y=Y.next=ae,E|=X;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;X=I,I=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(Y===null&&(R=Z),d.baseState=R,d.firstBaseUpdate=$,d.lastBaseUpdate=Y,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);Zi|=E,r.lanes=E,r.memoizedState=Z}}function qm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Ea={},ir=ei(Ea),Ta=ei(Ea),Sa=ei(Ea);function Yi(r){if(r===Ea)throw Error(t(174));return r}function Nh(r,s){switch(qe(Sa,s),qe(Ta,r),qe(ir,Ea),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=gt(s,r)}Ke(ir),qe(ir,s)}function io(){Ke(ir),Ke(Ta),Ke(Sa)}function Wm(r){Yi(Sa.current);var s=Yi(ir.current),a=gt(s,r.type);s!==a&&(qe(Ta,r),qe(ir,a))}function Mh(r){Ta.current===r&&(Ke(ir),Ke(Ta))}var et=ei(0);function cu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lh=[];function bh(){for(var r=0;r<Lh.length;r++)Lh[r]._workInProgressVersionPrimary=null;Lh.length=0}var hu=se.ReactCurrentDispatcher,Oh=se.ReactCurrentBatchConfig,Ji=0,tt=null,vt=null,At=null,fu=!1,Aa=!1,xa=0,NT=0;function jt(){throw Error(t(321))}function Fh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!zn(r[a],s[a]))return!1;return!0}function jh(r,s,a,h,d,y){if(Ji=y,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,hu.current=r===null||r.memoizedState===null?OT:FT,r=a(h,d),Aa){y=0;do{if(Aa=!1,xa=0,25<=y)throw Error(t(301));y+=1,At=vt=null,s.updateQueue=null,hu.current=jT,r=a(h,d)}while(Aa)}if(hu.current=mu,s=vt!==null&&vt.next!==null,Ji=0,At=vt=tt=null,fu=!1,s)throw Error(t(300));return r}function Uh(){var r=xa!==0;return xa=0,r}function sr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?tt.memoizedState=At=r:At=At.next=r,At}function In(){if(vt===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=At===null?tt.memoizedState:At.next;if(s!==null)At=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},At===null?tt.memoizedState=At=r:At=At.next=r}return At}function Ia(r,s){return typeof s=="function"?s(r):s}function Bh(r){var s=In(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=vt,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var E=d.next;d.next=y.next,y.next=E}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var I=E=null,R=null,$=y;do{var Y=$.lane;if((Ji&Y)===Y)R!==null&&(R=R.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:r(h,$.action);else{var Z={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};R===null?(I=R=Z,E=h):R=R.next=Z,tt.lanes|=Y,Zi|=Y}$=$.next}while($!==null&&$!==y);R===null?E=h:R.next=I,zn(h,s.memoizedState)||(tn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=R,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,tt.lanes|=y,Zi|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function zh(r){var s=In(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do y=r(y,E.action),E=E.next;while(E!==d);zn(y,s.memoizedState)||(tn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function Km(){}function Gm(r,s){var a=tt,h=In(),d=s(),y=!zn(h.memoizedState,d);if(y&&(h.memoizedState=d,tn=!0),h=h.queue,$h(Ym.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Pa(9,Xm.bind(null,a,h,d,s),void 0,null),xt===null)throw Error(t(349));(Ji&30)!==0||Qm(a,s,d)}return d}function Qm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Xm(r,s,a,h){s.value=a,s.getSnapshot=h,Jm(s)&&Zm(r)}function Ym(r,s,a){return a(function(){Jm(s)&&Zm(r)})}function Jm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!zn(r,a)}catch{return!0}}function Zm(r){var s=Vr(r,1);s!==null&&Kn(s,r,1,-1)}function eg(r){var s=sr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:r},s.queue=r,r=r.dispatch=bT.bind(null,tt,r),[s.memoizedState,r]}function Pa(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function tg(){return In().memoizedState}function du(r,s,a,h){var d=sr();tt.flags|=r,d.memoizedState=Pa(1|s,a,void 0,h===void 0?null:h)}function pu(r,s,a,h){var d=In();h=h===void 0?null:h;var y=void 0;if(vt!==null){var E=vt.memoizedState;if(y=E.destroy,h!==null&&Fh(h,E.deps)){d.memoizedState=Pa(s,a,y,h);return}}tt.flags|=r,d.memoizedState=Pa(1|s,a,y,h)}function ng(r,s){return du(8390656,8,r,s)}function $h(r,s){return pu(2048,8,r,s)}function rg(r,s){return pu(4,2,r,s)}function ig(r,s){return pu(4,4,r,s)}function sg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function og(r,s,a){return a=a!=null?a.concat([r]):null,pu(4,4,sg.bind(null,s,r),a)}function Hh(){}function ag(r,s){var a=In();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Fh(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function lg(r,s){var a=In();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Fh(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function ug(r,s,a){return(Ji&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=a):(zn(a,s)||(a=Bi(),tt.lanes|=a,Zi|=a,r.baseState=!0),s)}function MT(r,s){var a=ke;ke=a!==0&&4>a?a:4,r(!0);var h=Oh.transition;Oh.transition={};try{r(!1),s()}finally{ke=a,Oh.transition=h}}function cg(){return In().memoizedState}function LT(r,s,a){var h=li(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},hg(r))fg(s,a);else if(a=zm(r,s,a,h),a!==null){var d=Xt();Kn(a,r,h,d),dg(a,s,h)}}function bT(r,s,a){var h=li(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(hg(r))fg(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,I=y(E,a);if(d.hasEagerState=!0,d.eagerState=I,zn(I,E)){var R=s.interleaved;R===null?(d.next=d,kh(s)):(d.next=R.next,R.next=d),s.interleaved=d;return}}catch{}finally{}a=zm(r,s,d,h),a!==null&&(d=Xt(),Kn(a,r,h,d),dg(a,s,h))}}function hg(r){var s=r.alternate;return r===tt||s!==null&&s===tt}function fg(r,s){Aa=fu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function dg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Kr(r,a)}}var mu={readContext:xn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},OT={readContext:xn,useCallback:function(r,s){return sr().memoizedState=[r,s===void 0?null:s],r},useContext:xn,useEffect:ng,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,du(4194308,4,sg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return du(4194308,4,r,s)},useInsertionEffect:function(r,s){return du(4,2,r,s)},useMemo:function(r,s){var a=sr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=sr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=LT.bind(null,tt,r),[h.memoizedState,r]},useRef:function(r){var s=sr();return r={current:r},s.memoizedState=r},useState:eg,useDebugValue:Hh,useDeferredValue:function(r){return sr().memoizedState=r},useTransition:function(){var r=eg(!1),s=r[0];return r=MT.bind(null,r[1]),sr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=tt,d=sr();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),xt===null)throw Error(t(349));(Ji&30)!==0||Qm(h,s,a)}d.memoizedState=a;var y={value:a,getSnapshot:s};return d.queue=y,ng(Ym.bind(null,h,y,r),[r]),h.flags|=2048,Pa(9,Xm.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=sr(),s=xt.identifierPrefix;if(Ze){var a=Rr,h=Cr;a=(h&~(1<<32-Kt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=xa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=NT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},FT={readContext:xn,useCallback:ag,useContext:xn,useEffect:$h,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:lg,useReducer:Bh,useRef:tg,useState:function(){return Bh(Ia)},useDebugValue:Hh,useDeferredValue:function(r){var s=In();return ug(s,vt.memoizedState,r)},useTransition:function(){var r=Bh(Ia)[0],s=In().memoizedState;return[r,s]},useMutableSource:Km,useSyncExternalStore:Gm,useId:cg,unstable_isNewReconciler:!1},jT={readContext:xn,useCallback:ag,useContext:xn,useEffect:$h,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:lg,useReducer:zh,useRef:tg,useState:function(){return zh(Ia)},useDebugValue:Hh,useDeferredValue:function(r){var s=In();return vt===null?s.memoizedState=r:ug(s,vt.memoizedState,r)},useTransition:function(){var r=zh(Ia)[0],s=In().memoizedState;return[r,s]},useMutableSource:Km,useSyncExternalStore:Gm,useId:cg,unstable_isNewReconciler:!1};function Hn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function qh(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var gu={isMounted:function(r){return(r=r._reactInternals)?Ln(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=li(r),y=kr(h,d);y.payload=s,a!=null&&(y.callback=a),s=ii(r,y,d),s!==null&&(Kn(s,r,d,h),lu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Xt(),d=li(r),y=kr(h,d);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=ii(r,y,d),s!==null&&(Kn(s,r,d,h),lu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Xt(),h=li(r),d=kr(a,h);d.tag=2,s!=null&&(d.callback=s),s=ii(r,d,h),s!==null&&(Kn(s,r,h,a),lu(s,r,h))}};function pg(r,s,a,h,d,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!da(a,h)||!da(d,y):!0}function mg(r,s,a){var h=!1,d=ti,y=s.contextType;return typeof y=="object"&&y!==null?y=xn(y):(d=en(s)?Ki:Ft.current,h=s.contextTypes,y=(h=h!=null)?Ys(r,d):ti),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=gu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function gg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&gu.enqueueReplaceState(s,s.state,null)}function Wh(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Dh(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=xn(y):(y=en(s)?Ki:Ft.current,d.context=Ys(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(qh(r,s,y,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&gu.enqueueReplaceState(d,d.state,null),uu(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function so(r,s){try{var a="",h=s;do a+=Pe(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function Kh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Gh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var UT=typeof WeakMap=="function"?WeakMap:Map;function yg(r,s,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Su||(Su=!0,cf=h),Gh(r,s)},a}function vg(r,s,a){a=kr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){Gh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Gh(r,s),typeof h!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function _g(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new UT;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=e1.bind(null,r,s,a),s.then(r,r))}function wg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Eg(r,s,a,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=kr(-1,1),s.tag=2,ii(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var BT=se.ReactCurrentOwner,tn=!1;function Qt(r,s,a,h){s.child=r===null?Bm(s,null,a,h):to(s,r.child,a,h)}function Tg(r,s,a,h,d){a=a.render;var y=s.ref;return ro(s,d),h=jh(r,s,a,h,y,d),a=Uh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(Ze&&a&&Th(s),s.flags|=1,Qt(r,s,h,d),s.child)}function Sg(r,s,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!yf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,Ag(r,s,y,h,d)):(r=Ru(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&d)===0){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:da,a(E,h)&&r.ref===s.ref)return Dr(r,s,d)}return s.flags|=1,r=ci(y,h),r.ref=s.ref,r.return=s,s.child=r}function Ag(r,s,a,h,d){if(r!==null){var y=r.memoizedProps;if(da(y,h)&&r.ref===s.ref)if(tn=!1,s.pendingProps=h=y,(r.lanes&d)!==0)(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Dr(r,s,d)}return Qh(r,s,a,h,d)}function xg(r,s,a){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ao,pn),pn|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,qe(ao,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,qe(ao,pn),pn|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,qe(ao,pn),pn|=h;return Qt(r,s,d,a),s.child}function Ig(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Qh(r,s,a,h,d){var y=en(a)?Ki:Ft.current;return y=Ys(s,y),ro(s,d),a=jh(r,s,a,h,y,d),h=Uh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Dr(r,s,d)):(Ze&&h&&Th(s),s.flags|=1,Qt(r,s,a,d),s.child)}function Pg(r,s,a,h,d){if(en(a)){var y=!0;eu(s)}else y=!1;if(ro(s,d),s.stateNode===null)vu(r,s),mg(s,a,h),Wh(s,a,h,d),h=!0;else if(r===null){var E=s.stateNode,I=s.memoizedProps;E.props=I;var R=E.context,$=a.contextType;typeof $=="object"&&$!==null?$=xn($):($=en(a)?Ki:Ft.current,$=Ys(s,$));var Y=a.getDerivedStateFromProps,Z=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==h||R!==$)&&gg(s,E,h,$),ri=!1;var X=s.memoizedState;E.state=X,uu(s,h,E,d),R=s.memoizedState,I!==h||X!==R||Zt.current||ri?(typeof Y=="function"&&(qh(s,a,Y,h),R=s.memoizedState),(I=ri||pg(s,a,I,h,X,R,$))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=R),E.props=h,E.state=R,E.context=$,h=I):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,$m(r,s),I=s.memoizedProps,$=s.type===s.elementType?I:Hn(s.type,I),E.props=$,Z=s.pendingProps,X=E.context,R=a.contextType,typeof R=="object"&&R!==null?R=xn(R):(R=en(a)?Ki:Ft.current,R=Ys(s,R));var ae=a.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(I!==Z||X!==R)&&gg(s,E,h,R),ri=!1,X=s.memoizedState,E.state=X,uu(s,h,E,d);var he=s.memoizedState;I!==Z||X!==he||Zt.current||ri?(typeof ae=="function"&&(qh(s,a,ae,h),he=s.memoizedState),($=ri||pg(s,a,$,h,X,he,R)||!1)?(Y||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,R),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,R)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),E.props=h,E.state=he,E.context=R,h=$):(typeof E.componentDidUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),h=!1)}return Xh(r,s,a,h,y,d)}function Xh(r,s,a,h,d,y){Ig(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return d&&Dm(s,a,!1),Dr(r,s,y);h=s.stateNode,BT.current=s;var I=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=to(s,r.child,null,y),s.child=to(s,null,I,y)):Qt(r,s,I,y),s.memoizedState=h.state,d&&Dm(s,a,!0),s.child}function Cg(r){var s=r.stateNode;s.pendingContext?Vm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Vm(r,s.context,!1),Nh(r,s.containerInfo)}function Rg(r,s,a,h,d){return eo(),Ih(d),s.flags|=256,Qt(r,s,a,h),s.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Jh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Vg(r,s,a){var h=s.pendingProps,d=et.current,y=!1,E=(s.flags&128)!==0,I;if((I=E)||(I=r!==null&&r.memoizedState===null?!1:(d&2)!==0),I?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),qe(et,d&1),r===null)return xh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Vu(E,h,0,null),r=rs(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Jh(a),s.memoizedState=Yh,r):Zh(s,E));if(d=r.memoizedState,d!==null&&(I=d.dehydrated,I!==null))return zT(r,s,E,h,I,d,a);if(y){y=h.fallback,E=s.mode,d=r.child,I=d.sibling;var R={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=R,s.deletions=null):(h=ci(d,R),h.subtreeFlags=d.subtreeFlags&14680064),I!==null?y=ci(I,y):(y=rs(y,E,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?Jh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~a,s.memoizedState=Yh,h}return y=r.child,r=y.sibling,h=ci(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Zh(r,s){return s=Vu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function yu(r,s,a,h){return h!==null&&Ih(h),to(s,r.child,null,a),r=Zh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function zT(r,s,a,h,d,y,E){if(a)return s.flags&256?(s.flags&=-257,h=Kh(Error(t(422))),yu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=Vu({mode:"visible",children:h.children},d,0,null),y=rs(y,d,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&to(s,r.child,null,E),s.child.memoizedState=Jh(E),s.memoizedState=Yh,y);if((s.mode&1)===0)return yu(r,s,E,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var I=h.dgst;return h=I,y=Error(t(419)),h=Kh(y,h,void 0),yu(r,s,E,h)}if(I=(E&r.childLanes)!==0,tn||I){if(h=xt,h!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|E))!==0?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,Vr(r,d),Kn(h,r,d,-1))}return gf(),h=Kh(Error(t(421))),yu(r,s,E,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=t1.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,dn=Zr(d.nextSibling),fn=s,Ze=!0,$n=null,r!==null&&(Sn[An++]=Cr,Sn[An++]=Rr,Sn[An++]=Gi,Cr=r.id,Rr=r.overflow,Gi=s),s=Zh(s,h.children),s.flags|=4096,s)}function kg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Vh(r.return,s,a)}function ef(r,s,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function Dg(r,s,a){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Qt(r,s,h.children,a),h=et.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kg(r,a,s);else if(r.tag===19)kg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(qe(et,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&cu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),ef(s,!1,d,a,y);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&cu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}ef(s,!0,a,null,y);break;case"together":ef(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Dr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Zi|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=ci(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ci(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function $T(r,s,a){switch(s.tag){case 3:Cg(s),eo();break;case 5:Wm(s);break;case 1:en(s.type)&&eu(s);break;case 4:Nh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;qe(ou,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(et,et.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Vg(r,s,a):(qe(et,et.current&1),r=Dr(r,s,a),r!==null?r.sibling:null);qe(et,et.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Dg(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(et,et.current),h)break;return null;case 22:case 23:return s.lanes=0,xg(r,s,a)}return Dr(r,s,a)}var Ng,tf,Mg,Lg;Ng=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},tf=function(){},Mg=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,Yi(ir.current);var y=null;switch(a){case"input":d=Vi(r,d),h=Vi(r,h),y=[];break;case"select":d=oe({},d,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":d=zo(r,d),h=zo(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Yl)}Go(a,h);var E;a=null;for($ in d)if(!h.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var I=d[$];for(E in I)I.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var R=h[$];if(I=d?.[$],h.hasOwnProperty($)&&R!==I&&(R!=null||I!=null))if($==="style")if(I){for(E in I)!I.hasOwnProperty(E)||R&&R.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in R)R.hasOwnProperty(E)&&I[E]!==R[E]&&(a||(a={}),a[E]=R[E])}else a||(y||(y=[]),y.push($,a)),a=R;else $==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,I=I?I.__html:void 0,R!=null&&I!==R&&(y=y||[]).push($,R)):$==="children"?typeof R!="string"&&typeof R!="number"||(y=y||[]).push($,""+R):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(R!=null&&$==="onScroll"&&We("scroll",r),y||I===R||(y=[])):(y=y||[]).push($,R))}a&&(y=y||[]).push("style",a);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},Lg=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ca(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function HT(r,s,a){var h=s.pendingProps;switch(Sh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return en(s.type)&&Zl(),Ut(s),null;case 3:return h=s.stateNode,io(),Ke(Zt),Ke(Ft),bh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(iu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$n!==null&&(df($n),$n=null))),tf(r,s),Ut(s),null;case 5:Mh(s);var d=Yi(Sa.current);if(a=s.type,r!==null&&s.stateNode!=null)Mg(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=Yi(ir.current),iu(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[rr]=s,h[va]=y,r=(s.mode&1)!==0,a){case"dialog":We("cancel",h),We("close",h);break;case"iframe":case"object":case"embed":We("load",h);break;case"video":case"audio":for(d=0;d<ma.length;d++)We(ma[d],h);break;case"source":We("error",h);break;case"img":case"image":case"link":We("error",h),We("load",h);break;case"details":We("toggle",h);break;case"input":_s(h,y),We("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},We("invalid",h);break;case"textarea":Es(h,y),We("invalid",h)}Go(a,y),d=null;for(var E in y)if(y.hasOwnProperty(E)){var I=y[E];E==="children"?typeof I=="string"?h.textContent!==I&&(y.suppressHydrationWarning!==!0&&Xl(h.textContent,I,r),d=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(y.suppressHydrationWarning!==!0&&Xl(h.textContent,I,r),d=["children",""+I]):o.hasOwnProperty(E)&&I!=null&&E==="onScroll"&&We("scroll",h)}switch(a){case"input":gr(h),Tl(h,y,!0);break;case"textarea":gr(h),$o(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Yl)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[rr]=s,r[va]=h,Ng(r,s,!1,!1),s.stateNode=r;e:{switch(E=Qo(a,h),a){case"dialog":We("cancel",r),We("close",r),d=h;break;case"iframe":case"object":case"embed":We("load",r),d=h;break;case"video":case"audio":for(d=0;d<ma.length;d++)We(ma[d],r);d=h;break;case"source":We("error",r),d=h;break;case"img":case"image":case"link":We("error",r),We("load",r),d=h;break;case"details":We("toggle",r),d=h;break;case"input":_s(r,h),d=Vi(r,h),We("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=oe({},h,{value:void 0}),We("invalid",r);break;case"textarea":Es(r,h),d=zo(r,h),We("invalid",r);break;default:d=h}Go(a,d),I=d;for(y in I)if(I.hasOwnProperty(y)){var R=I[y];y==="style"?Wo(r,R):y==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ho(r,R)):y==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&zr(r,R):typeof R=="number"&&zr(r,""+R):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?R!=null&&y==="onScroll"&&We("scroll",r):R!=null&&J(r,y,R,E))}switch(a){case"input":gr(r),Tl(r,h,!1);break;case"textarea":gr(r),$o(r);break;case"option":h.value!=null&&r.setAttribute("value",""+je(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?vr(r,!!h.multiple,y,!1):h.defaultValue!=null&&vr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Yl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Lg(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Yi(Sa.current),Yi(ir.current),iu(s)){if(h=s.stateNode,a=s.memoizedProps,h[rr]=s,(y=h.nodeValue!==a)&&(r=fn,r!==null))switch(r.tag){case 3:Xl(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Xl(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[rr]=s,s.stateNode=h}return Ut(s),null;case 13:if(Ke(et),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Fm(),eo(),s.flags|=98560,y=!1;else if(y=iu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[rr]=s}else eo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),y=!1}else $n!==null&&(df($n),$n=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(et.current&1)!==0?_t===0&&(_t=3):gf())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return io(),tf(r,s),r===null&&ga(s.stateNode.containerInfo),Ut(s),null;case 10:return Rh(s.type._context),Ut(s),null;case 17:return en(s.type)&&Zl(),Ut(s),null;case 19:if(Ke(et),y=s.memoizedState,y===null)return Ut(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)Ca(y,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=cu(r),E!==null){for(s.flags|=128,Ca(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return qe(et,et.current&1|2),s.child}r=r.sibling}y.tail!==null&&He()>lo&&(s.flags|=128,h=!0,Ca(y,!1),s.lanes=4194304)}else{if(!h)if(r=cu(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ca(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Ze)return Ut(s),null}else 2*He()-y.renderingStartTime>lo&&a!==1073741824&&(s.flags|=128,h=!0,Ca(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(a=y.last,a!==null?a.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=He(),s.sibling=null,a=et.current,qe(et,h?a&1|2:a&1),s):(Ut(s),null);case 22:case 23:return mf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(pn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function qT(r,s){switch(Sh(s),s.tag){case 1:return en(s.type)&&Zl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return io(),Ke(Zt),Ke(Ft),bh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Mh(s),null;case 13:if(Ke(et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));eo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ke(et),null;case 4:return io(),null;case 10:return Rh(s.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var _u=!1,Bt=!1,WT=typeof WeakSet=="function"?WeakSet:Set,ce=null;function oo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){it(r,s,h)}else a.current=null}function nf(r,s,a){try{a()}catch(h){it(r,s,h)}}var bg=!1;function KT(r,s){if(ph=Xr,r=pm(),oh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,I=-1,R=-1,$=0,Y=0,Z=r,X=null;t:for(;;){for(var ae;Z!==a||d!==0&&Z.nodeType!==3||(I=E+d),Z!==y||h!==0&&Z.nodeType!==3||(R=E+h),Z.nodeType===3&&(E+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)X=Z,Z=ae;for(;;){if(Z===r)break t;if(X===a&&++$===d&&(I=E),X===y&&++Y===h&&(R=E),(ae=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=ae}a=I===-1||R===-1?null:{start:I,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(mh={focusedElem:r,selectionRange:a},Xr=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,at=he.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Hn(s.type,fe),at);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){it(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return he=bg,bg=!1,he}function Ra(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&nf(s,a,y)}d=d.next}while(d!==h)}}function wu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function rf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Og(r){var s=r.alternate;s!==null&&(r.alternate=null,Og(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[rr],delete s[va],delete s[_h],delete s[RT],delete s[VT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Fg(r){return r.tag===5||r.tag===3||r.tag===4}function jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Fg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Yl));else if(h!==4&&(r=r.child,r!==null))for(sf(r,s,a),r=r.sibling;r!==null;)sf(r,s,a),r=r.sibling}function of(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(of(r,s,a),r=r.sibling;r!==null;)of(r,s,a),r=r.sibling}var Dt=null,qn=!1;function si(r,s,a){for(a=a.child;a!==null;)Ug(r,s,a),a=a.sibling}function Ug(r,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(ji,a)}catch{}switch(a.tag){case 5:Bt||oo(a,s);case 6:var h=Dt,d=qn;Dt=null,si(r,s,a),Dt=h,qn=d,Dt!==null&&(qn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(qn?(r=Dt,a=a.stateNode,r.nodeType===8?vh(r.parentNode,a):r.nodeType===1&&vh(r,a),Un(r)):vh(Dt,a.stateNode));break;case 4:h=Dt,d=qn,Dt=a.stateNode.containerInfo,qn=!0,si(r,s,a),Dt=h,qn=d;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&nf(a,s,E),d=d.next}while(d!==h)}si(r,s,a);break;case 1:if(!Bt&&(oo(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(I){it(a,s,I)}si(r,s,a);break;case 21:si(r,s,a);break;case 22:a.mode&1?(Bt=(h=Bt)||a.memoizedState!==null,si(r,s,a),Bt=h):si(r,s,a);break;default:si(r,s,a)}}function Bg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new WT),s.forEach(function(h){var d=n1.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Wn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,E=s,I=E;e:for(;I!==null;){switch(I.tag){case 5:Dt=I.stateNode,qn=!1;break e;case 3:Dt=I.stateNode.containerInfo,qn=!0;break e;case 4:Dt=I.stateNode.containerInfo,qn=!0;break e}I=I.return}if(Dt===null)throw Error(t(160));Ug(y,E,d),Dt=null,qn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch($){it(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)zg(s,r),s=s.sibling}function zg(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(s,r),or(r),h&4){try{Ra(3,r,r.return),wu(3,r)}catch(fe){it(r,r.return,fe)}try{Ra(5,r,r.return)}catch(fe){it(r,r.return,fe)}}break;case 1:Wn(s,r),or(r),h&512&&a!==null&&oo(a,a.return);break;case 5:if(Wn(s,r),or(r),h&512&&a!==null&&oo(a,a.return),r.flags&32){var d=r.stateNode;try{zr(d,"")}catch(fe){it(r,r.return,fe)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,E=a!==null?a.memoizedProps:y,I=r.type,R=r.updateQueue;if(r.updateQueue=null,R!==null)try{I==="input"&&y.type==="radio"&&y.name!=null&&Uo(d,y),Qo(I,E);var $=Qo(I,y);for(E=0;E<R.length;E+=2){var Y=R[E],Z=R[E+1];Y==="style"?Wo(d,Z):Y==="dangerouslySetInnerHTML"?Ho(d,Z):Y==="children"?zr(d,Z):J(d,Y,Z,$)}switch(I){case"input":Bo(d,y);break;case"textarea":Ts(d,y);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?vr(d,!!y.multiple,ae,!1):X!==!!y.multiple&&(y.defaultValue!=null?vr(d,!!y.multiple,y.defaultValue,!0):vr(d,!!y.multiple,y.multiple?[]:"",!1))}d[va]=y}catch(fe){it(r,r.return,fe)}}break;case 6:if(Wn(s,r),or(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(fe){it(r,r.return,fe)}}break;case 3:if(Wn(s,r),or(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(fe){it(r,r.return,fe)}break;case 4:Wn(s,r),or(r);break;case 13:Wn(s,r),or(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(uf=He())),h&4&&Bg(r);break;case 22:if(Y=a!==null&&a.memoizedState!==null,r.mode&1?(Bt=($=Bt)||Y,Wn(s,r),Bt=$):Wn(s,r),or(r),h&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!Y&&(r.mode&1)!==0)for(ce=r,Y=r.child;Y!==null;){for(Z=ce=Y;ce!==null;){switch(X=ce,ae=X.child,X.tag){case 0:case 11:case 14:case 15:Ra(4,X,X.return);break;case 1:oo(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){h=X,a=X.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(fe){it(h,a,fe)}}break;case 5:oo(X,X.return);break;case 22:if(X.memoizedState!==null){qg(Z);continue}}ae!==null?(ae.return=X,ce=ae):qg(Z)}Y=Y.sibling}e:for(Y=null,Z=r;;){if(Z.tag===5){if(Y===null){Y=Z;try{d=Z.stateNode,$?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(I=Z.stateNode,R=Z.memoizedProps.style,E=R!=null&&R.hasOwnProperty("display")?R.display:null,I.style.display=qo("display",E))}catch(fe){it(r,r.return,fe)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(fe){it(r,r.return,fe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Wn(s,r),or(r),h&4&&Bg(r);break;case 21:break;default:Wn(s,r),or(r)}}function or(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Fg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(zr(d,""),h.flags&=-33);var y=jg(r);of(r,y,d);break;case 3:case 4:var E=h.stateNode.containerInfo,I=jg(r);sf(r,I,E);break;default:throw Error(t(161))}}catch(R){it(r,r.return,R)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function GT(r,s,a){ce=r,$g(r)}function $g(r,s,a){for(var h=(r.mode&1)!==0;ce!==null;){var d=ce,y=d.child;if(d.tag===22&&h){var E=d.memoizedState!==null||_u;if(!E){var I=d.alternate,R=I!==null&&I.memoizedState!==null||Bt;I=_u;var $=Bt;if(_u=E,(Bt=R)&&!$)for(ce=d;ce!==null;)E=ce,R=E.child,E.tag===22&&E.memoizedState!==null?Wg(d):R!==null?(R.return=E,ce=R):Wg(d);for(;y!==null;)ce=y,$g(y),y=y.sibling;ce=d,_u=I,Bt=$}Hg(r)}else(d.subtreeFlags&8772)!==0&&y!==null?(y.return=d,ce=y):Hg(r)}}function Hg(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||wu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Bt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Hn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&qm(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}qm(s,E,a)}break;case 5:var I=s.stateNode;if(a===null&&s.flags&4){a=I;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&Un(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&rf(s)}catch(X){it(s,s.return,X)}}if(s===r){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function qg(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Wg(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{wu(4,s)}catch(R){it(s,a,R)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(R){it(s,d,R)}}var y=s.return;try{rf(s)}catch(R){it(s,y,R)}break;case 5:var E=s.return;try{rf(s)}catch(R){it(s,E,R)}}}catch(R){it(s,s.return,R)}if(s===r){ce=null;break}var I=s.sibling;if(I!==null){I.return=s.return,ce=I;break}ce=s.return}}var QT=Math.ceil,Eu=se.ReactCurrentDispatcher,af=se.ReactCurrentOwner,Pn=se.ReactCurrentBatchConfig,be=0,xt=null,ht=null,Nt=0,pn=0,ao=ei(0),_t=0,Va=null,Zi=0,Tu=0,lf=0,ka=null,nn=null,uf=0,lo=1/0,Nr=null,Su=!1,cf=null,oi=null,Au=!1,ai=null,xu=0,Da=0,hf=null,Iu=-1,Pu=0;function Xt(){return(be&6)!==0?He():Iu!==-1?Iu:Iu=He()}function li(r){return(r.mode&1)===0?1:(be&2)!==0&&Nt!==0?Nt&-Nt:DT.transition!==null?(Pu===0&&(Pu=Bi()),Pu):(r=ke,r!==0||(r=window.event,r=r===void 0?16:oa(r.type)),r)}function Kn(r,s,a,h){if(50<Da)throw Da=0,hf=null,Error(t(185));Wr(r,a,h),((be&2)===0||r!==xt)&&(r===xt&&((be&2)===0&&(Tu|=a),_t===4&&ui(r,Nt)),rn(r,h),a===1&&be===0&&(s.mode&1)===0&&(lo=He()+500,tu&&ni()))}function rn(r,s){var a=r.callbackNode;Er(r,s);var h=Ui(r,r===xt?Nt:0);if(h===0)a!==null&&ta(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ta(a),s===1)r.tag===0?kT(Gg.bind(null,r)):Nm(Gg.bind(null,r)),PT(function(){(be&6)===0&&ni()}),a=null;else{switch(Gr(h)){case 1:a=Fi;break;case 4:a=$r;break;case 16:a=wn;break;case 536870912:a=Pl;break;default:a=wn}a=ny(a,Kg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Kg(r,s){if(Iu=-1,Pu=0,(be&6)!==0)throw Error(t(327));var a=r.callbackNode;if(uo()&&r.callbackNode!==a)return null;var h=Ui(r,r===xt?Nt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Cu(r,h);else{s=h;var d=be;be|=2;var y=Xg();(xt!==r||Nt!==s)&&(Nr=null,lo=He()+500,ts(r,s));do try{JT();break}catch(I){Qg(r,I)}while(!0);Ch(),Eu.current=y,be=d,ht!==null?s=0:(xt=null,Nt=0,s=_t)}if(s!==0){if(s===2&&(d=un(r),d!==0&&(h=d,s=ff(r,d))),s===1)throw a=Va,ts(r,0),ui(r,h),rn(r,He()),a;if(s===6)ui(r,h);else{if(d=r.current.alternate,(h&30)===0&&!XT(d)&&(s=Cu(r,h),s===2&&(y=un(r),y!==0&&(h=y,s=ff(r,y))),s===1))throw a=Va,ts(r,0),ui(r,h),rn(r,He()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ns(r,nn,Nr);break;case 3:if(ui(r,h),(h&130023424)===h&&(s=uf+500-He(),10<s)){if(Ui(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=yh(ns.bind(null,r,nn,Nr),s);break}ns(r,nn,Nr);break;case 4:if(ui(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var E=31-Kt(h);y=1<<E,E=s[E],E>d&&(d=E),h&=~y}if(h=d,h=He()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*QT(h/1960))-h,10<h){r.timeoutHandle=yh(ns.bind(null,r,nn,Nr),h);break}ns(r,nn,Nr);break;case 5:ns(r,nn,Nr);break;default:throw Error(t(329))}}}return rn(r,He()),r.callbackNode===a?Kg.bind(null,r):null}function ff(r,s){var a=ka;return r.current.memoizedState.isDehydrated&&(ts(r,s).flags|=256),r=Cu(r,s),r!==2&&(s=nn,nn=a,s!==null&&df(s)),r}function df(r){nn===null?nn=r:nn.push.apply(nn,r)}function XT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!zn(y(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(r,s){for(s&=~lf,s&=~Tu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),h=1<<a;r[a]=-1,s&=~h}}function Gg(r){if((be&6)!==0)throw Error(t(327));uo();var s=Ui(r,0);if((s&1)===0)return rn(r,He()),null;var a=Cu(r,s);if(r.tag!==0&&a===2){var h=un(r);h!==0&&(s=h,a=ff(r,h))}if(a===1)throw a=Va,ts(r,0),ui(r,s),rn(r,He()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ns(r,nn,Nr),rn(r,He()),null}function pf(r,s){var a=be;be|=1;try{return r(s)}finally{be=a,be===0&&(lo=He()+500,tu&&ni())}}function es(r){ai!==null&&ai.tag===0&&(be&6)===0&&uo();var s=be;be|=1;var a=Pn.transition,h=ke;try{if(Pn.transition=null,ke=1,r)return r()}finally{ke=h,Pn.transition=a,be=s,(be&6)===0&&ni()}}function mf(){pn=ao.current,Ke(ao)}function ts(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,IT(a)),ht!==null)for(a=ht.return;a!==null;){var h=a;switch(Sh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Zl();break;case 3:io(),Ke(Zt),Ke(Ft),bh();break;case 5:Mh(h);break;case 4:io();break;case 13:Ke(et);break;case 19:Ke(et);break;case 10:Rh(h.type._context);break;case 22:case 23:mf()}a=a.return}if(xt=r,ht=r=ci(r.current,null),Nt=pn=s,_t=0,Va=null,lf=Tu=Zi=0,nn=ka=null,Xi!==null){for(s=0;s<Xi.length;s++)if(a=Xi[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var E=y.next;y.next=d,h.next=E}a.pending=h}Xi=null}return r}function Qg(r,s){do{var a=ht;try{if(Ch(),hu.current=mu,fu){for(var h=tt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}fu=!1}if(Ji=0,At=vt=tt=null,Aa=!1,xa=0,af.current=null,a===null||a.return===null){_t=1,Va=s,ht=null;break}e:{var y=r,E=a.return,I=a,R=s;if(s=Nt,I.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=R,Y=I,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=wg(E);if(ae!==null){ae.flags&=-257,Eg(ae,E,I,y,s),ae.mode&1&&_g(y,$,s),s=ae,R=$;var he=s.updateQueue;if(he===null){var fe=new Set;fe.add(R),s.updateQueue=fe}else he.add(R);break e}else{if((s&1)===0){_g(y,$,s),gf();break e}R=Error(t(426))}}else if(Ze&&I.mode&1){var at=wg(E);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Eg(at,E,I,y,s),Ih(so(R,I));break e}}y=R=so(R,I),_t!==4&&(_t=2),ka===null?ka=[y]:ka.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=yg(y,R,s);Hm(y,B);break e;case 1:I=R;var D=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(oi===null||!oi.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var ee=vg(y,I,s);Hm(y,ee);break e}}y=y.return}while(y!==null)}Jg(a)}catch(pe){s=pe,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function Xg(){var r=Eu.current;return Eu.current=mu,r===null?mu:r}function gf(){(_t===0||_t===3||_t===2)&&(_t=4),xt===null||(Zi&268435455)===0&&(Tu&268435455)===0||ui(xt,Nt)}function Cu(r,s){var a=be;be|=2;var h=Xg();(xt!==r||Nt!==s)&&(Nr=null,ts(r,s));do try{YT();break}catch(d){Qg(r,d)}while(!0);if(Ch(),be=a,Eu.current=h,ht!==null)throw Error(t(261));return xt=null,Nt=0,_t}function YT(){for(;ht!==null;)Yg(ht)}function JT(){for(;ht!==null&&!xl();)Yg(ht)}function Yg(r){var s=ty(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?Jg(r):ht=s,af.current=null}function Jg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=HT(a,s,pn),a!==null){ht=a;return}}else{if(a=qT(a,s),a!==null){a.flags&=32767,ht=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ht=null;return}}if(s=s.sibling,s!==null){ht=s;return}ht=s=r}while(s!==null);_t===0&&(_t=5)}function ns(r,s,a){var h=ke,d=Pn.transition;try{Pn.transition=null,ke=1,ZT(r,s,a,h)}finally{Pn.transition=d,ke=h}return null}function ZT(r,s,a,h){do uo();while(ai!==null);if((be&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(ze(r,y),r===xt&&(ht=xt=null,Nt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Au||(Au=!0,ny(wn,function(){return uo(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Pn.transition,Pn.transition=null;var E=ke;ke=1;var I=be;be|=4,af.current=null,KT(r,a),zg(a,r),_T(mh),Xr=!!ph,mh=ph=null,r.current=a,GT(a),Jc(),be=I,ke=E,Pn.transition=y}else r.current=a;if(Au&&(Au=!1,ai=r,xu=d),y=r.pendingLanes,y===0&&(oi=null),Cl(a.stateNode),rn(r,He()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Su)throw Su=!1,r=cf,cf=null,r;return(xu&1)!==0&&r.tag!==0&&uo(),y=r.pendingLanes,(y&1)!==0?r===hf?Da++:(Da=0,hf=r):Da=0,ni(),null}function uo(){if(ai!==null){var r=Gr(xu),s=Pn.transition,a=ke;try{if(Pn.transition=null,ke=16>r?16:r,ai===null)var h=!1;else{if(r=ai,ai=null,xu=0,(be&6)!==0)throw Error(t(331));var d=be;for(be|=4,ce=r.current;ce!==null;){var y=ce,E=y.child;if((ce.flags&16)!==0){var I=y.deletions;if(I!==null){for(var R=0;R<I.length;R++){var $=I[R];for(ce=$;ce!==null;){var Y=ce;switch(Y.tag){case 0:case 11:case 15:Ra(8,Y,y)}var Z=Y.child;if(Z!==null)Z.return=Y,ce=Z;else for(;ce!==null;){Y=ce;var X=Y.sibling,ae=Y.return;if(Og(Y),Y===$){ce=null;break}if(X!==null){X.return=ae,ce=X;break}ce=ae}}}var he=y.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var at=fe.sibling;fe.sibling=null,fe=at}while(fe!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ce=E;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ra(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,ce=B;break e}ce=y.return}}var D=r.current;for(ce=D;ce!==null;){E=ce;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,ce=z;else e:for(E=D;ce!==null;){if(I=ce,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:wu(9,I)}}catch(pe){it(I,I.return,pe)}if(I===E){ce=null;break e}var ee=I.sibling;if(ee!==null){ee.return=I.return,ce=ee;break e}ce=I.return}}if(be=d,ni(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(ji,r)}catch{}h=!0}return h}finally{ke=a,Pn.transition=s}}return!1}function Zg(r,s,a){s=so(a,s),s=yg(r,s,1),r=ii(r,s,1),s=Xt(),r!==null&&(Wr(r,1,s),rn(r,s))}function it(r,s,a){if(r.tag===3)Zg(r,r,a);else for(;s!==null;){if(s.tag===3){Zg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(oi===null||!oi.has(h))){r=so(a,r),r=vg(s,r,1),s=ii(s,r,1),r=Xt(),s!==null&&(Wr(s,1,r),rn(s,r));break}}s=s.return}}function e1(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&a,xt===r&&(Nt&a)===a&&(_t===4||_t===3&&(Nt&130023424)===Nt&&500>He()-uf?ts(r,0):lf|=a),rn(r,s)}function ey(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ds,Ds<<=1,(Ds&130023424)===0&&(Ds=4194304)));var a=Xt();r=Vr(r,s),r!==null&&(Wr(r,s,a),rn(r,a))}function t1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),ey(r,a)}function n1(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),ey(r,a)}var ty;ty=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return tn=!1,$T(r,s,a);tn=(r.flags&131072)!==0}else tn=!1,Ze&&(s.flags&1048576)!==0&&Mm(s,ru,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;vu(r,s),r=s.pendingProps;var d=Ys(s,Ft.current);ro(s,a),d=jh(null,s,h,r,d,a);var y=Uh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(h)?(y=!0,eu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Dh(s),d.updater=gu,s.stateNode=d,d._reactInternals=s,Wh(s,h,r,a),s=Xh(null,s,h,!0,y,a)):(s.tag=0,Ze&&y&&Th(s),Qt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(vu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=i1(h),r=Hn(h,r),d){case 0:s=Qh(null,s,h,r,a);break e;case 1:s=Pg(null,s,h,r,a);break e;case 11:s=Tg(null,s,h,r,a);break e;case 14:s=Sg(null,s,h,Hn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Hn(h,d),Qh(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Hn(h,d),Pg(r,s,h,d,a);case 3:e:{if(Cg(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,d=y.element,$m(r,s),uu(s,h,null,a);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=so(Error(t(423)),s),s=Rg(r,s,h,a,d);break e}else if(h!==d){d=so(Error(t(424)),s),s=Rg(r,s,h,a,d);break e}else for(dn=Zr(s.stateNode.containerInfo.firstChild),fn=s,Ze=!0,$n=null,a=Bm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(eo(),h===d){s=Dr(r,s,a);break e}Qt(r,s,h,a)}s=s.child}return s;case 5:return Wm(s),r===null&&xh(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,E=d.children,gh(h,d)?E=null:y!==null&&gh(h,y)&&(s.flags|=32),Ig(r,s),Qt(r,s,E,a),s.child;case 6:return r===null&&xh(s),null;case 13:return Vg(r,s,a);case 4:return Nh(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=to(s,null,h,a):Qt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Hn(h,d),Tg(r,s,h,d,a);case 7:return Qt(r,s,s.pendingProps,a),s.child;case 8:return Qt(r,s,s.pendingProps.children,a),s.child;case 12:return Qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,E=d.value,qe(ou,h._currentValue),h._currentValue=E,y!==null)if(zn(y.value,E)){if(y.children===d.children&&!Zt.current){s=Dr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var I=y.dependencies;if(I!==null){E=y.child;for(var R=I.firstContext;R!==null;){if(R.context===h){if(y.tag===1){R=kr(-1,a&-a),R.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?R.next=R:(R.next=Y.next,Y.next=R),$.pending=R}}y.lanes|=a,R=y.alternate,R!==null&&(R.lanes|=a),Vh(y.return,a,s),I.lanes|=a;break}R=R.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=a,I=E.alternate,I!==null&&(I.lanes|=a),Vh(E,a,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Qt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,ro(s,a),d=xn(d),h=h(d),s.flags|=1,Qt(r,s,h,a),s.child;case 14:return h=s.type,d=Hn(h,s.pendingProps),d=Hn(h.type,d),Sg(r,s,h,d,a);case 15:return Ag(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Hn(h,d),vu(r,s),s.tag=1,en(h)?(r=!0,eu(s)):r=!1,ro(s,a),mg(s,h,d),Wh(s,h,d,a),Xh(null,s,h,!0,r,a);case 19:return Dg(r,s,a);case 22:return xg(r,s,a)}throw Error(t(156,s.tag))};function ny(r,s){return Vs(r,s)}function r1(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,a,h){return new r1(r,s,a,h)}function yf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function i1(r){if(typeof r=="function")return yf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ct)return 14}return 2}function ci(r,s){var a=r.alternate;return a===null?(a=Cn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ru(r,s,a,h,d,y){var E=2;if(h=r,typeof r=="function")yf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case V:return rs(a.children,d,y,s);case A:E=8,d|=8;break;case P:return r=Cn(12,a,s,d|2),r.elementType=P,r.lanes=y,r;case C:return r=Cn(13,a,s,d),r.elementType=C,r.lanes=y,r;case Ye:return r=Cn(19,a,s,d),r.elementType=Ye,r.lanes=y,r;case Ae:return Vu(a,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:E=10;break e;case N:E=9;break e;case F:E=11;break e;case Ct:E=14;break e;case Rt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Cn(E,a,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function rs(r,s,a,h){return r=Cn(7,r,h,s),r.lanes=a,r}function Vu(r,s,a,h){return r=Cn(22,r,h,s),r.elementType=Ae,r.lanes=a,r.stateNode={isHidden:!1},r}function vf(r,s,a){return r=Cn(6,r,null,s),r.lanes=a,r}function _f(r,s,a){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function s1(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function wf(r,s,a,h,d,y,E,I,R){return r=new s1(r,s,a,I,R),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Cn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(y),r}function o1(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function ry(r){if(!r)return ti;r=r._reactInternals;e:{if(Ln(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(en(a))return km(r,a,s)}return s}function iy(r,s,a,h,d,y,E,I,R){return r=wf(a,h,!0,r,d,y,E,I,R),r.context=ry(null),a=r.current,h=Xt(),d=li(a),y=kr(h,d),y.callback=s??null,ii(a,y,d),r.current.lanes=d,Wr(r,d,h),rn(r,h),r}function ku(r,s,a,h){var d=s.current,y=Xt(),E=li(d);return a=ry(a),s.context===null?s.context=a:s.pendingContext=a,s=kr(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ii(d,s,E),r!==null&&(Kn(r,d,E,y),lu(r,d,E)),E}function Du(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function sy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ef(r,s){sy(r,s),(r=r.alternate)&&sy(r,s)}function a1(){return null}var oy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Tf(r){this._internalRoot=r}Nu.prototype.render=Tf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));ku(r,s,null,null)},Nu.prototype.unmount=Tf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;es(function(){ku(null,r,null,null)}),s[Ir]=null}};function Nu(r){this._internalRoot=r}Nu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Nl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Zn.length&&s!==0&&s<Zn[a].priority;a++);Zn.splice(a,0,r),a===0&&bl(r)}};function Sf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Mu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ay(){}function l1(r,s,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var $=Du(E);y.call($)}}var E=iy(s,h,r,0,null,!1,!1,"",ay);return r._reactRootContainer=E,r[Ir]=E.current,ga(r.nodeType===8?r.parentNode:r),es(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var I=h;h=function(){var $=Du(R);I.call($)}}var R=wf(r,0,!1,null,null,!1,!1,"",ay);return r._reactRootContainer=R,r[Ir]=R.current,ga(r.nodeType===8?r.parentNode:r),es(function(){ku(s,R,a,h)}),R}function Lu(r,s,a,h,d){var y=a._reactRootContainer;if(y){var E=y;if(typeof d=="function"){var I=d;d=function(){var R=Du(E);I.call(R)}}ku(s,E,r,d)}else E=l1(a,s,r,d,h);return Du(E)}kl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Hr(s.pendingLanes);a!==0&&(Kr(s,a|1),rn(s,He()),(be&6)===0&&(lo=He()+500,ni()))}break;case 13:es(function(){var h=Vr(r,1);if(h!==null){var d=Xt();Kn(h,r,1,d)}}),Ef(r,1)}},Ns=function(r){if(r.tag===13){var s=Vr(r,134217728);if(s!==null){var a=Xt();Kn(s,r,134217728,a)}Ef(r,134217728)}},Dl=function(r){if(r.tag===13){var s=li(r),a=Vr(r,s);if(a!==null){var h=Xt();Kn(a,r,s,h)}Ef(r,s)}},Nl=function(){return ke},Ml=function(r,s){var a=ke;try{return ke=r,s()}finally{ke=a}},As=function(r,s,a){switch(s){case"input":if(Bo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=Jl(h);if(!d)throw Error(t(90));vs(h),Bo(h,d)}}}break;case"textarea":Ts(r,a);break;case"select":s=a.value,s!=null&&vr(r,!!a.multiple,s,!1)}},Mi=pf,Yo=es;var u1={usingClientEntryPoint:!1,Events:[_a,Qs,Jl,Yn,Xo,pf]},Na={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c1={bundleType:Na.bundleType,version:Na.version,rendererPackageName:Na.rendererPackageName,rendererConfig:Na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ea(r),r===null?null:r.stateNode},findFiberByHostInstance:Na.findFiberByHostInstance||a1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{ji=bu.inject(c1),ln=bu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u1,sn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(s))throw Error(t(200));return o1(r,s,null,a)},sn.createRoot=function(r,s){if(!Sf(r))throw Error(t(299));var a=!1,h="",d=oy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=wf(r,1,!1,null,null,a,!1,h,d),r[Ir]=s.current,ga(r.nodeType===8?r.parentNode:r),new Tf(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ea(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return es(r)},sn.hydrate=function(r,s,a){if(!Mu(s))throw Error(t(200));return Lu(null,r,s,!0,a)},sn.hydrateRoot=function(r,s,a){if(!Sf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",E=oy;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=iy(s,null,r,1,a??null,d,!1,y,E),r[Ir]=s.current,ga(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Nu(s)},sn.render=function(r,s,a){if(!Mu(s))throw Error(t(200));return Lu(null,r,s,!1,a)},sn.unmountComponentAtNode=function(r){if(!Mu(r))throw Error(t(40));return r._reactRootContainer?(es(function(){Lu(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},sn.unstable_batchedUpdates=pf,sn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Mu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Lu(r,s,a,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var my;function _1(){if(my)return If.exports;my=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),If.exports=v1(),If.exports}var gy;function w1(){if(gy)return Ou;gy=1;var n=_1();return Ou.createRoot=n.createRoot,Ou.hydrateRoot=n.hydrateRoot,Ou}var E1=w1();const T1=B0(E1),S1=()=>{};var yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},A1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|g>>6,x=g&63;p||(x=64,c||(T=64)),i.push(t[v],t[w],t[T],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(z0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):A1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||g==null||w==null)throw new x1;const T=l<<2|f>>4;if(i.push(T),g!==64){const x=f<<4&240|g>>2;if(i.push(x),w!==64){const M=g<<6&192|w;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class x1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I1=function(n){const e=z0(n);return $0.encodeByteArray(e,!0)},ic=function(n){return I1(n).replace(/\./g,"")},P1=function(n){try{return $0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=()=>C1().__FIREBASE_DEFAULTS__,V1=()=>{if(typeof process>"u"||typeof yy>"u")return;const n=yy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},k1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&P1(n[1]);return e&&JSON.parse(e)},Fd=()=>{try{return S1()||R1()||V1()||k1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},D1=n=>Fd()?.emulatorHosts?.[n],N1=n=>{const e=D1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},H0=()=>Fd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ic(JSON.stringify(t)),ic(JSON.stringify(c)),""].join(".")}const $a={};function O1(){const n={prod:[],emulator:[]};for(const e of Object.keys($a))$a[e]?n.emulator.push(e):n.prod.push(e);return n}function F1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let vy=!1;function j1(n,e){if(typeof window>"u"||typeof document>"u"||!jd(window.location.host)||$a[n]===e||$a[n]||vy)return;$a[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=O1().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{vy=!0,c()},T}function v(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=F1(i),x=t("text"),M=document.getElementById(x)||document.createElement("span"),j=t("learnmore"),L=document.getElementById(j)||document.createElement("a"),q=t("preprendIcon"),Q=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;f(J),v(L,j);const se=g();p(Q,q),J.append(Q,M,L,se),document.body.appendChild(J)}l?(M.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){const n=Fd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function H1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="FirebaseError";class No extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=q1,Object.setPrototypeOf(this,No.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q0.prototype.create)}}class q0{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?W1(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new No(o,f,i)}}function W1(n,e){return n.replace(K1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const K1=/\{\$([^}]+)}/g;function sc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(_y(l)&&_y(c)){if(!sc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function _y(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(n){return n&&n._delegate?n._delegate:n}class Ja{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new M1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X1(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Q1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q1(n){return n===ss?void 0:n}function X1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new G1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const J1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Z1=Le.INFO,eS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},tS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=eS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W0{constructor(e){this.name=e,this._logLevel=Z1,this._logHandler=tS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const nS=(n,e)=>e.some(t=>n instanceof t);let wy,Ey;function rS(){return wy||(wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iS(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,Jf=new WeakMap,G0=new WeakMap,Rf=new WeakMap,Ud=new WeakMap;function sS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(pi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&K0.set(t,n)}).catch(()=>{}),Ud.set(e,n),e}function oS(n){if(Jf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Jf.set(n,e)}let Zf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||G0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aS(n){Zf=n(Zf)}function lS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Vf(this),e,...t);return G0.set(i,e.sort?e.sort():[e]),pi(i)}:iS().includes(n)?function(...e){return n.apply(Vf(this),e),pi(K0.get(this))}:function(...e){return pi(n.apply(Vf(this),e))}}function uS(n){return typeof n=="function"?lS(n):(n instanceof IDBTransaction&&oS(n),nS(n,rS())?new Proxy(n,Zf):n)}function pi(n){if(n instanceof IDBRequest)return sS(n);if(Rf.has(n))return Rf.get(n);const e=uS(n);return e!==n&&(Rf.set(n,e),Ud.set(e,n)),e}const Vf=n=>Ud.get(n);function cS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=pi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(pi(c.result),p.oldVersion,p.newVersion,pi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const hS=["get","getKey","getAll","getAllKeys","count"],fS=["put","add","delete","clear"],kf=new Map;function Ty(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=fS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||hS.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&p.done]))[0]};return kf.set(e,l),l}aS(n=>({...n,get:(e,t,i)=>Ty(e,t)||n.get(e,t,i),has:(e,t)=>!!Ty(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function pS(n){return n.getComponent()?.type==="VERSION"}const ed="@firebase/app",Sy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new W0("@firebase/app"),mS="@firebase/app-compat",gS="@firebase/analytics-compat",yS="@firebase/analytics",vS="@firebase/app-check-compat",_S="@firebase/app-check",wS="@firebase/auth",ES="@firebase/auth-compat",TS="@firebase/database",SS="@firebase/data-connect",AS="@firebase/database-compat",xS="@firebase/functions",IS="@firebase/functions-compat",PS="@firebase/installations",CS="@firebase/installations-compat",RS="@firebase/messaging",VS="@firebase/messaging-compat",kS="@firebase/performance",DS="@firebase/performance-compat",NS="@firebase/remote-config",MS="@firebase/remote-config-compat",LS="@firebase/storage",bS="@firebase/storage-compat",OS="@firebase/firestore",FS="@firebase/ai",jS="@firebase/firestore-compat",US="firebase",BS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",zS={[ed]:"fire-core",[mS]:"fire-core-compat",[yS]:"fire-analytics",[gS]:"fire-analytics-compat",[_S]:"fire-app-check",[vS]:"fire-app-check-compat",[wS]:"fire-auth",[ES]:"fire-auth-compat",[TS]:"fire-rtdb",[SS]:"fire-data-connect",[AS]:"fire-rtdb-compat",[xS]:"fire-fn",[IS]:"fire-fn-compat",[PS]:"fire-iid",[CS]:"fire-iid-compat",[RS]:"fire-fcm",[VS]:"fire-fcm-compat",[kS]:"fire-perf",[DS]:"fire-perf-compat",[NS]:"fire-rc",[MS]:"fire-rc-compat",[LS]:"fire-gcs",[bS]:"fire-gcs-compat",[OS]:"fire-fst",[jS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[US]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,$S=new Map,nd=new Map;function Ay(n,e){try{n.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ac(n){const e=n.name;if(nd.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,n);for(const t of oc.values())Ay(t,n);for(const t of $S.values())Ay(t,n);return!0}function HS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qS(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new q0("app","Firebase",WS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=BS;function Q0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:td,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(t||(t=H0()),!t)throw mi.create("no-options");const l=oc.get(o);if(l){if(sc(t,l.options)&&sc(i,l.config))return l;throw mi.create("duplicate-app",{appName:o})}const c=new Y1(o);for(const p of nd.values())c.addComponent(p);const f=new KS(t,i,c);return oc.set(o,f),f}function QS(n=td){const e=oc.get(n);if(!e&&n===td&&H0())return Q0();if(!e)throw mi.create("no-app",{appName:n});return e}function wo(n,e,t){let i=zS[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(c.join(" "));return}ac(new Ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebase-heartbeat-database",YS=1,Za="firebase-heartbeat-store";let Df=null;function X0(){return Df||(Df=cS(XS,YS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Za)}catch(t){console.warn(t)}}}}).catch(n=>{throw mi.create("idb-open",{originalErrorMessage:n.message})})),Df}async function JS(n){try{const t=(await X0()).transaction(Za),i=await t.objectStore(Za).get(Y0(n));return await t.done,i}catch(e){if(e instanceof No)Or.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e?.message});Or.warn(t.message)}}}async function xy(n,e){try{const i=(await X0()).transaction(Za,"readwrite");await i.objectStore(Za).put(e,Y0(n)),await i.done}catch(t){if(t instanceof No)Or.warn(t.message);else{const i=mi.create("idb-set",{originalErrorMessage:t?.message});Or.warn(i.message)}}}function Y0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=1024,eA=30;class tA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Iy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>eA){const o=iA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iy(),{heartbeatsToSend:t,unsentEntries:i}=nA(this._heartbeatsCache.heartbeats),o=ic(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Or.warn(e),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function nA(n,e=ZS){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Py(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Py(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class rA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?H1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Py(n){return ic(JSON.stringify({version:2,heartbeats:n})).length}function iA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n){ac(new Ja("platform-logger",e=>new dS(e),"PRIVATE")),ac(new Ja("heartbeat",e=>new tA(e),"PRIVATE")),wo(ed,Sy,n),wo(ed,Sy,"esm2020"),wo("fire-js","")}sA("");var oA="firebase",aA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(oA,aA,"app");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,J0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function P(){}P.prototype=A.prototype,V.D=A.prototype,V.prototype=new P,V.prototype.constructor=V,V.C=function(k,N,F){for(var C=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)C[Ye-2]=arguments[Ye];return A.prototype[N].apply(k,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,A,P){P||(P=0);var k=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)k[N]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(N=0;16>N;++N)k[N]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=V.g[0],P=V.g[1],N=V.g[2];var F=V.g[3],C=A+(F^P&(N^F))+k[0]+3614090360&4294967295;A=P+(C<<7&4294967295|C>>>25),C=F+(N^A&(P^N))+k[1]+3905402710&4294967295,F=A+(C<<12&4294967295|C>>>20),C=N+(P^F&(A^P))+k[2]+606105819&4294967295,N=F+(C<<17&4294967295|C>>>15),C=P+(A^N&(F^A))+k[3]+3250441966&4294967295,P=N+(C<<22&4294967295|C>>>10),C=A+(F^P&(N^F))+k[4]+4118548399&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(N^A&(P^N))+k[5]+1200080426&4294967295,F=A+(C<<12&4294967295|C>>>20),C=N+(P^F&(A^P))+k[6]+2821735955&4294967295,N=F+(C<<17&4294967295|C>>>15),C=P+(A^N&(F^A))+k[7]+4249261313&4294967295,P=N+(C<<22&4294967295|C>>>10),C=A+(F^P&(N^F))+k[8]+1770035416&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(N^A&(P^N))+k[9]+2336552879&4294967295,F=A+(C<<12&4294967295|C>>>20),C=N+(P^F&(A^P))+k[10]+4294925233&4294967295,N=F+(C<<17&4294967295|C>>>15),C=P+(A^N&(F^A))+k[11]+2304563134&4294967295,P=N+(C<<22&4294967295|C>>>10),C=A+(F^P&(N^F))+k[12]+1804603682&4294967295,A=P+(C<<7&4294967295|C>>>25),C=F+(N^A&(P^N))+k[13]+4254626195&4294967295,F=A+(C<<12&4294967295|C>>>20),C=N+(P^F&(A^P))+k[14]+2792965006&4294967295,N=F+(C<<17&4294967295|C>>>15),C=P+(A^N&(F^A))+k[15]+1236535329&4294967295,P=N+(C<<22&4294967295|C>>>10),C=A+(N^F&(P^N))+k[1]+4129170786&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^N&(A^P))+k[6]+3225465664&4294967295,F=A+(C<<9&4294967295|C>>>23),C=N+(A^P&(F^A))+k[11]+643717713&4294967295,N=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(N^F))+k[0]+3921069994&4294967295,P=N+(C<<20&4294967295|C>>>12),C=A+(N^F&(P^N))+k[5]+3593408605&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^N&(A^P))+k[10]+38016083&4294967295,F=A+(C<<9&4294967295|C>>>23),C=N+(A^P&(F^A))+k[15]+3634488961&4294967295,N=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(N^F))+k[4]+3889429448&4294967295,P=N+(C<<20&4294967295|C>>>12),C=A+(N^F&(P^N))+k[9]+568446438&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^N&(A^P))+k[14]+3275163606&4294967295,F=A+(C<<9&4294967295|C>>>23),C=N+(A^P&(F^A))+k[3]+4107603335&4294967295,N=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(N^F))+k[8]+1163531501&4294967295,P=N+(C<<20&4294967295|C>>>12),C=A+(N^F&(P^N))+k[13]+2850285829&4294967295,A=P+(C<<5&4294967295|C>>>27),C=F+(P^N&(A^P))+k[2]+4243563512&4294967295,F=A+(C<<9&4294967295|C>>>23),C=N+(A^P&(F^A))+k[7]+1735328473&4294967295,N=F+(C<<14&4294967295|C>>>18),C=P+(F^A&(N^F))+k[12]+2368359562&4294967295,P=N+(C<<20&4294967295|C>>>12),C=A+(P^N^F)+k[5]+4294588738&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^N)+k[8]+2272392833&4294967295,F=A+(C<<11&4294967295|C>>>21),C=N+(F^A^P)+k[11]+1839030562&4294967295,N=F+(C<<16&4294967295|C>>>16),C=P+(N^F^A)+k[14]+4259657740&4294967295,P=N+(C<<23&4294967295|C>>>9),C=A+(P^N^F)+k[1]+2763975236&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^N)+k[4]+1272893353&4294967295,F=A+(C<<11&4294967295|C>>>21),C=N+(F^A^P)+k[7]+4139469664&4294967295,N=F+(C<<16&4294967295|C>>>16),C=P+(N^F^A)+k[10]+3200236656&4294967295,P=N+(C<<23&4294967295|C>>>9),C=A+(P^N^F)+k[13]+681279174&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^N)+k[0]+3936430074&4294967295,F=A+(C<<11&4294967295|C>>>21),C=N+(F^A^P)+k[3]+3572445317&4294967295,N=F+(C<<16&4294967295|C>>>16),C=P+(N^F^A)+k[6]+76029189&4294967295,P=N+(C<<23&4294967295|C>>>9),C=A+(P^N^F)+k[9]+3654602809&4294967295,A=P+(C<<4&4294967295|C>>>28),C=F+(A^P^N)+k[12]+3873151461&4294967295,F=A+(C<<11&4294967295|C>>>21),C=N+(F^A^P)+k[15]+530742520&4294967295,N=F+(C<<16&4294967295|C>>>16),C=P+(N^F^A)+k[2]+3299628645&4294967295,P=N+(C<<23&4294967295|C>>>9),C=A+(N^(P|~F))+k[0]+4096336452&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~N))+k[7]+1126891415&4294967295,F=A+(C<<10&4294967295|C>>>22),C=N+(A^(F|~P))+k[14]+2878612391&4294967295,N=F+(C<<15&4294967295|C>>>17),C=P+(F^(N|~A))+k[5]+4237533241&4294967295,P=N+(C<<21&4294967295|C>>>11),C=A+(N^(P|~F))+k[12]+1700485571&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~N))+k[3]+2399980690&4294967295,F=A+(C<<10&4294967295|C>>>22),C=N+(A^(F|~P))+k[10]+4293915773&4294967295,N=F+(C<<15&4294967295|C>>>17),C=P+(F^(N|~A))+k[1]+2240044497&4294967295,P=N+(C<<21&4294967295|C>>>11),C=A+(N^(P|~F))+k[8]+1873313359&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~N))+k[15]+4264355552&4294967295,F=A+(C<<10&4294967295|C>>>22),C=N+(A^(F|~P))+k[6]+2734768916&4294967295,N=F+(C<<15&4294967295|C>>>17),C=P+(F^(N|~A))+k[13]+1309151649&4294967295,P=N+(C<<21&4294967295|C>>>11),C=A+(N^(P|~F))+k[4]+4149444226&4294967295,A=P+(C<<6&4294967295|C>>>26),C=F+(P^(A|~N))+k[11]+3174756917&4294967295,F=A+(C<<10&4294967295|C>>>22),C=N+(A^(F|~P))+k[2]+718787259&4294967295,N=F+(C<<15&4294967295|C>>>17),C=P+(F^(N|~A))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+F&4294967295}i.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var P=A-this.blockSize,k=this.B,N=this.h,F=0;F<A;){if(N==0)for(;F<=P;)o(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<A;)if(k[N++]=V.charCodeAt(F++),N==this.blockSize){o(this,k),N=0;break}}else for(;F<A;)if(k[N++]=V[F++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=A},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var P=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=P&255,P/=256;for(this.u(V),V=Array(16),A=P=0;4>A;++A)for(var k=0;32>k;k+=8)V[P++]=this.g[A]>>>k&255;return V};function l(V,A){var P=f;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=A(V)}function c(V,A){this.h=A;for(var P=[],k=!0,N=V.length-1;0<=N;N--){var F=V[N]|0;k&&F==A||(P[N]=F,k=!1)}this.g=P}var f={};function p(V){return-128<=V&&128>V?l(V,function(A){return new c([A|0],0>A?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return L(g(-V));for(var A=[],P=1,k=0;V>=P;k++)A[k]=V/P|0,P*=4294967296;return new c(A,0)}function v(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return L(v(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(A,8)),k=w,N=0;N<V.length;N+=8){var F=Math.min(8,V.length-N),C=parseInt(V.substring(N,N+F),A);8>F?(F=g(Math.pow(A,F)),k=k.j(F).add(g(C))):(k=k.j(P),k=k.add(g(C)))}return k}var w=p(0),T=p(1),x=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-L(this).m();for(var V=0,A=1,P=0;P<this.g.length;P++){var k=this.i(P);V+=(0<=k?k:4294967296+k)*A,A*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(j(this))return"-"+L(this).toString(V);for(var A=g(Math.pow(V,6)),P=this,k="";;){var N=se(P,A).g;P=q(P,N.j(A));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(V);if(P=N,M(P))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function j(V){return V.h==-1}n.l=function(V){return V=q(this,V),j(V)?-1:M(V)?0:1};function L(V){for(var A=V.g.length,P=[],k=0;k<A;k++)P[k]=~V.g[k];return new c(P,~V.h).add(T)}n.abs=function(){return j(this)?L(this):this},n.add=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],k=0,N=0;N<=A;N++){var F=k+(this.i(N)&65535)+(V.i(N)&65535),C=(F>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);k=C>>>16,F&=65535,C&=65535,P[N]=C<<16|F}return new c(P,P[P.length-1]&-2147483648?-1:0)};function q(V,A){return V.add(L(A))}n.j=function(V){if(M(this)||M(V))return w;if(j(this))return j(V)?L(this).j(L(V)):L(L(this).j(V));if(j(V))return L(this.j(L(V)));if(0>this.l(x)&&0>V.l(x))return g(this.m()*V.m());for(var A=this.g.length+V.g.length,P=[],k=0;k<2*A;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<V.g.length;N++){var F=this.i(k)>>>16,C=this.i(k)&65535,Ye=V.i(N)>>>16,Ct=V.i(N)&65535;P[2*k+2*N]+=C*Ct,Q(P,2*k+2*N),P[2*k+2*N+1]+=F*Ct,Q(P,2*k+2*N+1),P[2*k+2*N+1]+=C*Ye,Q(P,2*k+2*N+1),P[2*k+2*N+2]+=F*Ye,Q(P,2*k+2*N+2)}for(k=0;k<A;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=A;k<2*A;k++)P[k]=0;return new c(P,0)};function Q(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function J(V,A){this.g=V,this.h=A}function se(V,A){if(M(A))throw Error("division by zero");if(M(V))return new J(w,w);if(j(V))return A=se(L(V),A),new J(L(A.g),L(A.h));if(j(A))return A=se(V,L(A)),new J(L(A.g),A.h);if(30<V.g.length){if(j(V)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var P=T,k=A;0>=k.l(V);)P=ie(P),k=ie(k);var N=ue(P,1),F=ue(k,1);for(k=ue(k,2),P=ue(P,2);!M(k);){var C=F.add(k);0>=C.l(V)&&(N=N.add(P),F=C),k=ue(k,1),P=ue(P,1)}return A=q(V,N.j(A)),new J(N,A)}for(N=w;0<=V.l(A);){for(P=Math.max(1,Math.floor(V.m()/A.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=g(P),C=F.j(A);j(C)||0<C.l(V);)P-=k,F=g(P),C=F.j(A);M(F)&&(F=T),N=N.add(F),V=q(V,C)}return new J(N,V)}n.A=function(V){return se(this,V).h},n.and=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],k=0;k<A;k++)P[k]=this.i(k)&V.i(k);return new c(P,this.h&V.h)},n.or=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],k=0;k<A;k++)P[k]=this.i(k)|V.i(k);return new c(P,this.h|V.h)},n.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],k=0;k<A;k++)P[k]=this.i(k)^V.i(k);return new c(P,this.h^V.h)};function ie(V){for(var A=V.g.length+1,P=[],k=0;k<A;k++)P[k]=V.i(k)<<1|V.i(k-1)>>>31;return new c(P,V.h)}function ue(V,A){var P=A>>5;A%=32;for(var k=V.g.length-P,N=[],F=0;F<k;F++)N[F]=0<A?V.i(F+P)>>>A|V.i(F+P+1)<<32-A:V.i(F+P);return new c(N,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,J0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,gi=c}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z0,ba,e_,Qu,rd,t_,n_,r_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in _))break e;_=_[U]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,S=!1,U={next:function(){if(!S&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function w(u,m,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function T(u,m,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function x(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function M(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,U,H){for(var re=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)re[Be-2]=arguments[Be];return m.prototype[U].apply(S,re)}}function j(u){const m=u.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function L(u,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=u.length||0,H=S.length||0;u.length=U+H;for(let re=0;re<H;re++)u[U+re]=S[re]}else u.push(S)}}class q{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function se(u){return se[" "](u),u}se[" "]=function(){};var ie=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ue(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function V(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,m){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)u[_]=S[_];for(let H=0;H<P.length;H++)_=P[H],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function N(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function F(u){f.setTimeout(()=>{throw u},0)}function C(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ye{constructor(){this.h=this.g=null}add(m,_){const S=Ct.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ct=new q(()=>new Rt,u=>u.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,te=!1,me=new Ye,oe=()=>{const u=f.Promise.resolve(void 0);Ae=()=>{u.then(O)}};var O=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){F(_)}var m=Ct;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}te=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u}();function Pe(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ie){e:{try{se(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}M(Pe,ge);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),je=0;function $e(u,m,_,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=U,this.key=++je,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gr(u){this.src=u,this.g={},this.h=0}gr.prototype.add=function(u,m,_,S,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var re=Br(u,m,S,U);return-1<re?(m=u[re],_||(m.fa=!1)):(m=new $e(m,this.src,H,!!S,U),m.fa=_,u.push(m)),m};function vs(u,m){var _=m.type;if(_ in u.g){var S=u.g[_],U=Array.prototype.indexOf.call(S,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(Tt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Br(u,m,_,S){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==S)return U}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),_s={};function Uo(u,m,_,S,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Uo(u,m[H],_,S,U);return null}return _=$o(_),u&&u[Fe]?u.K(m,_,g(S)?!!S.capture:!1,U):Bo(u,m,_,!1,S,U)}function Bo(u,m,_,S,U,H){if(!m)throw Error("Invalid event type");var re=g(U)?!!U.capture:!!U,Be=Es(u);if(Be||(u[Vi]=Be=new gr(u)),_=Be.add(m,_,S,re,H),_.proxy)return _;if(S=Tl(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)Ie||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(vr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Tl(){function u(_){return m.call(u.src,u.listener,_)}const m=zo;return u}function ws(u,m,_,S,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)ws(u,m[H],_,S,U);else S=g(S)?!!S.capture:!!S,_=$o(_),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=Br(H,_,S,U),-1<_&&(Tt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Es(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Br(m,_,S,U)),(_=-1<u?m[u]:null)&&yr(_))}function yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])vs(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(vr(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Es(m))?(vs(_,u),_.h==0&&(_.src=null,m[Vi]=null)):Tt(u)}}}function vr(u){return u in _s?_s[u]:_s[u]="on"+u}function zo(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var _=u.listener,S=u.ha||u.src;u.fa&&yr(u),u=_.call(S,m)}return u}function Es(u){return u=u[Vi],u instanceof gr?u:null}var Ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(u){return typeof u=="function"?u:(u[Ts]||(u[Ts]=function(m){return u.handleEvent(m)}),u[Ts])}function mt(){K.call(this),this.i=new gr(this),this.M=this,this.F=null}M(mt,K),mt.prototype[Fe]=!0,mt.prototype.removeEventListener=function(u,m,_,S){ws(this,u,m,_,S)};function gt(u,m){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var U=m;m=new ge(S,u),k(m,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var re=m.g=_[H];U=_r(re,S,!0,m)&&U}if(re=m.g=u,U=_r(re,S,!0,m)&&U,U=_r(re,S,!1,m)&&U,_)for(H=0;H<_.length;H++)re=m.g=_[H],U=_r(re,S,!1,m)&&U}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],S=0;S<_.length;S++)Tt(_[S]);delete u.g[m],u.h--}}this.F=null},mt.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},mt.prototype.L=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function _r(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var re=m[H];if(re&&!re.da&&re.capture==_){var Be=re.listener,yt=re.ha||re.src;re.fa&&vs(u.i,re),U=Be.call(yt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ho(u,m,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function zr(u){u.g=Ho(()=>{u.g=null,u.i&&(u.i=!1,zr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ki extends K{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(u){K.call(this),this.h=u,this.g={}}M(Di,K);var qo=[];function Wo(u){ue(u.g,function(m,_){this.g.hasOwnProperty(_)&&yr(m)},u),u.g={}}Di.prototype.N=function(){Di.aa.N.call(this),Wo(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ko=f.JSON.stringify,Go=f.JSON.parse,Qo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ni(){}Ni.prototype.h=null;function Ss(u){return u.h||(u.h=u.i())}function As(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){ge.call(this,"d")}M(Xn,ge);function xs(){ge.call(this,"c")}M(xs,ge);var Yn={},Xo=null;function Mi(){return Xo=Xo||new mt}Yn.La="serverreachability";function Yo(u){ge.call(this,Yn.La,u)}M(Yo,ge);function wr(u){const m=Mi();gt(m,new Yo(m))}Yn.STAT_EVENT="statevent";function Jo(u,m){ge.call(this,Yn.STAT_EVENT,u),this.stat=m}M(Jo,ge);function ot(u){const m=Mi();gt(m,new Jo(m,u))}Yn.Ma="timingevent";function Is(u,m){ge.call(this,Yn.Ma,u),this.size=m}M(Is,ge);function Nn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function bi(u,m,_,S,U,H){u.info(function(){if(u.g)if(H)for(var re="",Be=H.split("&"),yt=0;yt<Be.length;yt++){var Ne=Be[yt].split("=");if(1<Ne.length){var St=Ne[0];Ne=Ne[1];var ct=St.split("_");re=2<=ct.length&&ct[1]=="type"?re+(St+"="+Ne+"&"):re+(St+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+_+`
`+re})}function Ps(u,m,_,S,U,H,re){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+_+`
`+H+" "+re})}function Mn(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yc(u,_)+(S?" "+S:"")})}function Zo(u,m){u.info(function(){return"TIMEOUT: "+m})}Li.prototype.info=function(){};function Yc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return Ko(_)}catch{return m}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function Oi(){}M(Oi,Ni),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Ln=new Oi;function bn(u,m,_,S){this.j=u,this.i=m,this.l=_,this.R=S||1,this.U=new Di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Al}function Al(){this.i=null,this.g="",this.h=!1}var ea={},Rs={};function Vs(u,m,_){u.L=1,u.v=Kr(un(m)),u.m=_,u.P=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),He(u),u.A=un(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Qr(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Al,u.g=zl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ki(T(u.Y,u,u.g),u.O)),m=u.U,_=u.g,S=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(qo[0]=U.toString()),U=qo);for(var H=0;H<U.length;H++){var re=Uo(_,U[H],S||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wr(),bi(u.i,u.u,u.A,u.l,u.R,u.m)}bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Jt(u)==3?m.j():this.Y(u)},bn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Jt(this.g);var m=this.g.Ba();const Tn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||aa(this.g)))){this.J||ct!=4||m==7||(m==8||0>=Tn?wr(3):wr(2)),Fi(this);var _=this.g.Z();this.X=_;t:if(xl(this)){var S=aa(this.g);u="";var U=S.length,H=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),$r(this);var re="";break t}this.h.i=new f.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(H&&m==U-1)});S.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Ps(this.i,this.u,this.A,this.l,this.R,ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,yt=this.g;if((Be=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Be)){var Ne=Be;break t}}Ne=null}if(_=Ne)Mn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,na(this,_);else{this.o=!1,this.s=3,ot(12),wn(this),$r(this);break e}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<re.length;)if(hn=Jc(this,re),hn==Rs){ct==4&&(this.s=4,ot(14),_=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==ea){this.s=4,ot(15),Mn(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Mn(this.i,this.l,hn,null),na(this,hn);if(xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||re.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Mn(this.i,this.l,re,"[Invalid Chunked Response]"),wn(this),$r(this);else if(0<re.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ua(St),St.M=!0,ot(11))}}else Mn(this.i,this.l,re,null),na(this,re);ct==4&&wn(this),this.o&&!this.J&&(ct==4?Bs(this.j,this):(this.o=!1,He(this)))}else bs(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),wn(this),$r(this)}}}catch{}finally{}};function xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jc(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?Rs:(_=Number(m.substring(_,S)),isNaN(_)?ea:(S+=1,S+_>m.length?Rs:(m=m.slice(S,S+_),u.C=S+_,m)))}bn.prototype.cancel=function(){this.J=!0,wn(this)};function He(u){u.S=Date.now()+u.I,Il(u,u.I)}function Il(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nn(T(u.ba,u),m)}function Fi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Zo(this.i,this.A),this.L!=2&&(wr(),ot(17)),wn(this),this.s=2,$r(this)):Il(this,this.S-u)};function $r(u){u.j.G==0||u.J||Bs(u.j,u)}function wn(u){Fi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Wo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function na(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Kt(_.h,u))){if(!u.K&&Kt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Us(_),Bn(_);else break e;js(_),ot(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Nn(T(_.Za,_),6e3));if(1>=Cl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xr(_,11)}else if((u.K||_.g==u)&&Us(_),!Q(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Ne=U[m];if(_.T=Ne[0],Ne=Ne[1],_.G==2)if(Ne[0]=="c"){_.K=Ne[1],_.ia=Ne[2];const St=Ne[3];St!=null&&(_.la=St,_.j.info("VER="+_.la));const ct=Ne[4];ct!=null&&(_.Aa=ct,_.j.info("SVER="+_.Aa));const Tn=Ne[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(S=1.5*Tn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const hn=u.g;if(hn){const qi=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qi){var H=S.h;H.g||qi.indexOf("spdy")==-1&&qi.indexOf("quic")==-1&&qi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ra(H,H.h),H.h=null))}if(S.D){const $s=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(S.ya=$s,ze(S.I,S.D,$s))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var re=u;if(S.qa=Bl(S,S.J?S.ia:null,S.W),re.K){Rl(S.h,re);var Be=re,yt=S.L;yt&&(Be.I=yt),Be.B&&(Fi(Be),He(Be)),S.g=re}else Hi(S);0<_.i.length&&tr(_)}else Ne[0]!="stop"&&Ne[0]!="close"||xr(_,7);else _.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?xr(_,7):kt(_):Ne[0]!="noop"&&_.l&&_.l.ta(Ne),_.v=0)}}wr(4)}catch{}}var Pl=class{constructor(u,m){this.g=u,this.map=m}};function ji(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Cl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ra(u,m){u.g?u.g.add(m):u.h=m}function Rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ji.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return j(u.i)}function ks(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,S=0;S<_;S++)m.push(u[S]);return m}m=[],_=0;for(S in u)m[_++]=u[S];return m}function Ds(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const S in u)m[_++]=S;return m}}}function Hr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ds(u),S=ks(u),U=S.length,H=0;H<U;H++)m.call(void 0,S[H],_&&_[H],u)}var Ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),U=null;if(0<=S){var H=u[_].substring(0,S);U=u[_].substring(S+1)}else H=u[_];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Er(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Er){this.h=u.h,Bi(this,u.j),this.o=u.o,this.g=u.g,qr(this,u.s),this.l=u.l;var m=u.i,_=new Jn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Wr(this,_),this.m=u.m}else u&&(m=String(u).match(Ui))?(this.h=!1,Bi(this,m[1]||"",!0),this.o=ke(m[2]||""),this.g=ke(m[3]||"",!0),qr(this,m[4]),this.l=ke(m[5]||"",!0),Wr(this,m[6]||"",!0),this.m=ke(m[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Er.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Gr(m,Ns,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gr(m,Ns,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Gr(_,_.charAt(0)=="/"?Nl:Dl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Gr(_,ia)),u.join("")};function un(u){return new Er(u)}function Bi(u,m,_){u.j=_?ke(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Wr(u,m,_){m instanceof Jn?(u.i=m,Zn(u.i,u.h)):(_||(m=Gr(m,Ml)),u.i=new Jn(m,u.h))}function ze(u,m,_){u.i.set(m,_)}function Kr(u){return ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ke(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,kl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ns=/[#\/\?@]/g,Dl=/[#\?:]/g,Nl=/[#\?]/g,Ml=/[#\?@]/g,ia=/#/g;function Jn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Vt(u){u.g||(u.g=new Map,u.h=0,u.i&&Zc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Jn.prototype,n.add=function(u,m){Vt(this),this.i=null,u=En(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function On(u,m){Vt(u),m=En(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fn(u,m){return Vt(u),m=En(u,m),u.g.has(m)}n.forEach=function(u,m){Vt(this),this.g.forEach(function(_,S){_.forEach(function(U){u.call(m,U,S,this)},this)},this)},n.na=function(){Vt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const U=u[S];for(let H=0;H<U.length;H++)_.push(m[S])}return _},n.V=function(u){Vt(this);let m=[];if(typeof u=="string")Fn(this,u)&&(m=m.concat(this.g.get(En(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return Vt(this),this.i=null,u=En(this,u),Fn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qr(u,m,_){On(u,m),0<_.length&&(u.i=null,u.g.set(En(u,m),j(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const H=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var U=H;re[S]!==""&&(U+="="+encodeURIComponent(String(re[S]))),u.push(U)}}return this.i=u.join("&")};function En(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zn(u,m){m&&!u.j&&(Vt(u),u.i=null,u.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(On(this,S),Qr(this,U,_))},u)),u.j=m}function eh(u,m){const _=new Li;if(f.Image){const S=new Image;S.onload=x(Yt,_,"TestLoadImage: loaded",!0,m,S),S.onerror=x(Yt,_,"TestLoadImage: error",!1,m,S),S.onabort=x(Yt,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=x(Yt,_,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Ll(u,m){const _=new Li,S=new AbortController,U=setTimeout(()=>{S.abort(),Yt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?Yt(_,"TestPingServer: ok",!0,m):Yt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Yt(_,"TestPingServer: error",!1,m)})}function Yt(u,m,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function th(){this.g=new Qo}function bl(u,m,_){const S=_||"";try{Hr(u,function(U,H){let re=U;g(U)&&(re=Ko(U)),m.push(S+H+"="+encodeURIComponent(re))})}catch(U){throw m.push(S+"type="+encodeURIComponent("_badmap")),U}}function Tr(u){this.l=u.Ub||null,this.j=u.eb||!1}M(Tr,Ni),Tr.prototype.g=function(){return new zi(this.l,this.j)},Tr.prototype.i=function(u){return function(){return u}}({});function zi(u,m){mt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(zi,mt),n=zi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Un(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?jn(this):Un(this),this.readyState==3&&Ol(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},n.Qa=function(u){this.g&&(this.response=u,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Un(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sr(u){let m="";return ue(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function Xr(u,m,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Sr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ze(u,m,_))}function Je(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Je,mt);var nh=/^https?$/i,sa=["POST","PUT"];n=Je.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ss(this.o):Ss(Ln),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){$i(this,H);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(sa,m,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){$i(this,H)}};function $i(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ms(u),cn(u)}function Ms(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,gt(this,"complete"),gt(this,"abort"),cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oa(this):this.bb())},n.bb=function(){oa(this)};function oa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)Ho(u.Ea,0,u);else if(gt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var S;if(S=re===0){var U=String(u.D).match(Ui)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),S=!nh.test(U?U.toLowerCase():"")}_=S}if(_)gt(u,"complete"),gt(u,"success");else{u.m=6;try{var H=2<Jt(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Ms(u)}}finally{cn(u)}}}}function cn(u,m){if(u.g){Ls(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||gt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Ls(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Go(m)}};function aa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bs(u){const m={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(Q(u[S]))continue;var _=N(u[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[U]||[];m[U]=H,H.push(_)}V(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function la(u){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,u),this.cb=er("retryDelaySeedMs",1e4,u),this.Wa=er("forwardChannelMaxRetries",2,u),this.wa=er("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(u&&u.concurrentRequestLimit),this.Da=new th,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=la.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,S){ot(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Bl(this,null,this.W),tr(this)};function kt(u){if(Os(u),u.G==3){var m=u.U++,_=un(u.I);if(ze(_,"SID",u.K),ze(_,"RID",m),ze(_,"TYPE","terminate"),Ar(u,_),m=new bn(u,u.j,m),m.L=2,m.v=Kr(un(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=zl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),He(m)}Ul(u)}function Bn(u){u.g&&(ua(u),u.g.cancel(),u.g=null)}function Os(u){Bn(u),u.u&&(f.clearTimeout(u.u),u.u=null),Us(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function tr(u){if(!ln(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ae||oe(),te||(Ae(),te=!0),me.add(m,u),u.B=0}}function rh(u,m){return Cl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nn(T(u.Ga,u,m),jl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new bn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Yr(this,U,m),_=un(this.I),ze(_,"RID",u),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Ar(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(Sr(H)))+"&"+m:this.m&&Xr(_,this.m,H)),ra(this.h,U),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",m),ze(_,"SID","null"),U.T=!0,Vs(U,_,null)):Vs(U,_,m),this.G=2}}else this.G==3&&(u?Fs(this,u):this.i.length==0||ln(this.h)||Fs(this))};function Fs(u,m){var _;m?_=m.l:_=u.U++;const S=un(u.I);ze(S,"SID",u.K),ze(S,"RID",_),ze(S,"AID",u.T),Ar(u,S),u.m&&u.o&&Xr(S,u.m,u.o),_=new bn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Yr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ra(u.h,_),Vs(_,S,m)}function Ar(u,m){u.H&&ue(u.H,function(_,S){ze(m,S,_)}),u.l&&Hr({},function(_,S){ze(m,S,_)})}function Yr(u,m,_){_=Math.min(u.i.length,_);var S=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const re=["count="+_];H==-1?0<_?(H=U[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let Be=!0;for(let yt=0;yt<_;yt++){let Ne=U[yt].g;const St=U[yt].map;if(Ne-=H,0>Ne)H=Math.max(0,U[yt].g-100),Be=!1;else try{bl(St,re,"req"+Ne+"_")}catch{S&&S(St)}}if(Be){S=re.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,S}function Hi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ae||oe(),te||(Ae(),te=!0),me.add(m,u),u.v=0}}function js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nn(T(u.Fa,u),jl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Bn(this),Fl(this))};function ua(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Fl(u){u.g=new bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);ze(m,"RID","rpc"),ze(m,"SID",u.K),ze(m,"AID",u.T),ze(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ze(m,"TO",u.ja),ze(m,"TYPE","xmlhttp"),Ar(u,m),u.m&&u.o&&Xr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Kr(un(m)),_.m=null,_.P=!0,ta(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),js(this),ot(19))};function Us(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Bs(u,m){var _=null;if(u.g==m){Us(u),ua(u),u.g=null;var S=2}else if(Kt(u.h,m))_=m.D,Rl(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;S=Mi(),gt(S,new Is(S,_)),tr(u)}else Hi(u);else if(U=m.s,U==3||U==0&&0<m.X||!(S==1&&rh(u,m)||S==2&&js(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:xr(u,5);break;case 4:xr(u,10);break;case 3:xr(u,6);break;default:xr(u,2)}}}function jl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function xr(u,m){if(u.j.info("Error code "+m),m==2){var _=T(u.fb,u),S=u.Xa;const U=!S;S=new Er(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Bi(S,"https"),Kr(S),U?eh(S.toString(),_):Ll(S.toString(),_)}else ot(2);u.G=0,u.l&&u.l.sa(m),Ul(u),Os(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ul(u){if(u.G=0,u.ka=[],u.l){const m=Vl(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Bl(u,m,_){var S=_ instanceof Er?un(_):new Er(_);if(S.g!="")m&&(S.g=m+"."+S.g),qr(S,S.s);else{var U=f.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new Er(null);S&&Bi(H,S),m&&(H.g=m),U&&qr(H,U),_&&(H.l=_),S=H}return _=u.D,m=u.ya,_&&m&&ze(S,_,m),ze(S,"VER",u.la),Ar(u,S),S}function zl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Je(new Tr({eb:_})):new Je(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ca(){}n=ca.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zs(){}zs.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){mt.call(this),this.g=new la(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Q(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Q(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new nr(this)}M(Gt,mt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){kt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ko(u),u=_);m.i.push(new Pl(m.Ya++,u)),m.G==3&&tr(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Gt.aa.N.call(this)};function $l(u){Xn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}M($l,Xn);function Hl(){xs.call(this),this.status=1}M(Hl,xs);function nr(u){this.g=u}M(nr,ca),nr.prototype.ua=function(){gt(this.g,"a")},nr.prototype.ta=function(u){gt(this.g,new $l(u))},nr.prototype.sa=function(u){gt(this.g,new Hl)},nr.prototype.ra=function(){gt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,r_=function(){return new zs},n_=function(){return Mi()},t_=Yn,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Qu=Cs,Sl.COMPLETE="complete",e_=Sl,As.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ba=As,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,Z0=Je}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const Ry="@firebase/firestore",Vy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new W0("@firebase/firestore");function co(){return fs.logLevel}function le(n,...e){if(fs.logLevel<=Le.DEBUG){const t=e.map(Bd);fs.debug(`Firestore (${Mo}): ${n}`,...t)}}function Fr(n,...e){if(fs.logLevel<=Le.ERROR){const t=e.map(Bd);fs.error(`Firestore (${Mo}): ${n}`,...t)}}function So(n,...e){if(fs.logLevel<=Le.WARN){const t=e.map(Bd);fs.warn(`Firestore (${Mo}): ${n}`,...t)}}function Bd(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,i_(n,i,t)}function i_(n,e,t){let i=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Fr(i),new Error(i)}function Ue(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||i_(e,o,i)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends No{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class uA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cA{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue(typeof i.accessToken=="string",31837,{l:i}),new s_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class hA{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fA{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new hA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ky(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=pA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Re(n,e){return n<e?-1:n>e?1:0}function id(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return Nf(o)===Nf(l)?Re(o,l):Nf(o)?1:-1}return Re(n.length,e.length)}const mA=55296,gA=57343;function Nf(n){const e=n.charCodeAt(0);return e>=mA&&e<=gA}function Ao(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="__name__";class ar{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=ar.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Re(e.length,t.length)}static compareSegments(e,t){const i=ar.isNumericId(e),o=ar.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ar.extractNumericId(e).compare(ar.extractNumericId(t)):id(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class Ge extends ar{construct(e,t,i){return new Ge(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const yA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends ar{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return yA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dy}static keyField(){return new bt([Dy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new de(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new de(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new de(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ge.fromString(e))}static fromName(e){return new ye(Ge.fromString(e).popFirst(5))}static empty(){return new ye(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,e,t){if(!t)throw new de(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vA(n,e,t,i){if(e===!0&&i===!0)throw new de(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ny(n){if(!ye.isDocumentKey(n))throw new de(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function My(n){if(ye.isDocumentKey(n))throw new de(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$d(n);throw new de(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(n,e){const t={typeString:n};return e&&(t.value=e),t}function hl(n,e){if(!a_(n))throw new de(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new de(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-62135596800,by=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*by);return new Qe(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ly)throw new de(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/by}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hl(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ly;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:dt("string",Qe._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Qe(0,0))}static max(){return new Se(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=-1;function _A(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new Qe(t+1,0):new Qe(t,i));return new _i(o,ye.empty(),e)}function wA(n){return new _i(n.readTime,n.key,el)}class _i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _i(Se.min(),ye.empty(),el)}static max(){return new _i(Se.max(),ye.empty(),el)}}function EA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==TA)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,i)=>{t(e)})}static reject(e){return new W((t,i)=>{i(e)})}static waitFor(e){return new W((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=W.resolve(!1);for(const i of e)t=t.next(o=>o?W.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new W((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++f,f===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new W((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function AA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=-1;function Cc(n){return n==null}function lc(n){return n===0&&1/n==-1/0}function xA(n){return typeof n=="number"&&Number.isInteger(n)&&!lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="";function IA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Oy(e)),e=PA(n.get(t),e);return Oy(e)}function PA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case l_:t+="";break;default:t+=l}}return t}function Oy(n){return n+l_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new mn([])}unionWith(e){let t=new Et(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new c_("Invalid base64 string: "+l):l}}(e);return new Ot(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const CA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(n){if(Ue(!!n,39018),typeof n=="string"){let e=0;const t=CA.exec(n);if(Ue(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ei(n){return typeof n=="string"?Ot.fromBase64String(n):Ot.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="server_timestamp",f_="__type__",d_="__previous_value__",p_="__local_write_time__";function qd(n){return(n?.mapValue?.fields||{})[f_]?.stringValue===h_}function Rc(n){const e=n.mapValue.fields[d_];return qd(e)?Rc(e):e}function tl(n){const e=wi(n.mapValue.fields[p_].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,i,o,l,c,f,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const uc="(default)";class nl{constructor(e,t){this.projectId=e,this.database=t||uc}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="__type__",VA="__max__",Uu={mapValue:{}},g_="__vector__",cc="value";function Ti(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qd(n)?4:DA(n)?9007199254740991:kA(n)?10:11:Ee(28295,{value:n})}function pr(n,e){if(n===e)return!0;const t=Ti(n);if(t!==Ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tl(n).isEqual(tl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=wi(o.timestampValue),f=wi(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ei(o.bytesValue).isEqual(Ei(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ut(o.doubleValue),f=ut(l.doubleValue);return c===f?lc(c)===lc(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Ao(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Fy(c)!==Fy(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!pr(c[p],f[p])))return!1;return!0}(n,e);default:return Ee(52216,{left:n})}}function rl(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function xo(n,e){if(n===e)return 0;const t=Ti(n),i=Ti(e);if(t!==i)return Re(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=ut(l.integerValue||l.doubleValue),p=ut(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Uy(n.timestampValue,e.timestampValue);case 4:return Uy(tl(n),tl(e));case 5:return id(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Ei(l),p=Ei(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=Re(f[g],p[g]);if(v!==0)return v}return Re(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Re(ut(l.latitude),ut(c.latitude));return f!==0?f:Re(ut(l.longitude),ut(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return By(n.arrayValue,e.arrayValue);case 10:return function(l,c){const f=l.fields||{},p=c.fields||{},g=f[cc]?.arrayValue,v=p[cc]?.arrayValue,w=Re(g?.values?.length||0,v?.values?.length||0);return w!==0?w:By(g,v)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Uu.mapValue&&c===Uu.mapValue)return 0;if(l===Uu.mapValue)return 1;if(c===Uu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const T=id(p[w],v[w]);if(T!==0)return T;const x=xo(f[p[w]],g[v[w]]);if(x!==0)return x}return Re(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function Uy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=wi(n),i=wi(e),o=Re(t.seconds,i.seconds);return o!==0?o:Re(t.nanos,i.nanos)}function By(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=xo(t[o],i[o]);if(l)return l}return Re(t.length,i.length)}function Io(n){return sd(n)}function sd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=wi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ei(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=sd(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${sd(t.fields[c])}`;return o+"}"}(n.mapValue):Ee(61005,{value:n})}function Xu(n){switch(Ti(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(n);return e?16+Xu(e):16;case 5:return 2*n.stringValue.length;case 6:return Ei(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Xu(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Pi(i.fields,(l,c)=>{o+=l.length+Xu(c)}),o}(n.mapValue);default:throw Ee(13486,{value:n})}}function od(n){return!!n&&"integerValue"in n}function Wd(n){return!!n&&"arrayValue"in n}function zy(n){return!!n&&"nullValue"in n}function $y(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yu(n){return!!n&&"mapValue"in n}function kA(n){return(n?.mapValue?.fields||{})[m_]?.stringValue===g_}function Ha(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Pi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ha(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ha(n.arrayValue.values[t]);return e}return{...n}}function DA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(t)}setAll(e){let t=bt.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Ha(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Yu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Pi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new an(Ha(this.value))}}function y_(n){const e=[];return Pi(n.fields,(t,i)=>{const o=new bt([t]);if(Yu(i)){const l=y_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new qt(e,0,Se.min(),Se.min(),Se.min(),an.empty(),0)}static newFoundDocument(e,t,i,o){return new qt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Se.min(),Se.min(),an.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Se.min(),Se.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.position=e,this.inclusive=t}}function Hy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(c.referenceValue),t.key):i=xo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function qy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function NA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{}class wt extends v_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LA(e,t,i):t==="array-contains"?new FA(e,i):t==="in"?new jA(e,i):t==="not-in"?new UA(e,i):t==="array-contains-any"?new BA(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new bA(e,i):new OA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&Ti(this.value)===Ti(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends v_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mr(e,t)}matches(e){return __(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function __(n){return n.op==="and"}function w_(n){return MA(n)&&__(n)}function MA(n){for(const e of n.filters)if(e instanceof mr)return!1;return!0}function ad(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+Io(n.value);if(w_(n))return n.filters.map(e=>ad(e)).join(",");{const e=n.filters.map(t=>ad(t)).join(",");return`${n.op}(${e})`}}function E_(n,e){return n instanceof wt?function(i,o){return o instanceof wt&&i.op===o.op&&i.field.isEqual(o.field)&&pr(i.value,o.value)}(n,e):n instanceof mr?function(i,o){return o instanceof mr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&E_(c,o.filters[f]),!0):!1}(n,e):void Ee(19439)}function T_(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${Io(t.value)}`}(n):n instanceof mr?function(t){return t.op.toString()+" {"+t.getFilters().map(T_).join(" ,")+"}"}(n):"Filter"}class LA extends wt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class bA extends wt{constructor(e,t){super(e,"in",t),this.keys=S_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OA extends wt{constructor(e,t){super(e,"not-in",t),this.keys=S_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function S_(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class FA extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wd(t)&&rl(t.arrayValue,this.value)}}class jA extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rl(this.value.arrayValue,t)}}class UA extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rl(this.value.arrayValue,t)}}class BA extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Wy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new zA(n,e,t,i,o,l,c)}function Kd(n){const e=xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ad(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Io(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Io(i)).join(",")),e.Te=t}return e.Te}function Gd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!E_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qy(n.startAt,e.startAt)&&qy(n.endAt,e.endAt)}function ld(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $A(n,e,t,i,o,l,c,f){return new Vc(n,e,t,i,o,l,c,f)}function Qd(n){return new Vc(n)}function Ky(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HA(n){return n.collectionGroup!==null}function qa(n){const e=xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Et(bt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new fc(l,i))}),t.has(bt.keyField().canonicalString())||e.Ie.push(new fc(bt.keyField(),i))}return e.Ie}function lr(n){const e=xe(n);return e.Ee||(e.Ee=qA(e,qa(n))),e.Ee}function qA(n,e){if(n.limitType==="F")return Wy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new fc(o.field,l)});const t=n.endAt?new hc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hc(n.startAt.position,n.startAt.inclusive):null;return Wy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ud(n,e,t){return new Vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kc(n,e){return Gd(lr(n),lr(e))&&n.limitType===e.limitType}function A_(n){return`${Kd(lr(n))}|lt:${n.limitType}`}function ho(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>T_(o)).join(", ")}]`),Cc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Io(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Io(o)).join(",")),`Target(${i})`}(lr(n))}; limitType=${n.limitType})`}function Dc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of qa(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const g=Hy(c,f,p);return c.inclusive?g<=0:g<0}(i.startAt,qa(i),o)||i.endAt&&!function(c,f,p){const g=Hy(c,f,p);return c.inclusive?g>=0:g>0}(i.endAt,qa(i),o))}(n,e)}function WA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function x_(n){return(e,t)=>{let i=!1;for(const o of qa(n)){const l=KA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function KA(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),g=f.data.field(l);return p!==null&&g!==null?xo(p,g):Ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return u_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new rt(ye.comparator);function jr(){return GA}const I_=new rt(ye.comparator);function Oa(...n){let e=I_;for(const t of n)e=e.insert(t.key,t);return e}function P_(n){let e=I_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ls(){return Wa()}function C_(){return Wa()}function Wa(){return new ps(n=>n.toString(),(n,e)=>n.isEqual(e))}const QA=new rt(ye.comparator),XA=new Et(ye.comparator);function Ve(...n){let e=XA;for(const t of n)e=e.add(t);return e}const YA=new Et(Re);function JA(){return YA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function R_(n){return{integerValue:""+n}}function ZA(n,e){return xA(e)?R_(e):Xd(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function ex(n,e,t){return n instanceof dc?function(o,l){const c={fields:{[f_]:{stringValue:h_},[p_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&qd(l)&&(l=Rc(l)),l&&(c.fields[d_]=l),{mapValue:c}}(t,e):n instanceof il?k_(n,e):n instanceof sl?D_(n,e):function(o,l){const c=V_(o,l),f=Gy(c)+Gy(o.Ae);return od(c)&&od(o.Ae)?R_(f):Xd(o.serializer,f)}(n,e)}function tx(n,e,t){return n instanceof il?k_(n,e):n instanceof sl?D_(n,e):t}function V_(n,e){return n instanceof pc?function(i){return od(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class dc extends Nc{}class il extends Nc{constructor(e){super(),this.elements=e}}function k_(n,e){const t=N_(e);for(const i of n.elements)t.some(o=>pr(o,i))||t.push(i);return{arrayValue:{values:t}}}class sl extends Nc{constructor(e){super(),this.elements=e}}function D_(n,e){let t=N_(e);for(const i of n.elements)t=t.filter(o=>!pr(o,i));return{arrayValue:{values:t}}}class pc extends Nc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Gy(n){return ut(n.integerValue||n.doubleValue)}function N_(n){return Wd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof il&&o instanceof il||i instanceof sl&&o instanceof sl?Ao(i.elements,o.elements,pr):i instanceof pc&&o instanceof pc?pr(i.Ae,o.Ae):i instanceof dc&&o instanceof dc}(n.transform,e.transform)}class rx{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Mc{}function M_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yd(n.key,Dn.none()):new fl(n.key,n.data,Dn.none());{const t=n.data,i=an.empty();let o=new Et(bt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new Ci(n.key,i,new mn(o.toArray()),Dn.none())}}function ix(n,e,t){n instanceof fl?function(o,l,c){const f=o.value.clone(),p=Xy(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ci?function(o,l,c){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Xy(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(L_(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ka(n,e,t,i){return n instanceof fl?function(l,c,f,p){if(!Ju(l.precondition,c))return f;const g=l.value.clone(),v=Yy(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ci?function(l,c,f,p){if(!Ju(l.precondition,c))return f;const g=Yy(l.fieldTransforms,p,c),v=c.data;return v.setAll(L_(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,c,f){return Ju(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function sx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=V_(i.transform,o||null);l!=null&&(t===null&&(t=an.empty()),t.set(i.field,l))}return t||null}function Qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ao(i,o,(l,c)=>nx(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fl extends Mc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ci extends Mc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function L_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Xy(n,e,t){const i=new Map;Ue(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,tx(c,f,t[o]))}return i}function Yy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,ex(l,c,e))}return i}class Yd extends Mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ox extends Mc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ix(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ka(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ka(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=C_();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=M_(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(t,i)=>Qy(t,i))&&Ao(this.baseMutations,e.baseMutations,(t,i)=>Qy(t,i))}}class Jd{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ue(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return QA}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Jd(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Me;function cx(n){switch(n){case G.OK:return Ee(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function b_(n){if(n===void 0)return Fr("GRPC error has no .code"),G.UNKNOWN;switch(n){case ft.OK:return G.OK;case ft.CANCELLED:return G.CANCELLED;case ft.UNKNOWN:return G.UNKNOWN;case ft.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ft.INTERNAL:return G.INTERNAL;case ft.UNAVAILABLE:return G.UNAVAILABLE;case ft.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ft.NOT_FOUND:return G.NOT_FOUND;case ft.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ft.ABORTED:return G.ABORTED;case ft.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ft.DATA_LOSS:return G.DATA_LOSS;default:return Ee(39323,{code:n})}}(Me=ft||(ft={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new gi([4294967295,4294967295],0);function Jy(n){const e=hx().encode(n),t=new J0;return t.update(e),new Uint8Array(t.digest())}function Zy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new gi([t,i],0),new gi([o,l],0)]}class Zd{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Fa(`Invalid padding: ${t}`);if(i<0)throw new Fa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gi.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(gi.fromNumber(i)));return o.compare(fx)===1&&(o=new gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Jy(e),[i,o]=Zy(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Zd(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const t=Jy(e),[i,o]=Zy(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Lc(Se.min(),o,new rt(Re),jr(),Ve())}}class dl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new dl(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class O_{constructor(e,t){this.targetId=e,this.Ce=t}}class F_{constructor(e,t,i=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),i=Ve();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:l})}}),new dl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dx{constructor(e){this.Ge=e,this.ze=new Map,this.je=jr(),this.Je=Bu(),this.He=Bu(),this.Ye=new rt(Re)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(ld(l))if(i===0){const c=new ye(l.path);this.et(t,c,qt.newNoDocument(c,Se.min()))}else Ue(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Ei(i).toUint8Array()}catch(p){if(p instanceof c_)return So("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Zd(c,o,l)}catch(p){return So(p instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const f=this.ot(c);if(f){if(l.current&&ld(f.target)){const p=new ye(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,qt.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let i=Ve();this.He.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new Lc(e,t,this.Ye,this.je,i);return this.je=jr(),this.Je=Bu(),this.He=Bu(),this.Ye=new rt(Re),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ev,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Et(Re),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Et(Re),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bu(){return new rt(ye.comparator)}function tv(){return new rt(ye.comparator)}const px={asc:"ASCENDING",desc:"DESCENDING"},mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gx={and:"AND",or:"OR"};class yx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cd(n,e){return n.useProto3Json||Cc(e)?e:{value:e}}function mc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vx(n,e){return mc(n,e.toTimestamp())}function ur(n){return Ue(!!n,49232),Se.fromTimestamp(function(t){const i=wi(t);return new Qe(i.seconds,i.nanos)}(n))}function ep(n,e){return hd(n,e).canonicalString()}function hd(n,e){const t=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function U_(n){const e=Ge.fromString(n);return Ue(q_(e),10190,{key:e.toString()}),e}function fd(n,e){return ep(n.databaseId,e.path)}function Mf(n,e){const t=U_(e);if(t.get(1)!==n.databaseId.projectId)throw new de(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(z_(t))}function B_(n,e){return ep(n.databaseId,e)}function _x(n){const e=U_(n);return e.length===4?Ge.emptyPath():z_(e)}function dd(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function z_(n){return Ue(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nv(n,e,t){return{name:fd(n,e),fields:t.value.mapValue.fields}}function wx(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ue(v===void 0||typeof v=="string",58123),Ot.fromBase64String(v||"")):(Ue(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ot.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const v=g.code===void 0?G.UNKNOWN:b_(g.code);return new de(v,g.message||"")}(c);t=new F_(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Mf(n,i.document.name),l=ur(i.document.updateTime),c=i.document.createTime?ur(i.document.createTime):Se.min(),f=new an({mapValue:{fields:i.document.fields}}),p=qt.newFoundDocument(o,l,c,f),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Zu(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Mf(n,i.document),l=i.readTime?ur(i.readTime):Se.min(),c=qt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new Zu([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Mf(n,i.document),l=i.removedTargetIds||[];t=new Zu([],l,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new ux(o,l),f=i.targetId;t=new O_(f,c)}}return t}function Ex(n,e){let t;if(e instanceof fl)t={update:nv(n,e.key,e.value)};else if(e instanceof Yd)t={delete:fd(n,e.key)};else if(e instanceof Ci)t={update:nv(n,e.key,e.data),updateMask:Vx(e.fieldMask)};else{if(!(e instanceof ox))return Ee(16599,{Vt:e.type});t={verify:fd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof pc)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ee(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:vx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)}(n,e.precondition)),t}function Tx(n,e){return n&&n.length>0?(Ue(e!==void 0,14353),n.map(t=>function(o,l){let c=o.updateTime?ur(o.updateTime):ur(l);return c.isEqual(Se.min())&&(c=ur(l)),new rx(c,o.transformResults||[])}(t,e))):[]}function Sx(n,e){return{documents:[B_(n,e.path)]}}function Ax(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=B_(n,o);const l=function(g){if(g.length!==0)return H_(mr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(T){return{field:fo(T.field),direction:Px(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=cd(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function xx(n){let e=_x(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ue(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(w){const T=$_(w);return T instanceof mr&&w_(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(T=>function(M){return new fc(po(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Cc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,x=w.values||[];return new hc(x,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,x=w.values||[];return new hc(x,T)}(t.endAt)),$A(e,o,c,l,f,"F",p,g)}function Ix(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=po(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=po(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=po(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=po(t.unaryFilter.field);return wt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return wt.create(po(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mr.create(t.compositeFilter.filters.map(i=>$_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(n):Ee(30097,{filter:n})}function Px(n){return px[n]}function Cx(n){return mx[n]}function Rx(n){return gx[n]}function fo(n){return{fieldPath:n.canonicalString()}}function po(n){return bt.fromServerFormat(n.fieldPath)}function H_(n){return n instanceof wt?function(t){if(t.op==="=="){if($y(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NAN"}};if(zy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($y(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NAN"}};if(zy(t.value))return{unaryFilter:{field:fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(t.field),op:Cx(t.op),value:t.value}}}(n):n instanceof mr?function(t){const i=t.getFilters().map(o=>H_(o));return i.length===1?i[0]:{compositeFilter:{op:Rx(t.op),filters:i}}}(n):Ee(54877,{filter:n})}function Vx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function q_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t,i,o,l=Se.min(),c=Se.min(),f=Ot.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.yt=e}}function Dx(n){const e=xx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Cn=new Mx}addToCollectionParentIndex(e,t){return this.Cn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(_i.min())}updateCollectionGroup(e,t,i){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class Mx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Ge.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W_=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(W_,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="LruGarbageCollector",Lx=1048576;function sv([n,e],[t,i]){const o=Re(n,t);return o===0?Re(e,i):o}class bx{constructor(e){this.Ir=e,this.buffer=new Et(sv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();sv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ox{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(iv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bo(t)?le(iv,"Ignoring IndexedDB error during garbage collection: ",t):await Lo(t)}await this.Vr(3e5)})}}class Fx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Pc.ce);const i=new bx(t);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(rv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(g=Date.now(),co()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function jx(n,e){return new Fx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.changes=new ps(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?W.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ka(i.mutation,o,mn.empty(),Qe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const o=ls();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=Oa();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=jr();const c=Wa(),f=function(){return Wa()}();return t.forEach((p,g)=>{const v=i.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ci)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ka(v.mutation,g,v.mutation.getFieldMask(),Qe.now())):c.set(g.key,mn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>f.set(g,new Bx(v,c.get(g)??null))),f))}recalculateAndSaveOverlays(e,t){const i=Wa();let o=new rt((c,f)=>c-f),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||mn.empty();v=f.applyToLocalView(g,v),i.set(p,v);const w=(o.get(f.batchId)||Ve()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,w=C_();v.forEach(T=>{if(!l.has(T)){const x=M_(t.get(T),i.get(T));x!==null&&w.set(T,x),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return W.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):W.resolve(ls());let f=el,p=l;return c.next(g=>W.forEach(g,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(v)?W.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ve())).next(v=>({batchId:f,changes:P_(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let o=Oa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Oa();return this.indexManager.getCollectionParents(e,l).next(f=>W.forEach(f,p=>{const g=function(w,T){return new Vc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(v=>{v.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,qt.newInvalidDocument(v)))});let f=Oa();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&Ka(v.mutation,g,mn.empty(),Qe.now()),Dc(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return W.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ur(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:Dx(o.bundledQuery),readTime:ur(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.overlays=new rt(ye.comparator),this.qr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ls();return W.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.St(e,t,l)}),W.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),W.resolve()}getOverlaysForCollection(e,t,i){const o=ls(),l=t.length+1,c=new ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new rt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=ls(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=ls(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>f.set(g,v)),!(f.size()>=o)););return W.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new lx(t,i));let l=this.qr.get(t);l===void 0&&(l=Ve(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.Qr=new Et(Pt.$r),this.Ur=new Et(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Pt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new ye(new Ge([])),i=new Pt(t,e),o=new Pt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Ge([])),i=new Pt(t,e),o=new Pt(t,e+1);let l=Ve();return this.Ur.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Pt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Re(e.Yr,t.Yr)}static Kr(e,t){return Re(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Et(Pt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ax(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new Pt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return W.resolve(c)}lookupMutationBatch(e,t){return W.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Hd:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],c=>{const f=this.Xr(c.Yr);l.push(f)}),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Re);return t.forEach(o=>{const l=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],f=>{i=i.add(f.Yr)})}),W.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const c=new Pt(new ye(l),0);let f=new Et(Re);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Yr)),!0)},c),W.resolve(this.ti(f))}ti(e){const t=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ue(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return W.forEach(t.mutations,o=>{const l=new Pt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Pt(t,0),o=this.Zr.firstAfterOrEqual(i);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.ri=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return W.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let i=jr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))}),W.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=jr();const c=t.path,f=new ye(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||EA(wA(v),i)<=0||(o.has(v.key)||Dc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ee(9500)}ii(e,t){return W.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Gx(this)}getSize(e){return W.resolve(this.size)}}class Gx extends Ux{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),W.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.persistence=e,this.si=new ps(t=>Kd(t),Gd),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new tp,this.targetCount=0,this.ai=Po.ur()}forEachTarget(e,t){return this.si.forEach((i,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),W.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Pr(t),W.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),W.waitFor(l).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return W.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),W.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),W.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return W.resolve(i)}containsKey(e,t){return W.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pc(0),this.li=!1,this.li=!0,this.hi=new qx,this.referenceDelegate=e(this),this.Pi=new Qx(this),this.indexManager=new Nx,this.remoteDocumentCache=function(o){return new Kx(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new kx(t),this.Ii=new $x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Wx(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new Xx(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return W.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class Xx extends SA{constructor(e){super(),this.currentSequenceNumber=e}}class np{constructor(e){this.persistence=e,this.Ri=new tp,this.Vi=null}static mi(e){return new np(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),W.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,i=>{const o=ye.fromPath(i);return this.gi(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return W.or([()=>W.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class gc{constructor(e,t){this.persistence=e,this.pi=new ps(i=>IA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=jx(this,t)}static mi(e,t){return new gc(e,t)}Ei(){}di(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return W.forEach(this.pi,(i,o)=>this.br(e,i,o).next(l=>l?W.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xu(e.data.value)),t}br(e,t,i){return W.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return W.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new rp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return z1()?8:AA(U1())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Yx;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)})}).next(()=>l.result)}bs(e,t,i,o){return i.documentReadCount<this.fs?(co()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(co()<=Le.DEBUG&&le("QueryEngine","Query:",ho(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(co()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(t))):W.resolve())}ys(e,t){if(Ky(t))return W.resolve(null);let i=lr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ud(t,null,"F"),i=lr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ve(...l);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.Ds(t,f);return this.Cs(t,g,c,p.readTime)?this.ys(e,ud(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,i,o){return Ky(t)||o.isEqual(Se.min())?W.resolve(null):this.ps.getDocuments(e,i).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?W.resolve(null):(co()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(t)),this.vs(e,c,t,_A(o,el)).next(f=>f))})}Ds(e,t){let i=new Et(x_(e));return t.forEach((o,l)=>{Dc(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return co()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ho(t)),this.ps.getDocumentsMatchingQuery(e,t,_i.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="LocalStore",Zx=3e8;class eI{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new rt(Re),this.xs=new ps(l=>Kd(l),Gd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function tI(n,e,t,i){return new eI(n,e,t,i)}async function G_(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=Ve();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:f}))})})}function nI(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(f,p,g,v){const w=g.batch,T=w.keys();let x=W.resolve();return T.forEach(M=>{x=x.next(()=>v.getEntry(p,M)).next(j=>{const L=g.docVersions.get(M);Ue(L!==null,48541),j.version.compareTo(L)<0&&(w.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))})}),x.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Ve();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Q_(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function rI(n,e){const t=xe(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(l,v.addedDocuments,w)));let x=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(Ot.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),o=o.insert(w,x),function(j,L,q){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Zx?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,x,v)&&f.push(t.Pi.updateTargetData(l,x))});let p=jr(),g=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(iI(l,c,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!i.isEqual(Se.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next(w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return W.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ms=o,l))}function iI(n,e,t){let i=Ve(),o=Ve();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=jr();return t.forEach((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):le(ip,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{ks:c,qs:o}})}function sI(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Hd),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function oI(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Pi.getTargetData(i,e).next(l=>l?(o=l,W.resolve(o)):t.Pi.allocateTargetId(i).next(c=>(o=new di(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function pd(n,e,t){const i=xe(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!bo(c))throw c;le(ip,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function ov(n,e,t){const i=xe(n);let o=Se.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const w=xe(p),T=w.xs.get(v);return T!==void 0?W.resolve(w.Ms.get(T)):w.Pi.getTargetData(g,v)}(i,c,lr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?l:Ve())).next(f=>(aI(i,WA(e),f),{documents:f,Qs:l})))}function aI(n,e,t){let i=n.Os.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Os.set(e,i)}class av{constructor(){this.activeTargetIds=JA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lI{constructor(){this.Mo=new av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new av,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function md(){return zu===null?zu=function(){return 268435456+Math.round(2147483648*Math.random())}():zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="RestConnection",cI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===uc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=md(),f=this.zo(e,t.toUriEncodedString());le(Lf,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(f),v=jd(g);return this.Jo(e,f,p,i,v).then(w=>(le(Lf,`Received RPC '${e}' ${c}: `,w),w),w=>{throw So(Lf,`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",i),w})}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const i=cI[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class dI extends hI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=md();return new Promise((f,p)=>{const g=new Z0;g.setWithCredentials(!0),g.listenOnce(e_.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Qu.NO_ERROR:const w=g.getResponseJson();le(zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Qu.TIMEOUT:le(zt,`RPC '${e}' ${c} timed out`),p(new de(G.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const T=g.getStatus();if(le(zt,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const M=x?.error;if(M&&M.status&&M.message){const j=function(q){const Q=q.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(Q)>=0?Q:G.UNKNOWN}(M.status);p(new de(j,M.message))}else p(new de(G.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(G.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(zt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);le(zt,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,i,15)})}T_(e,t,i){const o=md(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=r_(),f=n_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");le(zt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=c.createWebChannel(v,p);this.I_(w);let T=!1,x=!1;const M=new fI({Yo:L=>{x?le(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(le(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),le(zt,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Zo:()=>w.close()}),j=(L,q,Q)=>{L.listen(q,J=>{try{Q(J)}catch(se){setTimeout(()=>{throw se},0)}})};return j(w,ba.EventType.OPEN,()=>{x||(le(zt,`RPC '${e}' stream ${o} transport opened.`),M.o_())}),j(w,ba.EventType.CLOSE,()=>{x||(x=!0,le(zt,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(w))}),j(w,ba.EventType.ERROR,L=>{x||(x=!0,So(zt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),M.a_(new de(G.UNAVAILABLE,"The operation could not be completed")))}),j(w,ba.EventType.MESSAGE,L=>{if(!x){const q=L.data[0];Ue(!!q,16349);const Q=q,J=Q?.error||Q[0]?.error;if(J){le(zt,`RPC '${e}' stream ${o} received error:`,J);const se=J.status;let ie=function(A){const P=ft[A];if(P!==void 0)return b_(P)}(se),ue=J.message;ie===void 0&&(ie=G.INTERNAL,ue="Unknown error status: "+se+" with message "+J.message),x=!0,M.a_(new de(ie,ue)),w.close()}else le(zt,`RPC '${e}' stream ${o} received:`,q),M.u_(q)}}),j(f,t_.STAT_EVENT,L=>{L.stat===rd.PROXY?le(zt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===rd.NOPROXY&&le(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.__()},0),M}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n){return new yx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="PersistentStream";class Y_{constructor(e,t,i,o,l,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===t&&this.G_(i,o)},i=>{e(()=>{const o=new de(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(le(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pI extends Y_{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=wx(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?ur(c.readTime):Se.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=dd(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=ld(p)?{documents:Sx(l,p)}:{query:Ax(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=j_(l,c.resumeToken);const g=cd(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=mc(l,c.snapshotVersion.toTimestamp());const g=cd(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=Ix(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=dd(this.serializer),t.removeTarget=e,this.q_(t)}}class mI extends Y_{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Tx(e.writeResults,e.commitTime),i=ur(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=dd(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ex(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{}class yI extends gI{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,hd(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(G.UNKNOWN,l.toString())})}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,hd(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(G.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="RemoteStore";class _I{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{ms(this)&&(le(ds,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.Ea.add(4),await pl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Oc(g)}(this))})}),this.Ra=new vI(i,o)}}async function Oc(n){if(ms(n))for(const e of n.da)await e(!0)}async function pl(n){for(const e of n.da)await e(!1)}function J_(n,e){const t=xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),lp(t)?ap(t):Oo(t).O_()&&op(t,e))}function sp(n,e){const t=xe(n),i=Oo(t);t.Ia.delete(e),i.O_()&&Z_(t,e),t.Ia.size===0&&(i.O_()?i.L_():ms(t)&&t.Ra.set("Unknown"))}function op(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oo(n).Y_(e)}function Z_(n,e){n.Va.Ue(e),Oo(n).Z_(e)}function ap(n){n.Va=new dx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Oo(n).start(),n.Ra.ua()}function lp(n){return ms(n)&&!Oo(n).x_()&&n.Ia.size>0}function ms(n){return xe(n).Ea.size===0}function ew(n){n.Va=void 0}async function wI(n){n.Ra.set("Online")}async function EI(n){n.Ia.forEach((e,t)=>{op(n,e)})}async function TI(n,e){ew(n),lp(n)?(n.Ra.ha(e),ap(n)):n.Ra.set("Unknown")}async function SI(n,e,t){if(n.Ra.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))}(n,e)}catch(i){le(ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yc(n,i)}else if(e instanceof Zu?n.Va.Ze(e):e instanceof O_?n.Va.st(e):n.Va.tt(e),!t.isEqual(Se.min()))try{const i=await Q_(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Ot.EMPTY_BYTE_STRING,v.snapshotVersion)),Z_(l,p);const w=new di(v.target,p,g,v.sequenceNumber);op(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){le(ds,"Failed to raise snapshot:",i),await yc(n,i)}}async function yc(n,e,t){if(!bo(e))throw e;n.Ea.add(1),await pl(n),n.Ra.set("Offline"),t||(t=()=>Q_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(ds,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Oc(n)})}function tw(n,e){return e().catch(t=>yc(n,t,e))}async function Fc(n){const e=xe(n),t=Si(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hd;for(;AI(e);)try{const o=await sI(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,xI(e,o)}catch(o){await yc(e,o)}nw(e)&&rw(e)}function AI(n){return ms(n)&&n.Ta.length<10}function xI(n,e){n.Ta.push(e);const t=Si(n);t.O_()&&t.X_&&t.ea(e.mutations)}function nw(n){return ms(n)&&!Si(n).x_()&&n.Ta.length>0}function rw(n){Si(n).start()}async function II(n){Si(n).ra()}async function PI(n){const e=Si(n);for(const t of n.Ta)e.ea(t.mutations)}async function CI(n,e,t){const i=n.Ta.shift(),o=Jd.from(i,e,t);await tw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Fc(n)}async function RI(n,e){e&&Si(n).X_&&await async function(i,o){if(function(c){return cx(c)&&c!==G.ABORTED}(o.code)){const l=i.Ta.shift();Si(i).B_(),await tw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Fc(i)}}(n,e),nw(n)&&rw(n)}async function hv(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),le(ds,"RemoteStore received new credentials");const i=ms(t);t.Ea.add(3),await pl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Oc(t)}async function VI(n,e){const t=xe(n);e?(t.Ea.delete(2),await Oc(t)):e||(t.Ea.add(2),await pl(t),t.Ra.set("Unknown"))}function Oo(n){return n.ma||(n.ma=function(t,i,o){const l=xe(t);return l.sa(),new pI(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:wI.bind(null,n),t_:EI.bind(null,n),r_:TI.bind(null,n),H_:SI.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),lp(n)?ap(n):n.Ra.set("Unknown")):(await n.ma.stop(),ew(n))})),n.ma}function Si(n){return n.fa||(n.fa=function(t,i,o){const l=xe(t);return l.sa(),new mI(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:II.bind(null,n),r_:RI.bind(null,n),ta:PI.bind(null,n),na:CI.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Fc(n)):(await n.fa.stop(),n.Ta.length>0&&(le(ds,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new up(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),bo(n))return new de(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Oa(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.ga=new rt(ye.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Co{constructor(e,t,i,o,l,c,f,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Co(e,t,Eo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class DI{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=xe(t),l=o.queries;o.queries=dv(),l.forEach((c,f)=>{for(const p of f.Sa)p.onError(i)})})(this,new de(G.ABORTED,"Firestore shutting down"))}}function dv(){return new ps(n=>A_(n),kc)}async function iw(n,e){const t=xe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new kI,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=cp(c,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&hp(t)}async function sw(n,e){const t=xe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function NI(n,e){const t=xe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&hp(t)}function MI(n,e,t){const i=xe(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function hp(n){n.Ca.forEach(e=>{e.next()})}var gd,pv;(pv=gd||(gd={})).Ma="default",pv.Cache="cache";class ow{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Co(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.key=e}}class lw{constructor(e){this.key=e}}class LI{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=x_(e),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new fv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),x=Dc(this.query,w)?w:null,M=!!T&&this.mutatedKeys.has(T.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;T&&x?T.data.isEqual(x.data)?M!==j&&(i.track({type:3,doc:x}),L=!0):this.su(T,x)||(i.track({type:2,doc:x}),L=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(f=!0)):!T&&x?(i.track({type:0,doc:x}),L=!0):T&&!x&&(i.track({type:1,doc:T}),L=!0,(p||g)&&(f=!0)),L&&(x?(c=c.add(x),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,w)=>function(x,M){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return j(x)-j(M)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Co(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new lw(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new aw(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class bI{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class OI{constructor(e){this.key=e,this.hu=!1}}class FI{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ps(f=>A_(f),kc),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ye.comparator),this.Au=new Map,this.Ru=new tp,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jI(n,e,t=!0){const i=pw(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await uw(i,e,t,!0),o}async function UI(n,e){const t=pw(n);await uw(t,e,!0,!1)}async function uw(n,e,t,i){const o=await oI(n.localStore,lr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await BI(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&J_(n.remoteStore,o),f}async function BI(n,e,t,i,o){n.pu=(w,T,x)=>async function(j,L,q,Q){let J=L.view.ru(q);J.Cs&&(J=await ov(j.localStore,L.query,!1).then(({documents:V})=>L.view.ru(V,J)));const se=Q&&Q.targetChanges.get(L.targetId),ie=Q&&Q.targetMismatches.get(L.targetId)!=null,ue=L.view.applyChanges(J,j.isPrimaryClient,se,ie);return gv(j,L.targetId,ue.au),ue.snapshot}(n,w,T,x);const l=await ov(n.localStore,e,!0),c=new LI(e,l.Qs),f=c.ru(l.documents),p=dl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=c.applyChanges(f,n.isPrimaryClient,p);gv(n,t,g.au);const v=new bI(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function zI(n,e,t){const i=xe(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter(c=>!kc(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await pd(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&sp(i.remoteStore,o.targetId),yd(i,o.targetId)}).catch(Lo)):(yd(i,o.targetId),await pd(i.localStore,o.targetId,!0))}async function $I(n,e){const t=xe(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sp(t.remoteStore,i.targetId))}async function HI(n,e,t){const i=YI(n);try{const o=await function(c,f){const p=xe(c),g=Qe.now(),v=f.reduce((x,M)=>x.add(M.key),Ve());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let M=jr(),j=Ve();return p.Ns.getEntries(x,v).next(L=>{M=L,M.forEach((q,Q)=>{Q.isValidDocument()||(j=j.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,M)).next(L=>{w=L;const q=[];for(const Q of f){const J=sx(Q,w.get(Q.key).overlayedDocument);J!=null&&q.push(new Ci(Q.key,J,y_(J.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,q,f)}).next(L=>{T=L;const q=L.applyToLocalDocumentSet(w,j);return p.documentOverlayCache.saveOverlays(x,L.batchId,q)})}).then(()=>({batchId:T.batchId,changes:P_(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new rt(Re)),g=g.insert(f,p),c.Vu[c.currentUser.toKey()]=g}(i,o.batchId,t),await ml(i,o.changes),await Fc(i.remoteStore)}catch(o){const l=cp(o,"Failed to persist write");t.reject(l)}}async function cw(n,e){const t=xe(n);try{const i=await rI(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Au.get(l);c&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ue(c.hu,14607):o.removedDocuments.size>0&&(Ue(c.hu,42227),c.hu=!1))}),await ml(t,i,e)}catch(i){await Lo(i)}}function mv(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=xe(c);p.onlineState=f;let g=!1;p.queries.forEach((v,w)=>{for(const T of w.Sa)T.va(f)&&(g=!0)}),g&&hp(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qI(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new rt(ye.comparator);c=c.insert(l,qt.newNoDocument(l,Se.min()));const f=Ve().add(l),p=new Lc(Se.min(),new Map,new rt(Re),c,f);await cw(i,p),i.du=i.du.remove(l),i.Au.delete(e),dp(i)}else await pd(i.localStore,e,!1).then(()=>yd(i,e,t)).catch(Lo)}async function WI(n,e){const t=xe(n),i=e.batch.batchId;try{const o=await nI(t.localStore,e);fw(t,i,null),hw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ml(t,o)}catch(o){await Lo(o)}}async function KI(n,e,t){const i=xe(n);try{const o=await function(c,f){const p=xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next(w=>(Ue(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);fw(i,e,t),hw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ml(i,o)}catch(o){await Lo(o)}}function hw(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function fw(n,e,t){const i=xe(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function yd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||dw(n,i)})}function dw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(sp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),dp(n))}function gv(n,e,t){for(const i of t)i instanceof aw?(n.Ru.addReference(i.key,e),GI(n,i)):i instanceof lw?(le(fp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||dw(n,i.key)):Ee(19791,{wu:i})}function GI(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(le(fp,"New document in limbo: "+t),n.Eu.add(i),dp(n))}function dp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Ge.fromString(e)),i=n.fu.next();n.Au.set(i,new OI(t)),n.du=n.du.insert(t,i),J_(n.remoteStore,new di(lr(Qd(t.path)),i,"TargetPurposeLimboResolution",Pc.ce))}}async function ml(n,e,t){const i=xe(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((f,p)=>{c.push(i.pu(p,e,t).then(g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=rp.As(p.targetId,g);l.push(v)}}))}),await Promise.all(c),i.Pu.H_(o),await async function(p,g){const v=xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>W.forEach(g,T=>W.forEach(T.Es,x=>v.persistence.referenceDelegate.addReference(w,T.targetId,x)).next(()=>W.forEach(T.ds,x=>v.persistence.referenceDelegate.removeReference(w,T.targetId,x)))))}catch(w){if(!bo(w))throw w;le(ip,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const x=v.Ms.get(T),M=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(T,j)}}}(i.localStore,l))}async function QI(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){le(fp,"User change. New user:",e.toKey());const i=await G_(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(f=>{f.forEach(p=>{p.reject(new de(G.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ml(t,i.Ls)}}function XI(n,e){const t=xe(n),i=t.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function pw(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qI.bind(null,e),e.Pu.H_=NI.bind(null,e.eventManager),e.Pu.yu=MI.bind(null,e.eventManager),e}function YI(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KI.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return tI(this.persistence,new Jx,e.initialUser,this.serializer)}Cu(e){return new K_(np.mi,this.serializer)}Du(e){return new lI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class JI extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ue(this.persistence.referenceDelegate instanceof gc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Ox(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new K_(i=>gc.mi(i,t),this.serializer)}}class vd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QI.bind(null,this.syncEngine),await VI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DI}()}createDatastore(e){const t=bc(e.databaseInfo.databaseId),i=function(l){return new dI(l)}(e.databaseInfo);return function(l,c,f,p){return new yI(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new _I(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>mv(this.syncEngine,t,0),function(){return uv.v()?new uv:new uI}())}createSyncEngine(e,t){return function(o,l,c,f,p,g,v){const w=new FI(o,l,c,f,p,g);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=xe(t);le(ds,"RemoteStore shutting down."),i.Ea.add(5),await pl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="FirestoreClient";class ZI{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ht.UNAUTHENTICATED,this.clientId=zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{le(Ai,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(le(Ai,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=cp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Of(n,e){n.asyncQueue.verifyOperationInProgress(),le(Ai,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await G_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function yv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eP(n);le(Ai,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>hv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>hv(e.remoteStore,o)),n._onlineComponents=e}async function eP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Ai,"Using user provided OfflineComponentProvider");try{await Of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),await Of(n,new vc)}}else le(Ai,"Using default OfflineComponentProvider"),await Of(n,new JI(void 0));return n._offlineComponents}async function gw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Ai,"Using user provided OnlineComponentProvider"),await yv(n,n._uninitializedComponentsProvider._online)):(le(Ai,"Using default OnlineComponentProvider"),await yv(n,new vd))),n._onlineComponents}function tP(n){return gw(n).then(e=>e.syncEngine)}async function yw(n){const e=await gw(n),t=e.eventManager;return t.onListen=jI.bind(null,e.syncEngine),t.onUnlisten=zI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$I.bind(null,e.syncEngine),t}function nP(n,e,t={}){const i=new Mr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,g){const v=new mw({next:T=>{v.Nu(),c.enqueueAndForget(()=>sw(l,w));const x=T.docs.has(f);!x&&T.fromCache?g.reject(new de(G.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&p&&p.source==="server"?g.reject(new de(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new ow(Qd(f.path),v,{includeMetadataChanges:!0,qa:!0});return iw(l,w)}(await yw(n),n.asyncQueue,e,t,i)),i.promise}function rP(n,e,t={}){const i=new Mr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,g){const v=new mw({next:T=>{v.Nu(),c.enqueueAndForget(()=>sw(l,w)),T.fromCache&&p.source==="server"?g.reject(new de(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new ow(f,v,{includeMetadataChanges:!0,qa:!0});return iw(l,w)}(await yw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firestore.googleapis.com",_v=!0;class wv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_w,this.ssl=_v}else this.host=e.host,this.ssl=e.ssl??_v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lx)throw new de(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vw(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new lA;switch(i.type){case"firstParty":return new fA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=vv.get(t);i&&(le("ComponentProvider","Removing Datastore"),vv.delete(t),i.terminate())}(this),Promise.resolve()}}function iP(n,e,t,i={}){n=Qn(n,jc);const o=jd(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(L1(`https://${f}`),j1("Firestore",!0)),l.host!==_w&&l.host!==f&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!sc(p,c)&&(n._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=Ht.MOCK_USER;else{g=b1(i.mockUserToken,n._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new de(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ht(w)}n._authCredentials=new uA(new s_(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uc(this.firestore,e,this._query)}}class pt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(hl(t,pt._jsonSchema))return new pt(e,i||null,new ye(Ge.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:dt("string",pt._jsonSchemaVersion),referencePath:dt("string")};class yi extends Uc{constructor(e,t,i){super(e,t,Qd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ye(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function ww(n,e,...t){if(n=vi(n),o_("collection","path",e),n instanceof jc){const i=Ge.fromString(e,...t);return My(i),new yi(n,null,i)}{if(!(n instanceof pt||n instanceof yi))throw new de(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ge.fromString(e,...t));return My(i),new yi(n.firestore,null,i)}}function Ro(n,e,...t){if(n=vi(n),arguments.length===1&&(e=zd.newId()),o_("doc","path",e),n instanceof jc){const i=Ge.fromString(e,...t);return Ny(i),new pt(n,null,new ye(i))}{if(!(n instanceof pt||n instanceof yi))throw new de(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ge.fromString(e,...t));return Ny(i),new pt(n.firestore,n instanceof yi?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class Tv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X_(this,"async_queue_retry"),this._c=()=>{const i=bf();i&&le(Ev,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;le(Ev,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",Sv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=up.createAndSchedule(this,e,t,i,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Sv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class gs extends jc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Tv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tv(e),this._firestoreClient=void 0,await e}}}function sP(n,e){const t=typeof n=="object"?n:QS(),i=typeof n=="string"?n:uc,o=HS(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=N1("firestore");l&&iP(o,...l)}return o}function pp(n){if(n._terminated)throw new de(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oP(n),n._firestoreClient}function oP(n){const e=n._freezeSettings(),t=function(o,l,c,f){return new RA(o,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,vw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new ZI(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Ot.fromBase64String(e))}catch(t){throw new de(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kn(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hl(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:dt("string",kn._jsonSchemaVersion),bytes:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(hl(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:dt("string",cr._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hl(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new hr(e.vectorValues);throw new de(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:dt("string",hr._jsonSchemaVersion),vectorValues:dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=/^__.*__$/;class lP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new fl(e,this.data,t,this.fieldTransforms)}}class Ew{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Tw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class gp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _c(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Tw(this.Ac)&&aP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||bc(e)}Cc(e,t,i,o=!1){return new gp({Ac:e,methodName:t,Dc:i,path:bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yp(n){const e=n._freezeSettings(),t=bc(n._databaseId);return new uP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Sw(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);vp("Data must be an object, but it was:",c,i);const f=Aw(i,c);let p,g;if(l.merge)p=new mn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const T=_d(e,w,t);if(!c.contains(T))throw new de(G.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Iw(v,T)||v.push(T)}p=new mn(v),g=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=c.fieldTransforms;return new lP(new an(f),p,g)}class zc extends mp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function cP(n,e,t,i){const o=n.Cc(1,e,t);vp("Data must be an object, but it was:",o,i);const l=[],c=an.empty();Pi(i,(p,g)=>{const v=_p(e,p,t);g=vi(g);const w=o.yc(v);if(g instanceof zc)l.push(v);else{const T=$c(g,w);T!=null&&(l.push(v),c.set(v,T))}});const f=new mn(l);return new Ew(c,f,o.fieldTransforms)}function hP(n,e,t,i,o,l){const c=n.Cc(1,e,t),f=[_d(e,i,t)],p=[o];if(l.length%2!=0)throw new de(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(_d(e,l[T])),p.push(l[T+1]);const g=[],v=an.empty();for(let T=f.length-1;T>=0;--T)if(!Iw(g,f[T])){const x=f[T];let M=p[T];M=vi(M);const j=c.yc(x);if(M instanceof zc)g.push(x);else{const L=$c(M,j);L!=null&&(g.push(x),v.set(x,L))}}const w=new mn(g);return new Ew(v,w,c.fieldTransforms)}function $c(n,e){if(xw(n=vi(n)))return vp("Unsupported field value:",e,n),Aw(n,e);if(n instanceof mp)return function(i,o){if(!Tw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let p=$c(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=vi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Qe.fromDate(i);return{timestampValue:mc(o.serializer,l)}}if(i instanceof Qe){const l=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mc(o.serializer,l)}}if(i instanceof cr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof kn)return{bytesValue:j_(o.serializer,i._byteString)};if(i instanceof pt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ep(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hr)return function(c,f){return{mapValue:{fields:{[m_]:{stringValue:g_},[cc]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Xd(f.serializer,g)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${$d(i)}`)}(n,e)}function Aw(n,e){const t={};return u_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(n,(i,o)=>{const l=$c(o,e.mc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function xw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof cr||n instanceof kn||n instanceof pt||n instanceof mp||n instanceof hr)}function vp(n,e,t){if(!xw(t)||!a_(t)){const i=$d(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function _d(n,e,t){if((e=vi(e))instanceof Bc)return e._internalPath;if(typeof e=="string")return _p(n,e);throw _c("Field path arguments must be of type string or ",n,!1,void 0,t)}const fP=new RegExp("[~\\*/\\[\\]]");function _p(n,e,t){if(e.search(fP)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bc(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _c(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new de(G.INVALID_ARGUMENT,f+n+p)}function Iw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dP extends Pw{data(){return super.data()}}function Cw(n,e){return typeof e=="string"?_p(n,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mP{convertValue(e,t="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Pi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){const t=e.fields?.[cc].arrayValue?.values?.map(i=>ut(i.doubleValue));return new hr(t)}convertGeoPoint(e){return new cr(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(tl(e));default:return null}}convertTimestamp(e){const t=wi(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ge.fromString(e);Ue(q_(i),9688,{name:e});const o=new nl(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||Fr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class ja{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends Pw{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Cw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:dt("string",cs._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class ec extends cs{data(e={}){return super.data(e)}}class To{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ja(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ec(this._firestore,this._userDataWriter,i.key,i,new ja(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ja(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new ec(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ja(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:gP(f.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(n){n=Qn(n,pt);const e=Qn(n.firestore,gs);return nP(pp(e),n._key).then(t=>TP(e,n,t))}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:dt("string",To._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class Vw extends mP{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function yP(n){n=Qn(n,Uc);const e=Qn(n.firestore,gs),t=pp(e),i=new Vw(e);return pP(n._query),rP(t,n._query).then(o=>new To(e,i,n,o))}function vP(n,e,t){n=Qn(n,pt);const i=Qn(n.firestore,gs),o=Rw(n.converter,e);return Hc(i,[Sw(yp(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Dn.none())])}function _P(n,e,t,...i){n=Qn(n,pt);const o=Qn(n.firestore,gs),l=yp(o);let c;return c=typeof(e=vi(e))=="string"||e instanceof Bc?hP(l,"updateDoc",n._key,e,t,i):cP(l,"updateDoc",n._key,e),Hc(o,[c.toMutation(n._key,Dn.exists(!0))])}function wP(n){return Hc(Qn(n.firestore,gs),[new Yd(n._key,Dn.none())])}function EP(n,e){const t=Qn(n.firestore,gs),i=Ro(n),o=Rw(n.converter,e);return Hc(t,[Sw(yp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Dn.exists(!1))]).then(()=>i)}function Hc(n,e){return function(i,o){const l=new Mr;return i.asyncQueue.enqueueAndForget(async()=>HI(await tP(i),o,l)),l.promise}(pp(n),e)}function TP(n,e,t){const i=t.docs.get(e._key),o=new Vw(n);return new cs(n,o,e._key,i,new ja(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Mo=o})(GS),ac(new Ja("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new gs(new cA(i.getProvider("auth-internal")),new dA(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(g.options.projectId,v)}(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),wo(Ry,Vy,e),wo(Ry,Vy,"esm2020")})();const wp=ne.createContext({});function Ep(n){const e=ne.useRef(null);return e.current===null&&(e.current=n()),e.current}const qc=ne.createContext(null),Tp=ne.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class SP extends ne.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AP({children:n,isPresent:e}){const t=ne.useId(),i=ne.useRef(null),o=ne.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=ne.useContext(Tp);return ne.useInsertionEffect(()=>{const{width:c,height:f,top:p,left:g}=o.current;if(e||!i.current||!c||!f)return;i.current.dataset.motionPopId=t;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${f}px !important;
            top: ${p}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),b.jsx(SP,{isPresent:e,childRef:i,sizeRef:o,children:ne.cloneElement(n,{ref:i})})}const xP=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:c})=>{const f=Ep(IP),p=ne.useId(),g=ne.useCallback(w=>{f.set(w,!0);for(const T of f.values())if(!T)return;i&&i()},[f,i]),v=ne.useMemo(()=>({id:p,initial:e,isPresent:t,custom:o,onExitComplete:g,register:w=>(f.set(w,!1),()=>f.delete(w))}),l?[Math.random(),g]:[t,g]);return ne.useMemo(()=>{f.forEach((w,T)=>f.set(T,!1))},[t]),ne.useEffect(()=>{!t&&!f.size&&i&&i()},[t]),c==="popLayout"&&(n=b.jsx(AP,{isPresent:t,children:n})),b.jsx(qc.Provider,{value:v,children:n})};function IP(){return new Map}function kw(n=!0){const e=ne.useContext(qc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=ne.useId();ne.useEffect(()=>{n&&o(l)},[n]);const c=ne.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,c]:[!0]}const $u=n=>n.key||"";function xv(n){const e=[];return ne.Children.forEach(n,t=>{ne.isValidElement(t)&&e.push(t)}),e}const Sp=typeof window<"u",Dw=Sp?ne.useLayoutEffect:ne.useEffect,PP=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1})=>{const[f,p]=kw(c),g=ne.useMemo(()=>xv(n),[n]),v=c&&!f?[]:g.map($u),w=ne.useRef(!0),T=ne.useRef(g),x=Ep(()=>new Map),[M,j]=ne.useState(g),[L,q]=ne.useState(g);Dw(()=>{w.current=!1,T.current=g;for(let se=0;se<L.length;se++){const ie=$u(L[se]);v.includes(ie)?x.delete(ie):x.get(ie)!==!0&&x.set(ie,!1)}},[L,v.length,v.join("-")]);const Q=[];if(g!==M){let se=[...g];for(let ie=0;ie<L.length;ie++){const ue=L[ie],V=$u(ue);v.includes(V)||(se.splice(ie,0,ue),Q.push(ue))}l==="wait"&&Q.length&&(se=Q),q(xv(se)),j(g);return}const{forceRender:J}=ne.useContext(wp);return b.jsx(b.Fragment,{children:L.map(se=>{const ie=$u(se),ue=c&&!f?!1:g===L||v.includes(ie),V=()=>{if(x.has(ie))x.set(ie,!0);else return;let A=!0;x.forEach(P=>{P||(A=!1)}),A&&(J?.(),q(T.current),c&&p?.(),i&&i())};return b.jsx(xP,{isPresent:ue,initial:!w.current||t?void 0:!1,custom:ue?void 0:e,presenceAffectsLayout:o,mode:l,onExitComplete:ue?void 0:V,children:se},ie)})})},yn=n=>n;let Nw=yn;function Ap(n){let e;return()=>(e===void 0&&(e=n()),e)}const Vo=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Lr=n=>n*1e3,br=n=>n/1e3,CP={useManualTiming:!1};function RP(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),n()),g(c)}const p={schedule:(g,v=!1,w=!1)=>{const x=w&&i?e:t;return v&&l.add(g),x.has(g)||x.add(g),g},cancel:g=>{t.delete(g),l.delete(g)},process:g=>{if(c=g,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(f),e.clear(),i=!1,o&&(o=!1,p.process(g))}};return p}const Hu=["read","resolveKeyframes","update","preRender","render","postRender"],VP=40;function Mw(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=Hu.reduce((q,Q)=>(q[Q]=RP(l),q),{}),{read:f,resolveKeyframes:p,update:g,preRender:v,render:w,postRender:T}=c,x=()=>{const q=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(q-o.timestamp,VP),1),o.timestamp=q,o.isProcessing=!0,f.process(o),p.process(o),g.process(o),v.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(x))},M=()=>{t=!0,i=!0,o.isProcessing||n(x)};return{schedule:Hu.reduce((q,Q)=>{const J=c[Q];return q[Q]=(se,ie=!1,ue=!1)=>(t||M(),J.schedule(se,ie,ue)),q},{}),cancel:q=>{for(let Q=0;Q<Hu.length;Q++)c[Hu[Q]].cancel(q)},state:o,steps:c}}const{schedule:Xe,cancel:xi,state:Mt,steps:Ff}=Mw(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0),xp=ne.createContext({strict:!1}),Iv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ko={};for(const n in Iv)ko[n]={isEnabled:e=>Iv[n].some(t=>!!e[t])};function wd(n){for(const e in n)ko[e]={...ko[e],...n[e]}}function kP({children:n,features:e,strict:t=!1}){const[,i]=ne.useState(!jf(e)),o=ne.useRef(void 0);if(!jf(e)){const{renderer:l,...c}=e;o.current=l,wd(c)}return ne.useEffect(()=>{jf(e)&&e().then(({renderer:l,...c})=>{wd(c),o.current=l,i(!0)})},[]),b.jsx(xp.Provider,{value:{renderer:o.current,strict:t},children:n})}function jf(n){return typeof n=="function"}const DP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||DP.has(n)}let Lw=n=>!wc(n);function NP(n){n&&(Lw=e=>e.startsWith("on")?!wc(e):n(e))}try{NP(require("@emotion/is-prop-valid").default)}catch{}function MP(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(Lw(o)||t===!0&&wc(o)||!e&&!wc(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function LP(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Wc=ne.createContext({});function ol(n){return typeof n=="string"||Array.isArray(n)}function Kc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Ip=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pp=["initial",...Ip];function Gc(n){return Kc(n.animate)||Pp.some(e=>ol(n[e]))}function bw(n){return!!(Gc(n)||n.variants)}function bP(n,e){if(Gc(n)){const{initial:t,animate:i}=n;return{initial:t===!1||ol(t)?t:void 0,animate:ol(i)?i:void 0}}return n.inherit!==!1?e:{}}function OP(n){const{initial:e,animate:t}=bP(n,ne.useContext(Wc));return ne.useMemo(()=>({initial:e,animate:t}),[Pv(e),Pv(t)])}function Pv(n){return Array.isArray(n)?n.join(" "):n}const FP=Symbol.for("motionComponentSymbol");function mo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function jP(n,e,t){return ne.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):mo(t)&&(t.current=i))},[e])}const Cp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UP="framerAppearId",Ow="data-"+Cp(UP),{schedule:Rp}=Mw(queueMicrotask,!1),Fw=ne.createContext({});function BP(n,e,t,i,o){var l,c;const{visualElement:f}=ne.useContext(Wc),p=ne.useContext(xp),g=ne.useContext(qc),v=ne.useContext(Tp).reducedMotion,w=ne.useRef(null);i=i||p.renderer,!w.current&&i&&(w.current=i(n,{visualState:e,parent:f,props:t,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const T=w.current,x=ne.useContext(Fw);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&zP(w.current,t,o,x);const M=ne.useRef(!1);ne.useInsertionEffect(()=>{T&&M.current&&T.update(t,g)});const j=t[Ow],L=ne.useRef(!!j&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,j))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,j)));return Dw(()=>{T&&(M.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Rp.render(T.render),L.current&&T.animationState&&T.animationState.animateChanges())}),ne.useEffect(()=>{T&&(!L.current&&T.animationState&&T.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var q;(q=window.MotionHandoffMarkAsComplete)===null||q===void 0||q.call(window,j)}),L.current=!1))}),T}function zP(n,e,t,i){const{layoutId:o,layout:l,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:jw(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||f&&mo(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:g})}function jw(n){if(n)return n.options.allowProjection!==!1?n.projection:jw(n.parent)}function $P({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,c;n&&wd(n);function f(g,v){let w;const T={...ne.useContext(Tp),...g,layoutId:HP(g)},{isStatic:x}=T,M=OP(g),j=i(g,x);if(!x&&Sp){qP();const L=WP(T);w=L.MeasureLayout,M.visualElement=BP(o,j,T,e,L.ProjectionNode)}return b.jsxs(Wc.Provider,{value:M,children:[w&&M.visualElement?b.jsx(w,{visualElement:M.visualElement,...T}):null,t(o,g,jP(j,M.visualElement,v),j,x,M.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const p=ne.forwardRef(f);return p[FP]=o,p}function HP({layoutId:n}){const e=ne.useContext(wp).id;return e&&n!==void 0?e+"-"+n:n}function qP(n,e){ne.useContext(xp).strict}function WP(n){const{drag:e,layout:t}=ko;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const KP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vp(n){return typeof n!="string"||n.includes("-")?!1:!!(KP.indexOf(n)>-1||/[A-Z]/u.test(n))}function Cv(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function kp(n,e,t,i){if(typeof e=="function"){const[o,l]=Cv(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=Cv(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const Ed=n=>Array.isArray(n),GP=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),QP=n=>Ed(n)?n[n.length-1]||0:n,Wt=n=>!!(n&&n.getVelocity);function tc(n){const e=Wt(n)?n.get():n;return GP(e)?e.toValue():e}function XP({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const c={latestValues:YP(i,o,l,n),renderState:e()};return t&&(c.onMount=f=>t({props:i,current:f,...c}),c.onUpdate=f=>t(f)),c}const Uw=n=>(e,t)=>{const i=ne.useContext(Wc),o=ne.useContext(qc),l=()=>XP(n,e,i,o);return t?l():Ep(l)};function YP(n,e,t,i){const o={},l=i(n,{});for(const T in l)o[T]=tc(l[T]);let{initial:c,animate:f}=n;const p=Gc(n),g=bw(n);e&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=t?t.initial===!1:!1;v=v||c===!1;const w=v?f:c;if(w&&typeof w!="boolean"&&!Kc(w)){const T=Array.isArray(w)?w:[w];for(let x=0;x<T.length;x++){const M=kp(n,T[x]);if(M){const{transitionEnd:j,transition:L,...q}=M;for(const Q in q){let J=q[Q];if(Array.isArray(J)){const se=v?J.length-1:0;J=J[se]}J!==null&&(o[Q]=J)}for(const Q in j)o[Q]=j[Q]}}}return o}const Fo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ys=new Set(Fo),Bw=n=>e=>typeof e=="string"&&e.startsWith(n),zw=Bw("--"),JP=Bw("var(--"),Dp=n=>JP(n)?ZP.test(n.split("/*")[0].trim()):!1,ZP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$w=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ur=(n,e,t)=>t>e?e:t<n?n:t,jo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},al={...jo,transform:n=>Ur(0,1,n)},qu={...jo,default:1},gl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fi=gl("deg"),fr=gl("%"),we=gl("px"),eC=gl("vh"),tC=gl("vw"),Rv={...fr,parse:n=>fr.parse(n)/100,transform:n=>fr.transform(n*100)},nC={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},rC={rotate:fi,rotateX:fi,rotateY:fi,rotateZ:fi,scale:qu,scaleX:qu,scaleY:qu,scaleZ:qu,skew:fi,skewX:fi,skewY:fi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:al,originX:Rv,originY:Rv,originZ:we},Vv={...jo,transform:Math.round},Np={...nC,...rC,zIndex:Vv,size:we,fillOpacity:al,strokeOpacity:al,numOctaves:Vv},iC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sC=Fo.length;function oC(n,e,t){let i="",o=!0;for(let l=0;l<sC;l++){const c=Fo[l],f=n[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||t){const g=$w(f,Np[c]);if(!p){o=!1;const v=iC[c]||c;i+=`${v}(${g}) `}t&&(e[c]=g)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function Mp(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let c=!1,f=!1;for(const p in e){const g=e[p];if(ys.has(p)){c=!0;continue}else if(zw(p)){o[p]=g;continue}else{const v=$w(g,Np[p]);p.startsWith("origin")?(f=!0,l[p]=v):i[p]=v}}if(e.transform||(c||t?i.transform=oC(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${g} ${v}`}}const aC={offset:"stroke-dashoffset",array:"stroke-dasharray"},lC={offset:"strokeDashoffset",array:"strokeDasharray"};function uC(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?aC:lC;n[l.offset]=we.transform(-i);const c=we.transform(e),f=we.transform(t);n[l.array]=`${c} ${f}`}function kv(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function cC(n,e,t){const i=kv(e,n.x,n.width),o=kv(t,n.y,n.height);return`${i} ${o}`}function Lp(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:p=0,...g},v,w){if(Mp(n,g,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:x,dimensions:M}=n;T.transform&&(M&&(x.transform=T.transform),delete T.transform),M&&(o!==void 0||l!==void 0||x.transform)&&(x.transformOrigin=cC(M,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),i!==void 0&&(T.scale=i),c!==void 0&&uC(T,c,f,p,!1)}const bp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Hw=()=>({...bp(),attrs:{}}),Op=n=>typeof n=="string"&&n.toLowerCase()==="svg";function qw(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const Ww=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kw(n,e,t,i){qw(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(Ww.has(o)?o:Cp(o),e.attrs[o])}const Ec={};function hC(n){Object.assign(Ec,n)}function Gw(n,{layout:e,layoutId:t}){return ys.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ec[n]||n==="opacity")}function Fp(n,e,t){var i;const{style:o}=n,l={};for(const c in o)(Wt(o[c])||e.style&&Wt(e.style[c])||Gw(c,n)||((i=t?.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function Qw(n,e,t){const i=Fp(n,e,t);for(const o in n)if(Wt(n[o])||Wt(e[o])){const l=Fo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function fC(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Dv=["x","y","width","height","cx","cy","r"],dC={useVisualState:Uw({scrapeMotionValuesFromProps:Qw,createRenderState:Hw,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const f in o)if(ys.has(f)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let f=0;f<Dv.length;f++){const p=Dv[f];n[p]!==e[p]&&(c=!0)}c&&Xe.read(()=>{fC(t,i),Xe.render(()=>{Lp(i,o,Op(t.tagName),n.transformTemplate),Kw(t,i)})})}})},pC={useVisualState:Uw({scrapeMotionValuesFromProps:Fp,createRenderState:bp})};function Xw(n,e,t){for(const i in e)!Wt(e[i])&&!Gw(i,t)&&(n[i]=e[i])}function mC({transformTemplate:n},e){return ne.useMemo(()=>{const t=bp();return Mp(t,e,n),Object.assign({},t.vars,t.style)},[e])}function gC(n,e){const t=n.style||{},i={};return Xw(i,t,n),Object.assign(i,mC(n,e)),i}function yC(n,e){const t={},i=gC(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function vC(n,e,t,i){const o=ne.useMemo(()=>{const l=Hw();return Lp(l,e,Op(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};Xw(l,n.style,n),o.style={...l,...o.style}}return o}function _C(n=!1){return(t,i,o,{latestValues:l},c)=>{const p=(Vp(t)?vC:yC)(i,l,c,t),g=MP(i,typeof t=="string",n),v=t!==ne.Fragment?{...g,...p,ref:o}:{},{children:w}=i,T=ne.useMemo(()=>Wt(w)?w.get():w,[w]);return ne.createElement(t,{...v,children:T})}}function wC(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Vp(i)?dC:pC,preloadedFeatures:n,useRender:_C(o),createVisualElement:e,Component:i};return $P(c)}}function Yw(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Qc(n,e,t){const i=n.getProps();return kp(i,e,t!==void 0?t:i.custom,n)}const EC=Ap(()=>window.ScrollTimeline!==void 0);class TC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(EC()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class SC extends TC{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function jp(n,e){return n?n[e]||n.default||n:void 0}const Td=2e4;function Jw(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Td;)e+=t,i=n.next(e);return e>=Td?1/0:e}function Up(n){return typeof n=="function"}function Nv(n,e){n.timeline=e,n.onfinish=null}const Bp=n=>Array.isArray(n)&&typeof n[0]=="number",AC={linearEasing:void 0};function xC(n,e){const t=Ap(n);return()=>{var i;return(i=AC[e])!==null&&i!==void 0?i:t()}}const Tc=xC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zw=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(Vo(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function eE(n){return!!(typeof n=="function"&&Tc()||!n||typeof n=="string"&&(n in Sd||Tc())||Bp(n)||Array.isArray(n)&&n.every(eE))}const Ua=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Sd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ua([0,.65,.55,1]),circOut:Ua([.55,0,1,.45]),backIn:Ua([.31,.01,.66,-.59]),backOut:Ua([.33,1.53,.69,.99])};function tE(n,e){if(n)return typeof n=="function"&&Tc()?Zw(n,e):Bp(n)?Ua(n):Array.isArray(n)?n.map(t=>tE(t,e)||Sd.easeOut):Sd[n]}const Gn={x:!1,y:!1};function nE(){return Gn.x||Gn.y}function rE(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function iE(n,e){const t=rE(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function Mv(n){return e=>{e.pointerType==="touch"||nE()||n(e)}}function IC(n,e,t={}){const[i,o,l]=iE(n,t),c=Mv(f=>{const{target:p}=f,g=e(f);if(typeof g!="function"||!p)return;const v=Mv(w=>{g(w),p.removeEventListener("pointerleave",v)});p.addEventListener("pointerleave",v,o)});return i.forEach(f=>{f.addEventListener("pointerenter",c,o)}),l}const sE=(n,e)=>e?n===e?!0:sE(n,e.parentElement):!1,zp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,PC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CC(n){return PC.has(n.tagName)||n.tabIndex!==-1}const Ba=new WeakSet;function Lv(n){return e=>{e.key==="Enter"&&n(e)}}function Uf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RC=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=Lv(()=>{if(Ba.has(t))return;Uf(t,"down");const o=Lv(()=>{Uf(t,"up")}),l=()=>Uf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function bv(n){return zp(n)&&!nE()}function VC(n,e,t={}){const[i,o,l]=iE(n,t),c=f=>{const p=f.currentTarget;if(!bv(f)||Ba.has(p))return;Ba.add(p);const g=e(f),v=(x,M)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!bv(x)||!Ba.has(p))&&(Ba.delete(p),typeof g=="function"&&g(x,{success:M}))},w=x=>{v(x,t.useGlobalTarget||sE(p,x.target))},T=x=>{v(x,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return i.forEach(f=>{!CC(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(t.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),f.addEventListener("focus",g=>RC(g,o),o)}),l}function kC(n){return n==="x"||n==="y"?Gn[n]?null:(Gn[n]=!0,()=>{Gn[n]=!1}):Gn.x||Gn.y?null:(Gn.x=Gn.y=!0,()=>{Gn.x=Gn.y=!1})}const oE=new Set(["width","height","top","left","right","bottom",...Fo]);let nc;function DC(){nc=void 0}const dr={now:()=>(nc===void 0&&dr.set(Mt.isProcessing||CP.useManualTiming?Mt.timestamp:performance.now()),nc),set:n=>{nc=n,queueMicrotask(DC)}};function $p(n,e){n.indexOf(e)===-1&&n.push(e)}function Hp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class qp{constructor(){this.subscriptions=[]}add(e){return $p(this.subscriptions,e),()=>Hp(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aE(n,e){return e?n*(1e3/e):0}const Ov=30,NC=n=>!isNaN(parseFloat(n));class MC{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=dr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new qp);const i=this.events[e].add(t);return e==="change"?()=>{i(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ov)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Ov);return aE(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ll(n,e){return new MC(n,e)}function LC(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ll(t))}function bC(n,e){const t=Qc(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const c in l){const f=QP(l[c]);LC(n,c,f)}}function OC(n){return!!(Wt(n)&&n.add)}function Ad(n,e){const t=n.getValue("willChange");if(OC(t))return t.add(e)}function lE(n){return n.props[Ow]}const uE=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,FC=1e-7,jC=12;function UC(n,e,t,i,o){let l,c,f=0;do c=e+(t-e)/2,l=uE(c,i,o)-n,l>0?t=c:e=c;while(Math.abs(l)>FC&&++f<jC);return c}function yl(n,e,t,i){if(n===e&&t===i)return yn;const o=l=>UC(l,0,1,n,t);return l=>l===0||l===1?l:uE(o(l),e,i)}const cE=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,hE=n=>e=>1-n(1-e),fE=yl(.33,1.53,.69,.99),Wp=hE(fE),dE=cE(Wp),pE=n=>(n*=2)<1?.5*Wp(n):.5*(2-Math.pow(2,-10*(n-1))),Kp=n=>1-Math.sin(Math.acos(n)),mE=hE(Kp),gE=cE(Kp),yE=n=>/^0[^.\s]+$/u.test(n);function BC(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||yE(n):!0}const Ga=n=>Math.round(n*1e5)/1e5,Gp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zC(n){return n==null}const $C=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qp=(n,e)=>t=>!!(typeof t=="string"&&$C.test(t)&&t.startsWith(n)||e&&!zC(t)&&Object.prototype.hasOwnProperty.call(t,e)),vE=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,c,f]=i.match(Gp);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},HC=n=>Ur(0,255,n),Bf={...jo,transform:n=>Math.round(HC(n))},us={test:Qp("rgb","red"),parse:vE("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Bf.transform(n)+", "+Bf.transform(e)+", "+Bf.transform(t)+", "+Ga(al.transform(i))+")"};function qC(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const xd={test:Qp("#"),parse:qC,transform:us.transform},go={test:Qp("hsl","hue"),parse:vE("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+fr.transform(Ga(e))+", "+fr.transform(Ga(t))+", "+Ga(al.transform(i))+")"},$t={test:n=>us.test(n)||xd.test(n)||go.test(n),parse:n=>us.test(n)?us.parse(n):go.test(n)?go.parse(n):xd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?us.transform(n):go.transform(n)},WC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KC(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Gp))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(WC))===null||t===void 0?void 0:t.length)||0)>0}const _E="number",wE="color",GC="var",QC="var(",Fv="${}",XC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ul(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(XC,p=>($t.test(p)?(i.color.push(l),o.push(wE),t.push($t.parse(p))):p.startsWith(QC)?(i.var.push(l),o.push(GC),t.push(p)):(i.number.push(l),o.push(_E),t.push(parseFloat(p))),++l,Fv)).split(Fv);return{values:t,split:f,indexes:i,types:o}}function EE(n){return ul(n).values}function TE(n){const{split:e,types:t}=ul(n),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const f=t[c];f===_E?l+=Ga(o[c]):f===wE?l+=$t.transform(o[c]):l+=o[c]}return l}}const YC=n=>typeof n=="number"?0:n;function JC(n){const e=EE(n);return TE(n)(e.map(YC))}const Ii={test:KC,parse:EE,createTransformer:TE,getAnimatableNone:JC},ZC=new Set(["brightness","contrast","saturate","opacity"]);function eR(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Gp)||[];if(!i)return n;const o=t.replace(i,"");let l=ZC.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const tR=/\b([a-z-]*)\(.*?\)/gu,Id={...Ii,getAnimatableNone:n=>{const e=n.match(tR);return e?e.map(eR).join(" "):n}},nR={...Np,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Id,WebkitFilter:Id},Xp=n=>nR[n];function SE(n,e){let t=Xp(n);return t!==Id&&(t=Ii),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const rR=new Set(["auto","none","0"]);function iR(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!rR.has(l)&&ul(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=SE(t,o)}const jv=n=>n===jo||n===we,Uv=(n,e)=>parseFloat(n.split(", ")[e]),Bv=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return Uv(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?Uv(l[1],n):0}},sR=new Set(["x","y","z"]),oR=Fo.filter(n=>!sR.has(n));function aR(n){const e=[];return oR.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Do={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Bv(4,13),y:Bv(5,14)};Do.translateX=Do.x;Do.translateY=Do.y;const hs=new Set;let Pd=!1,Cd=!1;function AE(){if(Cd){const n=Array.from(hs).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=aR(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,c])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cd=!1,Pd=!1,hs.forEach(n=>n.complete()),hs.clear()}function xE(){hs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Cd=!0)})}function lR(){xE(),AE()}class Yp{constructor(e,t,i,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(hs.add(this),Pd||(Pd=!0,Xe.read(xE),Xe.resolveKeyframes(AE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o?.get(),f=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&t){const p=i.readValue(t,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),hs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,hs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const IE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),uR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cR(n){const e=uR.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function PE(n,e,t=1){const[i,o]=cR(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return IE(c)?parseFloat(c):c}return Dp(o)?PE(o,e,t+1):o}const CE=n=>e=>e.test(n),hR={test:n=>n==="auto",parse:n=>n},RE=[jo,we,fr,fi,tC,eC,hR],zv=n=>RE.find(CE(n));class VE extends Yp{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),Dp(g))){const v=PE(g,t.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!oE.has(i)||e.length!==2)return;const[o,l]=e,c=zv(o),f=zv(l);if(c!==f)if(jv(c)&&jv(f))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)BC(e[o])&&i.push(o);i.length&&iR(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Do[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,f=o[c];o[c]=Do[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const $v=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ii.test(n)||n==="0")&&!n.startsWith("url("));function fR(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function dR(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=$v(o,e),f=$v(l,e);return!c||!f?!1:fR(n)||(t==="spring"||Up(t))&&i}const pR=n=>n!==null;function Xc(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(pR),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const mR=40;class kE{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=dr.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lR(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=dr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:c,onComplete:f,onUpdate:p,isGenerator:g}=this.options;if(!g&&!dR(e,i,o,l))if(c)this.options.duration=0;else{p&&p(Xc(e,this.options,t)),f&&f(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const nt=(n,e,t)=>n+(e-n)*t;function zf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function gR({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,c=0;if(!e)o=l=c=t;else{const f=t<.5?t*(1+e):t+e-t*e,p=2*t-f;o=zf(p,f,n+1/3),l=zf(p,f,n),c=zf(p,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Sc(n,e){return t=>t>0?e:n}const $f=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},yR=[xd,us,go],vR=n=>yR.find(e=>e.test(n));function Hv(n){const e=vR(n);if(!e)return!1;let t=e.parse(n);return e===go&&(t=gR(t)),t}const qv=(n,e)=>{const t=Hv(n),i=Hv(e);if(!t||!i)return Sc(n,e);const o={...t};return l=>(o.red=$f(t.red,i.red,l),o.green=$f(t.green,i.green,l),o.blue=$f(t.blue,i.blue,l),o.alpha=nt(t.alpha,i.alpha,l),us.transform(o))},_R=(n,e)=>t=>e(n(t)),vl=(...n)=>n.reduce(_R),Rd=new Set(["none","hidden"]);function wR(n,e){return Rd.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function ER(n,e){return t=>nt(n,e,t)}function Jp(n){return typeof n=="number"?ER:typeof n=="string"?Dp(n)?Sc:$t.test(n)?qv:AR:Array.isArray(n)?DE:typeof n=="object"?$t.test(n)?qv:TR:Sc}function DE(n,e){const t=[...n],i=t.length,o=n.map((l,c)=>Jp(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)t[c]=o[c](l);return t}}function TR(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=Jp(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function SR(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],f=n.indexes[c][o[c]],p=(t=n.values[f])!==null&&t!==void 0?t:0;i[l]=p,o[c]++}return i}const AR=(n,e)=>{const t=Ii.createTransformer(e),i=ul(n),o=ul(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Rd.has(n)&&!o.values.length||Rd.has(e)&&!i.values.length?wR(n,e):vl(DE(SR(i,o),o.values),t):Sc(n,e)};function NE(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?nt(n,e,t):Jp(n)(n,e)}const xR=5;function ME(n,e,t){const i=Math.max(e-xR,0);return aE(t-n(i),e-i)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hf=.001;function IR({duration:n=st.duration,bounce:e=st.bounce,velocity:t=st.velocity,mass:i=st.mass}){let o,l,c=1-e;c=Ur(st.minDamping,st.maxDamping,c),n=Ur(st.minDuration,st.maxDuration,br(n)),c<1?(o=g=>{const v=g*c,w=v*n,T=v-t,x=Vd(g,c),M=Math.exp(-w);return Hf-T/x*M},l=g=>{const w=g*c*n,T=w*t+t,x=Math.pow(c,2)*Math.pow(g,2)*n,M=Math.exp(-w),j=Vd(Math.pow(g,2),c);return(-o(g)+Hf>0?-1:1)*((T-x)*M)/j}):(o=g=>{const v=Math.exp(-g*n),w=(g-t)*n+1;return-Hf+v*w},l=g=>{const v=Math.exp(-g*n),w=(t-g)*(n*n);return v*w});const f=5/n,p=CR(o,l,f);if(n=Lr(n),isNaN(p))return{stiffness:st.stiffness,damping:st.damping,duration:n};{const g=Math.pow(p,2)*i;return{stiffness:g,damping:c*2*Math.sqrt(i*g),duration:n}}}const PR=12;function CR(n,e,t){let i=t;for(let o=1;o<PR;o++)i=i-n(i)/e(i);return i}function Vd(n,e){return n*Math.sqrt(1-e*e)}const RR=["duration","bounce"],VR=["stiffness","damping","mass"];function Wv(n,e){return e.some(t=>n[t]!==void 0)}function kR(n){let e={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...n};if(!Wv(n,VR)&&Wv(n,RR))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*Ur(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:st.mass,stiffness:o,damping:l}}else{const t=IR(n);e={...e,...t,mass:st.mass},e.isResolvedFromDuration=!0}return e}function LE(n=st.visualDuration,e=st.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:g,mass:v,duration:w,velocity:T,isResolvedFromDuration:x}=kR({...t,velocity:-br(t.velocity||0)}),M=T||0,j=g/(2*Math.sqrt(p*v)),L=c-l,q=br(Math.sqrt(p/v)),Q=Math.abs(L)<5;i||(i=Q?st.restSpeed.granular:st.restSpeed.default),o||(o=Q?st.restDelta.granular:st.restDelta.default);let J;if(j<1){const ie=Vd(q,j);J=ue=>{const V=Math.exp(-j*q*ue);return c-V*((M+j*q*L)/ie*Math.sin(ie*ue)+L*Math.cos(ie*ue))}}else if(j===1)J=ie=>c-Math.exp(-q*ie)*(L+(M+q*L)*ie);else{const ie=q*Math.sqrt(j*j-1);J=ue=>{const V=Math.exp(-j*q*ue),A=Math.min(ie*ue,300);return c-V*((M+j*q*L)*Math.sinh(A)+ie*L*Math.cosh(A))/ie}}const se={calculatedDuration:x&&w||null,next:ie=>{const ue=J(ie);if(x)f.done=ie>=w;else{let V=0;j<1&&(V=ie===0?Lr(M):ME(J,ie,ue));const A=Math.abs(V)<=i,P=Math.abs(c-ue)<=o;f.done=A&&P}return f.value=f.done?c:ue,f},toString:()=>{const ie=Math.min(Jw(se),Td),ue=Zw(V=>se.next(ie*V).value,ie,30);return ie+"ms "+ue}};return se}function Kv({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:p,restDelta:g=.5,restSpeed:v}){const w=n[0],T={done:!1,value:w},x=A=>f!==void 0&&A<f||p!==void 0&&A>p,M=A=>f===void 0?p:p===void 0||Math.abs(f-A)<Math.abs(p-A)?f:p;let j=t*e;const L=w+j,q=c===void 0?L:c(L);q!==L&&(j=q-w);const Q=A=>-j*Math.exp(-A/i),J=A=>q+Q(A),se=A=>{const P=Q(A),k=J(A);T.done=Math.abs(P)<=g,T.value=T.done?q:k};let ie,ue;const V=A=>{x(T.value)&&(ie=A,ue=LE({keyframes:[T.value,M(T.value)],velocity:ME(J,A,T.value),damping:o,stiffness:l,restDelta:g,restSpeed:v}))};return V(0),{calculatedDuration:null,next:A=>{let P=!1;return!ue&&ie===void 0&&(P=!0,se(A),V(A)),ie!==void 0&&A>=ie?ue.next(A-ie):(!P&&se(A),T)}}}const DR=yl(.42,0,1,1),NR=yl(0,0,.58,1),bE=yl(.42,0,.58,1),MR=n=>Array.isArray(n)&&typeof n[0]!="number",LR={linear:yn,easeIn:DR,easeInOut:bE,easeOut:NR,circIn:Kp,circInOut:gE,circOut:mE,backIn:Wp,backInOut:dE,backOut:fE,anticipate:pE},Gv=n=>{if(Bp(n)){Nw(n.length===4);const[e,t,i,o]=n;return yl(e,t,i,o)}else if(typeof n=="string")return LR[n];return n};function bR(n,e,t){const i=[],o=t||NE,l=n.length-1;for(let c=0;c<l;c++){let f=o(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||yn:e;f=vl(p,f)}i.push(f)}return i}function OR(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(Nw(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=bR(e,i,o),p=f.length,g=v=>{if(c&&v<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const T=Vo(n[w],n[w+1],v);return f[w](T)};return t?v=>g(Ur(n[0],n[l-1],v)):g}function FR(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=Vo(0,e,i);n.push(nt(t,1,o))}}function jR(n){const e=[0];return FR(e,n.length-1),e}function UR(n,e){return n.map(t=>t*e)}function BR(n,e){return n.map(()=>e||bE).splice(0,n.length-1)}function Ac({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=MR(i)?i.map(Gv):Gv(i),l={done:!1,value:e[0]},c=UR(t&&t.length===e.length?t:jR(e),n),f=OR(c,e,{ease:Array.isArray(o)?o:BR(e,o)});return{calculatedDuration:n,next:p=>(l.value=f(p),l.done=p>=n,l)}}const zR=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Xe.update(e,!0),stop:()=>xi(e),now:()=>Mt.isProcessing?Mt.timestamp:dr.now()}},$R={decay:Kv,inertia:Kv,tween:Ac,keyframes:Ac,spring:LE},HR=n=>n/100;class Zp extends kE{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,c=o?.KeyframeResolver||Yp,f=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new c(l,f,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,f=Up(t)?t:$R[t]||Ac;let p,g;f!==Ac&&typeof e[0]!="number"&&(p=vl(HR,NE(e[0],e[1])),e=[0,100]);const v=f({...this.options,keyframes:e});l==="mirror"&&(g=f({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Jw(v));const{calculatedDuration:w}=v,T=w+o,x=T*(i+1)-o;return{generator:v,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:T,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:p,calculatedDuration:g,totalDuration:v,resolvedDuration:w}=i;if(this.startTime===null)return l.next(0);const{delay:T,repeat:x,repeatType:M,repeatDelay:j,onUpdate:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const q=this.currentTime-T*(this.speed>=0?1:-1),Q=this.speed>=0?q<0:q>v;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let J=this.currentTime,se=l;if(x){const A=Math.min(this.currentTime,v)/w;let P=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&P--,P=Math.min(P,x+1),!!(P%2)&&(M==="reverse"?(k=1-k,j&&(k-=j/w)):M==="mirror"&&(se=c)),J=Ur(0,1,k)*w}const ie=Q?{done:!1,value:p[0]}:se.next(J);f&&(ie.value=f(ie.value));let{done:ue}=ie;!Q&&g!==null&&(ue=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return V&&o!==void 0&&(ie.value=Xc(p,this.options,o)),L&&L(ie.value),V&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?br(e.calculatedDuration):0}get time(){return br(this.currentTime)}set time(e){e=Lr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=br(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=zR,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const qR=new Set(["opacity","clipPath","filter","transform"]);function WR(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:p}={}){const g={[e]:t};p&&(g.offset=p);const v=tE(f,o);return Array.isArray(v)&&(g.easing=v),n.animate(g,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const KR=Ap(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xc=10,GR=2e4;function QR(n){return Up(n.type)||n.type==="spring"||!eE(n.ease)}function XR(n,e){const t=new Zp({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<GR;)i=t.sample(l),o.push(i.value),l+=xc;return{times:void 0,keyframes:o,duration:l-xc,ease:"linear"}}const OE={anticipate:pE,backInOut:dE,circInOut:gE};function YR(n){return n in OE}class Qv extends kE{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new VE(l,(c,f)=>this.onKeyframesResolved(c,f),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:c,motionValue:f,name:p,startTime:g}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&Tc()&&YR(l)&&(l=OE[l]),QR(this.options)){const{onComplete:w,onUpdate:T,motionValue:x,element:M,...j}=this.options,L=XR(e,j);e=L.keyframes,e.length===1&&(e[1]=e[0]),i=L.duration,o=L.times,l=L.ease,c="keyframes"}const v=WR(f.owner.current,p,e,{...this.options,duration:i,times:o,ease:l});return v.startTime=g??this.calcStartTime(),this.pendingTimeline?(Nv(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;f.set(Xc(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return br(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return br(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Lr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return yn;const{animation:i}=t;Nv(i,e)}return yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:c,times:f}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:v,onComplete:w,element:T,...x}=this.options,M=new Zp({...x,keyframes:i,duration:o,type:l,ease:c,times:f,isGenerator:!0}),j=Lr(this.time);g.setWithVelocity(M.sample(j-xc).value,M.sample(j).value,xc)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:c,type:f}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return KR()&&i&&qR.has(i)&&!p&&!g&&!o&&l!=="mirror"&&c!==0&&f!=="inertia"}}const JR={type:"spring",stiffness:500,damping:25,restSpeed:10},ZR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),e2={type:"keyframes",duration:.8},t2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n2=(n,{keyframes:e})=>e.length>2?e2:ys.has(n)?n.startsWith("scale")?ZR(e[1]):JR:t2;function r2({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:f,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const em=(n,e,t,i={},o,l)=>c=>{const f=jp(i,n)||{},p=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Lr(p);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-g,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:o};r2(f)||(v={...v,...n2(n,v)}),v.duration&&(v.duration=Lr(v.duration)),v.repeatDelay&&(v.repeatDelay=Lr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const T=Xc(v.keyframes,f);if(T!==void 0)return Xe.update(()=>{v.onUpdate(T),v.onComplete()}),new SC([])}return!l&&Qv.supports(v)?new Qv(v):new Zp(v)};function i2({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function FE(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:f,...p}=e;i&&(c=i);const g=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in p){const T=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),x=p[w];if(x===void 0||v&&i2(v,w))continue;const M={delay:t,...jp(c||{},w)};let j=!1;if(window.MotionHandoffAnimation){const q=lE(n);if(q){const Q=window.MotionHandoffAnimation(q,w,Xe);Q!==null&&(M.startTime=Q,j=!0)}}Ad(n,w),T.start(em(w,T,x,n.shouldReduceMotion&&oE.has(w)?{type:!1}:M,n,j));const L=T.animation;L&&g.push(L)}return f&&Promise.all(g).then(()=>{Xe.update(()=>{f&&bC(n,f)})}),g}function kd(n,e,t={}){var i;const o=Qc(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const c=o?()=>Promise.all(FE(n,o,t)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:T}=l;return s2(n,e,v+g,w,T,t)}:()=>Promise.resolve(),{when:p}=l;if(p){const[g,v]=p==="beforeChildren"?[c,f]:[f,c];return g().then(()=>v())}else return Promise.all([c(),f(t.delay)])}function s2(n,e,t=0,i=0,o=1,l){const c=[],f=(n.variantChildren.size-1)*i,p=o===1?(g=0)=>g*i:(g=0)=>f-g*i;return Array.from(n.variantChildren).sort(o2).forEach((g,v)=>{g.notify("AnimationStart",e),c.push(kd(g,e,{...l,delay:t+p(v)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(c)}function o2(n,e){return n.sortNodePosition(e)}function a2(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>kd(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=kd(n,e,t);else{const o=typeof e=="function"?Qc(n,e,t.custom):e;i=Promise.all(FE(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const l2=Pp.length;function jE(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?jE(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<l2;t++){const i=Pp[t],o=n.props[i];(ol(o)||o===!1)&&(e[i]=o)}return e}const u2=[...Ip].reverse(),c2=Ip.length;function h2(n){return e=>Promise.all(e.map(({animation:t,options:i})=>a2(n,t,i)))}function f2(n){let e=h2(n),t=Xv(),i=!0;const o=p=>(g,v)=>{var w;const T=Qc(n,v,p==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:x,transitionEnd:M,...j}=T;g={...g,...j,...M}}return g};function l(p){e=p(n)}function c(p){const{props:g}=n,v=jE(n.parent)||{},w=[],T=new Set;let x={},M=1/0;for(let L=0;L<c2;L++){const q=u2[L],Q=t[q],J=g[q]!==void 0?g[q]:v[q],se=ol(J),ie=q===p?Q.isActive:null;ie===!1&&(M=L);let ue=J===v[q]&&J!==g[q]&&se;if(ue&&i&&n.manuallyAnimateOnMount&&(ue=!1),Q.protectedKeys={...x},!Q.isActive&&ie===null||!J&&!Q.prevProp||Kc(J)||typeof J=="boolean")continue;const V=d2(Q.prevProp,J);let A=V||q===p&&Q.isActive&&!ue&&se||L>M&&se,P=!1;const k=Array.isArray(J)?J:[J];let N=k.reduce(o(q),{});ie===!1&&(N={});const{prevResolvedValues:F={}}=Q,C={...F,...N},Ye=Ae=>{A=!0,T.has(Ae)&&(P=!0,T.delete(Ae)),Q.needsAnimating[Ae]=!0;const te=n.getValue(Ae);te&&(te.liveStyle=!1)};for(const Ae in C){const te=N[Ae],me=F[Ae];if(x.hasOwnProperty(Ae))continue;let oe=!1;Ed(te)&&Ed(me)?oe=!Yw(te,me):oe=te!==me,oe?te!=null?Ye(Ae):T.add(Ae):te!==void 0&&T.has(Ae)?Ye(Ae):Q.protectedKeys[Ae]=!0}Q.prevProp=J,Q.prevResolvedValues=N,Q.isActive&&(x={...x,...N}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(ue&&V)||P)&&w.push(...k.map(Ae=>({animation:Ae,options:{type:q}})))}if(T.size){const L={};T.forEach(q=>{const Q=n.getBaseTarget(q),J=n.getValue(q);J&&(J.liveStyle=!0),L[q]=Q??null}),w.push({animation:L})}let j=!!w.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(w):Promise.resolve()}function f(p,g){var v;if(t[p].isActive===g)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(T=>{var x;return(x=T.animationState)===null||x===void 0?void 0:x.setActive(p,g)}),t[p].isActive=g;const w=c(p);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=Xv(),i=!0}}}function d2(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Yw(e,n):!1}function is(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xv(){return{animate:is(!0),whileInView:is(),whileHover:is(),whileTap:is(),whileDrag:is(),whileFocus:is(),exit:is()}}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class p2 extends Ri{constructor(e){super(e),e.animationState||(e.animationState=f2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let m2=0;class g2 extends Ri{constructor(){super(...arguments),this.id=m2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const UE={animation:{Feature:p2},exit:{Feature:g2}};function cl(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function _l(n){return{point:{x:n.pageX,y:n.pageY}}}const y2=n=>e=>zp(e)&&n(e,_l(e));function Qa(n,e,t,i){return cl(n,e,y2(t),i)}const Yv=(n,e)=>Math.abs(n-e);function v2(n,e){const t=Yv(n.x,e.x),i=Yv(n.y,e.y);return Math.sqrt(t**2+i**2)}class BE{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Wf(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,x=v2(w.offset,{x:0,y:0})>=3;if(!T&&!x)return;const{point:M}=w,{timestamp:j}=Mt;this.history.push({...M,timestamp:j});const{onStart:L,onMove:q}=this.handlers;T||(L&&L(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=qf(T,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:x,onSessionEnd:M,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Wf(w.type==="pointercancel"?this.lastMoveEventInfo:qf(T,this.transformPagePoint),this.history);this.startEvent&&x&&x(w,L),M&&M(w,L)},!zp(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const c=_l(e),f=qf(c,this.transformPagePoint),{point:p}=f,{timestamp:g}=Mt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=t;v&&v(e,Wf(f,this.history)),this.removeListeners=vl(Qa(this.contextWindow,"pointermove",this.handlePointerMove),Qa(this.contextWindow,"pointerup",this.handlePointerUp),Qa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xi(this.updatePoint)}}function qf(n,e){return e?{point:e(n.point)}:n}function Jv(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Wf({point:n},e){return{point:n,delta:Jv(n,zE(e)),offset:Jv(n,_2(e)),velocity:w2(e,.1)}}function _2(n){return n[0]}function zE(n){return n[n.length-1]}function w2(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=zE(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>Lr(e)));)t--;if(!i)return{x:0,y:0};const l=br(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const $E=1e-4,E2=1-$E,T2=1+$E,HE=.01,S2=0-HE,A2=0+HE;function vn(n){return n.max-n.min}function x2(n,e,t){return Math.abs(n-e)<=t}function Zv(n,e,t,i=.5){n.origin=i,n.originPoint=nt(e.min,e.max,n.origin),n.scale=vn(t)/vn(e),n.translate=nt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=E2&&n.scale<=T2||isNaN(n.scale))&&(n.scale=1),(n.translate>=S2&&n.translate<=A2||isNaN(n.translate))&&(n.translate=0)}function Xa(n,e,t,i){Zv(n.x,e.x,t.x,i?i.originX:void 0),Zv(n.y,e.y,t.y,i?i.originY:void 0)}function e0(n,e,t){n.min=t.min+e.min,n.max=n.min+vn(e)}function I2(n,e,t){e0(n.x,e.x,t.x),e0(n.y,e.y,t.y)}function t0(n,e,t){n.min=e.min-t.min,n.max=n.min+vn(e)}function Ya(n,e,t){t0(n.x,e.x,t.x),t0(n.y,e.y,t.y)}function P2(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?nt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?nt(t,n,i.max):Math.min(n,t)),n}function n0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function C2(n,{top:e,left:t,bottom:i,right:o}){return{x:n0(n.x,t,o),y:n0(n.y,e,i)}}function r0(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function R2(n,e){return{x:r0(n.x,e.x),y:r0(n.y,e.y)}}function V2(n,e){let t=.5;const i=vn(n),o=vn(e);return o>i?t=Vo(e.min,e.max-i,n.min):i>o&&(t=Vo(n.min,n.max-o,e.min)),Ur(0,1,t)}function k2(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Dd=.35;function D2(n=Dd){return n===!1?n=0:n===!0&&(n=Dd),{x:i0(n,"left","right"),y:i0(n,"top","bottom")}}function i0(n,e,t){return{min:s0(n,e),max:s0(n,t)}}function s0(n,e){return typeof n=="number"?n:n[e]||0}const o0=()=>({translate:0,scale:1,origin:0,originPoint:0}),yo=()=>({x:o0(),y:o0()}),a0=()=>({min:0,max:0}),lt=()=>({x:a0(),y:a0()});function Vn(n){return[n("x"),n("y")]}function qE({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function N2({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function M2(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Kf(n){return n===void 0||n===1}function Nd({scale:n,scaleX:e,scaleY:t}){return!Kf(n)||!Kf(e)||!Kf(t)}function os(n){return Nd(n)||WE(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function WE(n){return l0(n.x)||l0(n.y)}function l0(n){return n&&n!=="0%"}function Ic(n,e,t){const i=n-t,o=e*i;return t+o}function u0(n,e,t,i,o){return o!==void 0&&(n=Ic(n,o,i)),Ic(n,t,i)+e}function Md(n,e=0,t=1,i,o){n.min=u0(n.min,e,t,i,o),n.max=u0(n.max,e,t,i,o)}function KE(n,{x:e,y:t}){Md(n.x,e.translate,e.scale,e.originPoint),Md(n.y,t.translate,t.scale,t.originPoint)}const c0=.999999999999,h0=1.0000000000001;function L2(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,c;for(let f=0;f<o;f++){l=t[f],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&_o(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,KE(n,c)),i&&os(l.latestValues)&&_o(n,l.latestValues))}e.x<h0&&e.x>c0&&(e.x=1),e.y<h0&&e.y>c0&&(e.y=1)}function vo(n,e){n.min=n.min+e,n.max=n.max+e}function f0(n,e,t,i,o=.5){const l=nt(n.min,n.max,o);Md(n,e,t,l,i)}function _o(n,e){f0(n.x,e.x,e.scaleX,e.scale,e.originX),f0(n.y,e.y,e.scaleY,e.scale,e.originY)}function GE(n,e){return qE(M2(n.getBoundingClientRect(),e))}function b2(n,e,t){const i=GE(n,t),{scroll:o}=e;return o&&(vo(i.x,o.offset.x),vo(i.y,o.offset.y)),i}const QE=({current:n})=>n?n.ownerDocument.defaultView:null,O2=new WeakMap;class F2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(_l(v).point)},l=(v,w)=>{const{drag:T,dragPropagation:x,onDragStart:M}=this.getProps();if(T&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kC(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(L=>{let q=this.getAxisMotionValue(L).get()||0;if(fr.test(q)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const J=Q.layout.layoutBox[L];J&&(q=vn(J)*(parseFloat(q)/100))}}this.originPoint[L]=q}),M&&Xe.postRender(()=>M(v,w)),Ad(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(v,w)=>{const{dragPropagation:T,dragDirectionLock:x,onDirectionLock:M,onDrag:j}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:L}=w;if(x&&this.currentDirection===null){this.currentDirection=j2(L),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",w.point,L),this.updateAxis("y",w.point,L),this.visualElement.render(),j&&j(v,w)},f=(v,w)=>this.stop(v,w),p=()=>Vn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new BE(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:QE(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Xe.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!Wu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=P2(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=C2(o.layoutBox,t):this.constraints=!1,this.elastic=D2(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Vn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=k2(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!mo(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=b2(i,o.root,this.visualElement.getTransformPagePoint());let c=R2(o.layout.layoutBox,l);if(t){const f=t(N2(c));this.hasMutatedConstraints=!!f,f&&(c=qE(f))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},g=Vn(v=>{if(!Wu(v,t,this.currentDirection))return;let w=p&&p[v]||{};c&&(w={min:0,max:0});const T=o?200:1e6,x=o?40:1e7,M={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(v,M)});return Promise.all(g).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Ad(this.visualElement,e),i.start(em(e,i,0,t,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Vn(t=>{const{drag:i}=this.getProps();if(!Wu(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[t];l.set(e[t]-nt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!mo(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();o[c]=V2({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vn(c=>{if(!Wu(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];f.set(nt(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;O2.set(this.visualElement,this);const e=this.visualElement.current,t=Qa(e,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();mo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Xe.read(i);const c=cl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Vn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=p[v].translate,w.set(w.get()+p[v].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Dd,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Wu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function j2(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class U2 extends Ri{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new F2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const d0=n=>(e,t)=>{n&&Xe.postRender(()=>n(e,t))};class B2 extends Ri{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new BE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:d0(e),onStart:d0(t),onMove:i,onEnd:(l,c)=>{delete this.session,o&&Xe.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Qa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const La={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=p0(n,e.target.x),i=p0(n,e.target.y);return`${t}% ${i}%`}},z2={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=Ii.parse(n);if(o.length>5)return i;const l=Ii.createTransformer(n),c=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,p=t.y.scale*e.y;o[0+c]/=f,o[1+c]/=p;const g=nt(f,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),l(o)}};class $2 extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;hC(H2),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==t||t===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Xe.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XE(n){const[e,t]=kw(),i=ne.useContext(wp);return b.jsx($2,{...n,layoutGroup:i,switchLayoutGroup:ne.useContext(Fw),isPresent:e,safeToRemove:t})}const H2={borderRadius:{...La,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomLeftRadius:La,borderBottomRightRadius:La,boxShadow:z2};function q2(n,e,t){const i=Wt(n)?n:ll(n);return i.start(em("",i,e,t)),i.animation}function W2(n){return n instanceof SVGElement&&n.tagName!=="svg"}const K2=(n,e)=>n.depth-e.depth;class G2{constructor(){this.children=[],this.isDirty=!1}add(e){$p(this.children,e),this.isDirty=!0}remove(e){Hp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(K2),this.isDirty=!1,this.children.forEach(e)}}function Q2(n,e){const t=dr.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(xi(i),n(l-e))};return Xe.read(i,!0),()=>xi(i)}const YE=["TopLeft","TopRight","BottomLeft","BottomRight"],X2=YE.length,m0=n=>typeof n=="string"?parseFloat(n):n,g0=n=>typeof n=="number"||we.test(n);function Y2(n,e,t,i,o,l){o?(n.opacity=nt(0,t.opacity!==void 0?t.opacity:1,J2(i)),n.opacityExit=nt(e.opacity!==void 0?e.opacity:1,0,Z2(i))):l&&(n.opacity=nt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let c=0;c<X2;c++){const f=`border${YE[c]}Radius`;let p=y0(e,f),g=y0(t,f);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||g0(p)===g0(g)?(n[f]=Math.max(nt(m0(p),m0(g),i),0),(fr.test(g)||fr.test(p))&&(n[f]+="%")):n[f]=g}(e.rotate||t.rotate)&&(n.rotate=nt(e.rotate||0,t.rotate||0,i))}function y0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const J2=JE(0,.5,mE),Z2=JE(.5,.95,yn);function JE(n,e,t){return i=>i<n?0:i>e?1:t(Vo(n,e,i))}function v0(n,e){n.min=e.min,n.max=e.max}function Rn(n,e){v0(n.x,e.x),v0(n.y,e.y)}function _0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function w0(n,e,t,i,o){return n-=e,n=Ic(n,1/t,i),o!==void 0&&(n=Ic(n,1/o,i)),n}function eV(n,e=0,t=1,i=.5,o,l=n,c=n){if(fr.test(e)&&(e=parseFloat(e),e=nt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=nt(l.min,l.max,i);n===l&&(f-=e),n.min=w0(n.min,e,t,f,o),n.max=w0(n.max,e,t,f,o)}function E0(n,e,[t,i,o],l,c){eV(n,e[t],e[i],e[o],e.scale,l,c)}const tV=["x","scaleX","originX"],nV=["y","scaleY","originY"];function T0(n,e,t,i){E0(n.x,e,tV,t?t.x:void 0,i?i.x:void 0),E0(n.y,e,nV,t?t.y:void 0,i?i.y:void 0)}function S0(n){return n.translate===0&&n.scale===1}function ZE(n){return S0(n.x)&&S0(n.y)}function A0(n,e){return n.min===e.min&&n.max===e.max}function rV(n,e){return A0(n.x,e.x)&&A0(n.y,e.y)}function x0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function eT(n,e){return x0(n.x,e.x)&&x0(n.y,e.y)}function I0(n){return vn(n.x)/vn(n.y)}function P0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class iV{constructor(){this.members=[]}add(e){$p(this.members,e),e.scheduleRender()}remove(e){if(Hp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sV(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=t?.z||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:g,rotate:v,rotateX:w,rotateY:T,skewX:x,skewY:M}=t;g&&(i=`perspective(${g}px) ${i}`),v&&(i+=`rotate(${v}deg) `),w&&(i+=`rotateX(${w}deg) `),T&&(i+=`rotateY(${T}deg) `),x&&(i+=`skewX(${x}deg) `),M&&(i+=`skewY(${M}deg) `)}const f=n.x.scale*e.x,p=n.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const as={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},za=typeof window<"u"&&window.MotionDebug!==void 0,Gf=["","X","Y","Z"],oV={visibility:"hidden"},C0=1e3;let aV=0;function Qf(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function tT(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=lE(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Xe,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&tT(i)}function nT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},f=e?.()){this.id=aV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,za&&(as.totalNodes=as.resolvedTargetDeltas=as.recalculatedProjection=0),this.nodes.forEach(cV),this.nodes.forEach(mV),this.nodes.forEach(gV),this.nodes.forEach(hV),za&&window.MotionDebug.record(as)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new G2)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new qp),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=W2(c),this.instance=c;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(g||p)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=Q2(T,250),rc.hasAnimatedSinceResize&&(rc.hasAnimatedSinceResize=!1,this.nodes.forEach(V0))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:x,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||v.getDefaultTransition()||EV,{onLayoutAnimationStart:L,onLayoutAnimationComplete:q}=v.getProps(),Q=!this.targetLayout||!eT(this.targetLayout,M)||x,J=!T&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||J||T&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,J);const se={...jp(j,"layout"),onPlay:L,onComplete:q};(v.shouldReduceMotion||this.options.layoutRoot)&&(se.delay=0,se.type=!1),this.startAnimation(se)}else T||V0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R0);return}this.isUpdating||this.nodes.forEach(dV),this.isUpdating=!1,this.nodes.forEach(pV),this.nodes.forEach(lV),this.nodes.forEach(uV),this.clearAllSnapshots();const f=dr.now();Mt.delta=Ur(0,1e3/60,f-Mt.timestamp),Mt.timestamp=f,Mt.isProcessing=!0,Ff.update.process(Mt),Ff.preRender.process(Mt),Ff.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fV),this.sharedNodes.forEach(vV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!ZE(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&(f||os(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),TV(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return lt();const p=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(SV))){const{scroll:v}=this.root;v&&(vo(p.x,v.offset.x),vo(p.y,v.offset.y))}return p}removeElementScroll(c){var f;const p=lt();if(Rn(p,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return p;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:w,options:T}=v;v!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Rn(p,c),vo(p.x,w.offset.x),vo(p.y,w.offset.y))}return p}applyTransform(c,f=!1){const p=lt();Rn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&_o(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),os(v.latestValues)&&_o(p,v.latestValues)}return os(this.latestValues)&&_o(p,this.latestValues),p}removeTransform(c){const f=lt();Rn(f,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!os(g.latestValues))continue;Nd(g.latestValues)&&g.updateSnapshot();const v=lt(),w=g.measurePageBox();Rn(v,w),T0(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return os(this.latestValues)&&T0(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Ya(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),I2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),KE(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Ya(this.relativeTargetOrigin,this.target,x.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}za&&as.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nd(this.parent.latestValues)||WE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let g=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(g=!1),g)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Rn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,x=this.treeScale.y;L2(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=lt());const{target:M}=f;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_0(this.prevProjectionDelta.x,this.projectionDelta.x),_0(this.prevProjectionDelta.y,this.projectionDelta.y)),Xa(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==x||!P0(this.projectionDelta.x,this.prevProjectionDelta.x)||!P0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M)),za&&as.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yo(),this.projectionDelta=yo(),this.projectionDeltaWithTransform=yo()}setAnimationOrigin(c,f=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},w=yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=lt(),x=p?p.source:void 0,M=this.layout?this.layout.source:void 0,j=x!==M,L=this.getStack(),q=!L||L.members.length<=1,Q=!!(j&&!q&&this.options.crossfade===!0&&!this.path.some(wV));this.animationProgress=0;let J;this.mixTargetDelta=se=>{const ie=se/1e3;k0(w.x,c.x,ie),k0(w.y,c.y,ie),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ya(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_V(this.relativeTarget,this.relativeTargetOrigin,T,ie),J&&rV(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=lt()),Rn(J,this.relativeTarget)),j&&(this.animationValues=v,Y2(v,g,this.latestValues,ie,Q,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{rc.hasAnimatedSinceResize=!0,this.currentAnimation=q2(0,C0,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:g,latestValues:v}=c;if(!(!f||!p||!g)){if(this!==c&&this.layout&&g&&rT(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||lt();const w=vn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const T=vn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+T}Rn(f,p),_o(f,v),Xa(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new iV),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const g={};p.z&&Qf("z",c,g,this.animationValues);for(let v=0;v<Gf.length;v++)Qf(`rotate${Gf[v]}`,c,g,this.animationValues),Qf(`skew${Gf[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}getProjectionStyles(c){var f,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oV;const g={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=tc(c?.pointerEvents)||"",g.transform=v?v(this.latestValues,""):"none",g;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=tc(c?.pointerEvents)||""),this.hasProjected&&!os(this.latestValues)&&(j.transform=v?v({},""):"none",this.hasProjected=!1),j}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),g.transform=sV(this.projectionDeltaWithTransform,this.treeScale,T),v&&(g.transform=v(T,g.transform));const{x,y:M}=this.projectionDelta;g.transformOrigin=`${x.origin*100}% ${M.origin*100}% 0`,w.animationValues?g.opacity=w===this?(p=(f=T.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:g.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const j in Ec){if(T[j]===void 0)continue;const{correct:L,applyTo:q}=Ec[j],Q=g.transform==="none"?T[j]:L(T[j],w);if(q){const J=q.length;for(let se=0;se<J;se++)g[q[se]]=Q}else g[j]=Q}return this.options.layoutId&&(g.pointerEvents=w===this?tc(c?.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(R0),this.root.sharedNodes.clear()}}}function lV(n){n.updateLayout()}function uV(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?Vn(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],x=vn(T);T.min=i[w].min,T.max=T.min+x}):rT(l,t.layoutBox,i)&&Vn(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],x=vn(i[w]);T.max=T.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+x)});const f=yo();Xa(f,i,t.layoutBox);const p=yo();c?Xa(p,n.applyTransform(o,!0),t.measuredBox):Xa(p,i,t.layoutBox);const g=!ZE(f);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:x}=w;if(T&&x){const M=lt();Ya(M,t.layoutBox,T.layoutBox);const j=lt();Ya(j,i,x.layoutBox),eT(M,j)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=M,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:g,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function cV(n){za&&as.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function hV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function fV(n){n.clearSnapshot()}function R0(n){n.clearMeasurements()}function dV(n){n.isLayoutDirty=!1}function pV(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function V0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function mV(n){n.resolveTargetDelta()}function gV(n){n.calcProjection()}function yV(n){n.resetSkewAndRotation()}function vV(n){n.removeLeadSnapshot()}function k0(n,e,t){n.translate=nt(e.translate,0,t),n.scale=nt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function D0(n,e,t,i){n.min=nt(e.min,t.min,i),n.max=nt(e.max,t.max,i)}function _V(n,e,t,i){D0(n.x,e.x,t.x,i),D0(n.y,e.y,t.y,i)}function wV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const EV={duration:.45,ease:[.4,0,.1,1]},N0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),M0=N0("applewebkit/")&&!N0("chrome/")?Math.round:yn;function L0(n){n.min=M0(n.min),n.max=M0(n.max)}function TV(n){L0(n.x),L0(n.y)}function rT(n,e,t){return n==="position"||n==="preserve-aspect"&&!x2(I0(e),I0(t),.2)}function SV(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const AV=nT({attachResizeListener:(n,e)=>cl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xf={current:void 0},iT=nT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Xf.current){const n=new AV({});n.mount(window),n.setOptions({layoutScroll:!0}),Xf.current=n}return Xf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xV={pan:{Feature:B2},drag:{Feature:U2,ProjectionNode:iT,MeasureLayout:XE}};function b0(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Xe.postRender(()=>l(e,_l(e)))}class IV extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=IC(e,t=>(b0(this.node,t,"Start"),i=>b0(this.node,i,"End"))))}unmount(){}}class PV extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vl(cl(this.node.current,"focus",()=>this.onFocus()),cl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O0(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Xe.postRender(()=>l(e,_l(e)))}class CV extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=VC(e,t=>(O0(this.node,t,"Start"),(i,{success:o})=>O0(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ld=new WeakMap,Yf=new WeakMap,RV=n=>{const e=Ld.get(n.target);e&&e(n)},VV=n=>{n.forEach(RV)};function kV({root:n,...e}){const t=n||document;Yf.has(t)||Yf.set(t,{});const i=Yf.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(VV,{root:n,...e})),i[o]}function DV(n,e,t){const i=kV(e);return Ld.set(n,t),i.observe(n),()=>{Ld.delete(n),i.unobserve(n)}}const NV={some:0,all:1};class MV extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:NV[o]},f=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),T=g?v:w;T&&T(p)};return DV(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(LV(e,t))&&this.startObserver()}unmount(){}}function LV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const sT={inView:{Feature:MV},tap:{Feature:CV},focus:{Feature:PV},hover:{Feature:IV}},bV={layout:{ProjectionNode:iT,MeasureLayout:XE}},bd={current:null},oT={current:!1};function OV(){if(oT.current=!0,!!Sp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>bd.current=n.matches;n.addListener(e),e()}else bd.current=!1}const FV=[...RE,$t,Ii],jV=n=>FV.find(CE(n)),F0=new WeakMap;function UV(n,e,t){for(const i in e){const o=e[i],l=t[i];if(Wt(o))n.addValue(i,o);else if(Wt(l))n.addValue(i,ll(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(i);n.addValue(i,ll(c!==void 0?c:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const j0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BV{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=dr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Xe.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:v}=c;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Gc(t),this.isVariantNode=bw(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in T){const M=T[x];p[x]!==void 0&&Wt(M)&&M.set(p[x],!1)}}mount(e){this.current=e,F0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),oT.current||OV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){F0.delete(this.current),this.projection&&this.projection.unmount(),xi(this.notifyUpdate),xi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ys.has(e),o=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ko){const t=ko[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<j0.length;i++){const o=j0[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=UV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=ll(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(IE(o)||yE(o))?o=parseFloat(o):!jV(o)&&Ii.test(t)&&(o=SE(e,t)),this.setBaseTarget(e,Wt(o)?o.get():o)),Wt(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const c=kp(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(o=c[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Wt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new qp),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class aT extends BV{constructor(){super(...arguments),this.KeyframeResolver=VE}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function zV(n){return window.getComputedStyle(n)}class $V extends aT{constructor(){super(...arguments),this.type="html",this.renderInstance=qw}readValueFromInstance(e,t){if(ys.has(t)){const i=Xp(t);return i&&i.default||0}else{const i=zV(e),o=(zw(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return GE(e,t)}build(e,t,i){Mp(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Fp(e,t,i)}}class HV extends aT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ys.has(t)){const i=Xp(t);return i&&i.default||0}return t=Ww.has(t)?t:Cp(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return Qw(e,t,i)}build(e,t,i){Lp(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){Kw(e,t,i,o)}mount(e){this.isSVGTag=Op(e.tagName),super.mount(e)}}const lT=(n,e)=>Vp(n)?new HV(e):new $V(e,{allowProjection:n!==ne.Fragment}),qV=wC({...UE,...sT,...xV,...bV},lT),gn=LP(qV),WV={renderer:lT,...UE,...sT},KV={some:0,all:1};function GV(n,e,{root:t,margin:i,amount:o="some"}={}){const l=rE(n),c=new WeakMap,f=g=>{g.forEach(v=>{const w=c.get(v.target);if(v.isIntersecting!==!!w)if(v.isIntersecting){const T=e(v);typeof T=="function"?c.set(v.target,T):p.unobserve(v.target)}else typeof w=="function"&&(w(v),c.delete(v.target))})},p=new IntersectionObserver(f,{root:t,rootMargin:i,threshold:typeof o=="number"?o:KV[o]});return l.forEach(g=>p.observe(g)),()=>p.disconnect()}function tm(n,{root:e,margin:t,amount:i,once:o=!1}={}){const[l,c]=ne.useState(!1);return ne.useEffect(()=>{if(!n.current||o&&l)return;const f=()=>(c(!0),o?void 0:()=>c(!1)),p={root:e&&e.current||void 0,margin:t,amount:i};return GV(n.current,f,p)},[e,n,t,o,i]),l}const QV=()=>b.jsx("style",{children:`
        /* REFINED: A softer, more modern glass effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 1rem;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        /* REFINED: Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }
        /* ADMIN PANEL STYLES */
        .input-field {
            width: 100%;
            background-color: rgb(249 250 251 / 1); /* bg-gray-50 */
            border: 1px solid rgb(209 213 219 / 1); /* border-gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 0.75rem 1rem;
            color: rgb(17 24 39 / 1); /* text-gray-900 */
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        .btn-primary {
            background-image: linear-gradient(to right, #3b82f6, #14b8a6);
            color: white;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }
        .btn-secondary {
            background-color: transparent;
            border: 1px solid #d1d5db;
            color: #4b5563;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .btn-secondary:hover {
            background-color: #e5e7eb;
        }
    `}),XV=()=>b.jsx("div",{className:"flex justify-center items-center h-screen bg-[#fdfcf9]",children:b.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-teal-500"})}),wl=({children:n,id:e,className:t="",animateInView:i=!0})=>{const o=ne.useRef(null),l=tm(o,{once:!0,amount:.2});return b.jsx(gn.section,{id:e,ref:o,initial:i?{opacity:0,y:50}:!1,animate:i?{opacity:l?1:0,y:l?0:50}:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:`py-20 md:py-24 min-h-[50vh] ${t}`,children:n})},El=()=>{const n=ne.useRef(null),e=tm(n,{once:!0,amount:.5});return b.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:b.jsx(gn.div,{className:"h-full bg-gradient-to-r from-blue-500 to-teal-400 rounded-full",initial:{scaleX:0},animate:{scaleX:e?1:0},transition:{duration:1,ease:"easeOut"},style:{transformOrigin:"center"}})})},Ku=()=>b.jsx("div",{className:"my-8 md:my-12",children:b.jsx("hr",{className:"border-t border-gray-200/80 max-w-4xl mx-auto"})}),YV=()=>b.jsx(gn.header,{initial:{y:-100},animate:{y:0},transition:{duration:.8,ease:"easeOut"},className:"bg-white/70 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200/80",children:b.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[b.jsx("a",{href:"#home",className:"text-2xl font-bold text-gray-800 hover:text-blue-500 transition-colors",children:"Mr.Coss"}),b.jsxs("div",{className:"hidden md:flex space-x-8 items-center text-gray-600 font-medium",children:[b.jsx("a",{href:"#about",className:"hover:text-blue-500 transition-colors",children:"About"}),b.jsx("a",{href:"#experience",className:"hover:text-blue-500 transition-colors",children:"Experience"}),b.jsx("a",{href:"#skills",className:"hover:text-blue-500 transition-colors",children:"Skills"}),b.jsx("a",{href:"#projects",className:"hover:text-blue-500 transition-colors",children:"Projects"}),b.jsx("a",{href:"#certifications",className:"hover:text-blue-500 transition-colors",children:"Certificates"}),b.jsx("a",{href:"#contact",className:"hover:text-blue-500 transition-colors",children:"Contact"})]})]})}),JV=()=>b.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden bg-[#fcfaf7]",children:b.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[b.jsxs(gn.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"md:col-span-3",children:[b.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-800 mb-4",children:[b.jsx("span",{className:"block mb-2 text-xl font-normal text-gray-500",children:"Hello, I'm"}),"Costas Pinto"]}),b.jsx("p",{className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400",children:"Data Science & ML Enthusiast"}),b.jsx("p",{className:"max-w-xl text-gray-600 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4",children:[b.jsxs(gn.a,{href:"#",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-teal-400 text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-blue-500/20 transition-all hover:shadow-xl",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",children:b.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),b.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-800 transition-colors",children:b.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]})]})]}),b.jsx(gn.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,type:"spring"},className:"md:col-span-2 flex justify-center items-center relative",children:b.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px] flex items-center justify-center",children:[b.jsx(gn.div,{animate:{rotate:360},transition:{duration:40,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-tr from-blue-200 via-teal-200 to-blue-300 rounded-full opacity-40 blur-3xl"}),b.jsx("div",{className:"relative z-10 flex justify-center items-center",children:b.jsx("img",{src:"./assets/Costas.png",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain z-10"})})]})})]})}),ZV=()=>b.jsxs(wl,{id:"about",children:[b.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"About Me"}),b.jsx(El,{}),b.jsx("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:b.jsx("p",{className:"text-lg leading-relaxed text-gray-700 text-center",children:"As a current MCA student at Manipal University, Jaipur, with a Bachelor's in Computer Science, I am deeply engaged in the world of data analytics and machine learning. My internship at SkillFied Mentor provided a strong foundation in data exploration, visualization, and interpretation using tools like Python, Excel, and Power BI. I am passionate about leveraging technology to make complex subjects accessible, a skill I've honed as the founder of JHT SMART STEPS LEARNING. I am eager to apply my analytical skills to new challenges in the AI and ML space."})})]}),U0=({date:n,title:e,company:t,details:i})=>b.jsxs(gn.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-blue-200",children:[b.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-500 to-teal-400 rounded-full border-4 border-white"}),b.jsx("p",{className:"text-gray-500 mb-1 font-medium",children:n}),b.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e}),b.jsx("p",{className:"text-lg text-teal-600 font-semibold mb-3",children:t}),b.jsx("ul",{className:"list-disc list-inside text-gray-600 space-y-2",children:i.map((o,l)=>b.jsx("li",{children:o},l))})]}),ek=()=>b.jsxs(wl,{id:"experience",children:[b.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"Experience"}),b.jsx(El,{}),b.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[b.jsx(U0,{date:"Jul 2025 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables.","Collaborated with a cross-functional team to build dashboards and reports."]}),b.jsx(U0,{date:"Aug 2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]})]})]}),tk=()=>{const n=ne.useRef(null),e=tm(n,{once:!0,amount:.3}),t=[{name:"Python",level:95},{name:"Data Analysis",level:90},{name:"Power BI",level:85},{name:"Machine Learning",level:80},{name:"SQL",level:88},{name:"Excel",level:92}];return b.jsxs(wl,{id:"skills",children:[b.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"My Skills"}),b.jsx(El,{}),b.jsx("div",{ref:n,className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((i,o)=>b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between mb-1",children:[b.jsx("span",{className:"text-lg font-semibold text-gray-700",children:i.name}),b.jsxs("span",{className:"text-sm font-medium text-teal-600",children:[i.level,"%"]})]}),b.jsx("div",{className:"bg-gray-200 w-full rounded-full h-2.5",children:b.jsx(gn.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-teal-400",initial:{width:0},animate:{width:e?`${i.level}%`:0},transition:{duration:1,delay:.1*o,ease:"easeOut"}})})]},i.name))})})]})},nk=({projects:n})=>b.jsxs(wl,{id:"projects",animateInView:!1,children:[b.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"My Projects"}),b.jsx(El,{}),b.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:n.length>0?b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>b.jsxs(gn.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},whileHover:{y:-8,scale:1.03,transition:{type:"spring",stiffness:300}},className:"p-6 flex flex-col rounded-2xl glass-card overflow-hidden",children:[b.jsx("img",{src:e.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:e.title,className:"rounded-lg mb-4 aspect-video object-cover border border-gray-200/50"}),b.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e.title}),b.jsx("p",{className:"text-gray-600 flex-grow mb-4",children:e.description}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags?.map(i=>b.jsx("span",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full",children:i},i))}),e.projectLink&&b.jsx("a",{href:e.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-blue-600 border border-blue-500 rounded-full py-2 px-4 hover:bg-blue-500 hover:text-white transition-all duration-300",children:"View Project"})]},e.id))}):b.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:b.jsx("p",{className:"text-center text-gray-600 text-lg",children:"No projects found. Please add some projects from the admin panel."})})})]}),rk=({licensesPdfUrl:n,internshipsPdfUrl:e})=>b.jsxs(wl,{id:"certifications",children:[b.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"Certificates"}),b.jsx(El,{}),b.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[b.jsx(gn.a,{href:n||"#",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-500 to-teal-400 ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Licenses & Certs"}),b.jsx(gn.a,{href:e||"#",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-500 to-teal-400 ${!e&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certs"})]})]}),ik=()=>b.jsx("footer",{id:"contact",className:"bg-gray-100 border-t border-gray-200 mt-20",children:b.jsxs("div",{className:"container mx-auto px-6 py-16 text-center",children:[b.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Let's Connect"}),b.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mb-8",children:"Have a project in mind, a question, or just want to say hi? My inbox is always open."}),b.jsx("a",{href:"mailto:costaspinto312@gmail.com",className:"inline-block text-2xl font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400 hover:opacity-80 transition-opacity",children:"costaspinto312@gmail.com"}),b.jsx("div",{className:"border-t border-gray-200 mt-12 pt-8 text-gray-500",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})})]})}),sk=({onLogin:n,message:e})=>{const[t,i]=ne.useState(""),o=l=>{l.preventDefault(),n(t==="admin123")};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:b.jsxs("form",{onSubmit:o,className:"p-8 rounded-2xl w-full max-w-sm glass-card",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-6",children:"Admin Login"}),b.jsx("input",{type:"password",value:t,onChange:l=>i(l.target.value),placeholder:"Password",className:"w-full bg-gray-50 border border-gray-300 rounded-lg py-3 px-4 mb-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),b.jsx("button",{type:"submit",className:"w-full text-white font-bold py-3 px-6 rounded-lg bg-gradient-to-r from-blue-500 to-teal-400",children:"Login"}),e&&b.jsx("p",{className:"text-red-500 text-center mt-4",children:e})]})})},ok=({db:n,fetchProjects:e,existingProject:t,onDone:i})=>{const[o,l]=ne.useState({title:t?.title||"",description:t?.description||"",tags:Array.isArray(t?.tags)?t.tags.join(", "):t?.tags||"",projectLink:t?.projectLink||"",imageUrl:t?.imageUrl||""}),[c,f]=ne.useState(""),p=!!t,g=w=>{const{name:T,value:x}=w.target;l(M=>({...M,[T]:x}))},v=async w=>{w.preventDefault(),f(p?"Updating...":"Adding...");const T=(o.tags||"").split(",").map(M=>M.trim()).filter(M=>M.length>0),x={...o,tags:T};try{p?await _P(Ro(n,"projects",t.id),x):await EP(ww(n,"projects"),x),f(`Project ${p?"updated":"added"} successfully!`),e(),setTimeout(()=>i(),1500)}catch(M){console.error(M),f(`Error: ${M.message}`)}};return b.jsxs("div",{className:"p-8 rounded-2xl glass-card",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:p?"Edit Project":"Add New Project"}),b.jsxs("form",{onSubmit:v,className:"space-y-4",children:[b.jsx("input",{type:"text",name:"title",placeholder:"Project Title",value:o.title,onChange:g,className:"input-field",required:!0}),b.jsx("textarea",{name:"description",placeholder:"Description",value:o.description,onChange:g,className:"input-field",required:!0}),b.jsx("input",{type:"text",name:"tags",placeholder:"Tags (comma-separated)",value:o.tags,onChange:g,className:"input-field"}),b.jsx("input",{type:"url",name:"projectLink",placeholder:"Project Link (URL)",value:o.projectLink,onChange:g,className:"input-field"}),b.jsx("input",{type:"url",name:"imageUrl",placeholder:"Image URL (e.g., from Imgur, Cloudinary)",value:o.imageUrl,onChange:g,className:"input-field"}),b.jsx("button",{type:"submit",className:"btn-primary w-full",children:p?"Update Project":"Add Project"}),b.jsx("button",{type:"button",onClick:i,className:"btn-secondary w-full",children:"Cancel"}),c&&b.jsx("p",{className:"text-center mt-4 text-blue-700",children:c})]})]})},ak=({db:n,projects:e,fetchProjects:t})=>{const[i,o]=ne.useState(null),[l,c]=ne.useState(""),[f,p]=ne.useState(""),[g,v]=ne.useState("");if(i)return b.jsx(ok,{db:n,fetchProjects:t,existingProject:i,onDone:()=>o(null)});const w=async x=>{c("Deleting...");try{await wP(Ro(n,"projects",x)),c("Project deleted."),t()}catch(M){c(`Error: ${M.message}`)}},T=async(x,M,j)=>{x.preventDefault(),c(`Updating ${j}...`);try{await vP(Ro(n,"portfolioAssets",j),{pdfUrl:M}),c(`${j} link updated.`),j==="licenses"&&p(""),j==="internships"&&v("")}catch(L){c(`Error: ${L.message}`)}};return b.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"p-8 rounded-2xl glass-card lg:col-span-2",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Manage Projects"}),b.jsx("button",{onClick:()=>o({}),className:"btn-primary mb-4",children:"Add New Project"}),b.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:b.jsx(PP,{children:e.map(x=>b.jsxs(gn.div,{layout:!0,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"flex justify-between items-center bg-white/50 p-3 rounded-lg",children:[b.jsx("span",{className:"text-gray-700 font-medium",children:x.title}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>o(x),className:"text-blue-500 hover:underline",children:"Edit"}),b.jsx("button",{onClick:()=>w(x.id),className:"text-red-500 hover:underline",children:"Delete"})]})]},x.id))})})]}),b.jsxs("div",{className:"p-8 rounded-2xl glass-card",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Update PDFs"}),b.jsxs("form",{onSubmit:x=>T(x,f,"licenses"),className:"space-y-4 mb-6",children:[b.jsx("input",{type:"url",placeholder:"Licenses & Certs PDF Link",value:f,onChange:x=>p(x.target.value),className:"input-field",required:!0}),b.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Update Licenses"})]}),b.jsxs("form",{onSubmit:x=>T(x,g,"internships"),className:"space-y-4",children:[b.jsx("input",{type:"url",placeholder:"Internships PDF Link",value:g,onChange:x=>v(x.target.value),className:"input-field",required:!0}),b.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Update Internships"})]})]}),l&&b.jsx("p",{className:"text-center p-3 rounded-lg bg-blue-500/10 text-blue-700 lg:col-span-2",children:l})]})},lk=({db:n,projects:e,fetchProjects:t})=>{const[i,o]=ne.useState(!1),[l,c]=ne.useState(""),f=p=>{o(p),p||c("Incorrect password.")};return b.jsx("div",{className:"bg-[#fdfcf9] min-h-screen",children:b.jsxs("div",{className:"container mx-auto px-6 py-12",children:[b.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center mb-12",children:"Admin Dashboard"}),i?b.jsx(ak,{db:n,projects:e,fetchProjects:t}):b.jsx(sk,{onLogin:f,message:l})]})})},uk={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},ck=Q0(uk),Gu=sP(ck);function hk(){const[n,e]=ne.useState("home"),[t,i]=ne.useState([]),[o,l]=ne.useState(""),[c,f]=ne.useState(""),[p,g]=ne.useState(!0),v=async()=>{try{const x=(await yP(ww(Gu,"projects"))).docs.map(L=>({id:L.id,...L.data()}));i(x);const M=await Av(Ro(Gu,"portfolioAssets","licenses"));M.exists()&&l(M.data().pdfUrl);const j=await Av(Ro(Gu,"portfolioAssets","internships"));j.exists()&&f(j.data().pdfUrl)}catch(T){console.error("Error fetching data: ",T)}finally{g(!1)}};if(ne.useEffect(()=>{v();const T=()=>{const x=window.location.hash.replace("#","");e(x==="admin"?"admin":"home")};return window.addEventListener("hashchange",T,!1),T(),()=>window.removeEventListener("hashchange",T)},[]),p)return b.jsx(XV,{});const w=()=>n==="admin"?b.jsx(lk,{db:Gu,projects:t,fetchProjects:v}):b.jsxs(b.Fragment,{children:[b.jsx(YV,{}),b.jsxs("main",{className:"relative z-10",children:[b.jsx(JV,{}),b.jsxs("div",{className:"container mx-auto px-6",children:[b.jsx(ZV,{}),b.jsx(Ku,{}),b.jsx(ek,{}),b.jsx(Ku,{}),b.jsx(tk,{}),b.jsx(Ku,{}),b.jsx(nk,{projects:t}),b.jsx(Ku,{}),b.jsx(rk,{licensesPdfUrl:o,internshipsPdfUrl:c})]})]}),b.jsx(ik,{})]});return b.jsx(kP,{features:WV,children:b.jsxs("div",{className:"bg-[#fcfaf7] text-gray-800 font-sans overflow-x-hidden overflow-y-auto min-h-screen",children:[b.jsx(QV,{}),w()]})})}T1.createRoot(document.getElementById("root")).render(b.jsx(m1.StrictMode,{children:b.jsx(hk,{})}));
